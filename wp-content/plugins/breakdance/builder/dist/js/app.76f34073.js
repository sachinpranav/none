(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"018f":function(e,t,n){"use strict";var a=n("444f"),i=n.n(a);i.a},"019d":function(e,t,n){"use strict";var a=n("0a4d"),i=n.n(a);i.a},"0519":function(e,t,n){"use strict";var a=n("3bf1"),i=n.n(a);i.a},"0780":function(e,t,n){},"07f2":function(e,t,n){"use strict";var a=n("6898"),i=n.n(a);i.a},"09c2":function(e,t,n){"use strict";var a=n("ccbe"),i=n.n(a);i.a},"0a4d":function(e,t,n){},"0b81":function(e,t,n){},"115b":function(e,t,n){},"12f5":function(e,t,n){},1315:function(e,t,n){},1319:function(e,t,n){},"139f":function(e,t,n){},1738:function(e,t,n){"use strict";var a=n("29ef"),i=n.n(a);i.a},"186f":function(e,t,n){},"1a3d":function(e,t,n){},"1bec":function(e,t,n){},"1e8d":function(e,t,n){},"1fb2":function(e,t,n){},"1fb7":function(e,t,n){},2028:function(e,t,n){},"20d3":function(e,t,n){},"267c":function(e,t,n){},"27bd":function(e,t,n){"use strict";var a=n("6e06"),i=n.n(a);i.a},"296d":function(e,t,n){"use strict";var a=n("7843"),i=n.n(a);i.a},"29ef":function(e,t,n){},"2b91":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n("82c6"),i=n("f57e");function r(e,t){return Object(a["w"])((function(e,n){return n[e.id]=t,n}),e.root,{})}function o(e,t){var n=Object(a["m"])(e,t);if(n)return Object(a["u"])((function(e,t){return t[e.id]=!0,t}),e,n,{})}function s(e){return!1===i["h"].structurePanelNodesExpandedState[e]}function l(e){return void 0===i["h"].structurePanelNodesExpandedState[e]||!0===i["h"].structurePanelNodesExpandedState[e]}},"30a4":function(e,t,n){},3217:function(e,t,n){},"327a":function(e,t,n){"use strict";var a=n("deb6"),i=n.n(a);i.a},3324:function(e,t,n){},3865:function(e,t,n){"use strict";var a=n("b914"),i=n.n(a);i.a},"399d":function(e,t,n){},"3a49":function(e,t,n){},"3bf1":function(e,t,n){},"3c84":function(e,t,n){"use strict";var a=n("b6db"),i=n.n(a);i.a},"3c86":function(e,t,n){},"429b":function(e,t,n){"use strict";var a=n("186f"),i=n.n(a);i.a},"42fd":function(e,t,n){},"443c":function(e,t,n){"use strict";var a=n("f173"),i=n.n(a);i.a},"444f":function(e,t,n){},"44c1":function(e,t,n){"use strict";var a=n("860c"),i=n.n(a);i.a},"45b5":function(e,t,n){},"467f":function(e,t,n){"use strict";var a=n("8fa8"),i=n.n(a);i.a},"46b5":function(e,t,n){"use strict";var a=n("c2a7"),i=n.n(a);i.a},"4b3f":function(e,t,n){"use strict";var a=n("f8a4"),i=n.n(a);i.a},"4e9a":function(e,t,n){"use strict";var a=n("8bd3"),i=n.n(a);i.a},"4f37":function(e,t,n){"use strict";var a=n("7a01"),i=n.n(a);i.a},5283:function(e,t,n){"use strict";var a=n("12f5"),i=n.n(a);i.a},5354:function(e,t,n){},"535e":function(e,t,n){},5392:function(e,t,n){},"55b4":function(e,t,n){},5714:function(e,t,n){"use strict";var a=n("55b4"),i=n.n(a);i.a},5834:function(e,t,n){"use strict";var a=n("115b"),i=n.n(a);i.a},"589b":function(e,t,n){"use strict";var a=n("267c"),i=n.n(a);i.a},"5c0b":function(e,t,n){"use strict";var a=n("7694"),i=n.n(a);i.a},"5c31":function(e,t,n){"use strict";var a=n("f9bc"),i=n.n(a);i.a},"5d0d":function(e,t,n){},"5fd6":function(e,t,n){},6898:function(e,t,n){},"6ded":function(e,t,n){"use strict";var a=n("b393"),i=n.n(a);i.a},"6e06":function(e,t,n){},"707c":function(e,t,n){},"708b":function(e,t,n){"use strict";var a=n("5392"),i=n.n(a);i.a},"70e8":function(e,t,n){"use strict";var a=n("b279"),i=n.n(a);i.a},"716d":function(e,t,n){"use strict";var a=n("5354"),i=n.n(a);i.a},"71d3":function(e,t,n){"use strict";var a=n("86d8"),i=n.n(a);i.a},7256:function(e,t,n){"use strict";var a=n("1e8d"),i=n.n(a);i.a},7427:function(e,t,n){},7694:function(e,t,n){},7843:function(e,t,n){},"78ea":function(e,t,n){"use strict";var a=n("c354"),i=n.n(a);i.a},"7a01":function(e,t,n){},"7a63":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"structure-node-children"},[e._l(e.nodes,(function(t){return[n("StructureNode",{key:t.id,attrs:{element:t,depth:e.depth}})]}))],2)},i=[],r=n("d4ec"),o=n("2caf"),s=n("262e"),l=n("9ab4"),c=n("2b0e"),u=n("60a3"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"structure-node":!0,"breakdance--currently-dragging":this.currentlyDragging},attrs:{"data-element-id":e.element.id}},[n("div",{staticClass:"structure-node-title-wrapper"},[n("div",{staticClass:"structure-node-title",class:e.activeClass,style:e.indentStyle,on:{click:e.activateElement}},[n("div",{staticClass:"structure-node-title-real"},[n("div",{staticClass:"structure-node-toggle-wrapper"},[e.element.children.length?n("Icon",{staticClass:"structure-node-action__icon",attrs:{icon:"CaretDownIcon",size:"10",rotate:e.shouldShowChildrenNodes?void 0:"270"},on:{click:function(t){return t.stopPropagation(),e.toggleChildren(t)}}}):e._e()],1),n("div",{class:{"structure-node-title-real-real":!0,"structure-panel-editing-friendly-name":e.editingFriendlyName}},[n("ElementIcon",{staticClass:"structure-node-icon",attrs:{icon:e.baseElement.uiIcon,size:"12"}}),n("div",{staticClass:"element-title-text",attrs:{title:e.friendlyNameInputValue||e.elementName}},[e.editingFriendlyName?e._e():n("span",{staticClass:"element-title-name ellipsis-text",on:{dblclick:e.enableEditingFriendlyName}},[e._v(" "+e._s(e.friendlyNameInputValue||e.elementName)+" ")]),e.editingFriendlyName?n("input",{ref:"friendlyNameInputRef",staticClass:"element-custom-name-input",attrs:{size:e.friendlyNameInputValue,spellcheck:"false"},domProps:{value:e.friendlyNameInputValue},on:{input:function(t){return e.updateFriendlyName(t.target.value)},keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.showElementNameFallback=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableEditing(t)}],blur:e.disableEditing,mousedown:function(t){return t.stopPropagation(),e.noop(t)},contextmenu:function(t){return t.stopPropagation(),e.noop(t)}}}):e._e(),e.isDraftSection&&!e.editingFriendlyName?n("span",{staticClass:"element-title__meta"},[e._v(" (Draft) ")]):e._e(),e.isShowingIdsInStructurePanel&&!e.editingFriendlyName?n("span",{staticClass:"element-title__meta"},[e._v(" #"+e._s(e.element.id)+" ")]):e._e()]),e.editingFriendlyName?e._e():n("div",{staticClass:"structure-node-actions__wrapper"},[n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"BarsIcon",title:"Open menu"},on:{click:e.showContextMenu}}),n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{icon:"DuplicateIcon",title:"Duplicate element"},on:{click:e.duplicate}}),n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"TrashIcon",title:"Delete element"},on:{click:e.remove}})],1)],1)])]),n("div",{staticClass:"nest-deeper",style:e.nestDeeperStyle,attrs:{"data-element-id":e.element.id}}),n("div",{staticClass:"nest-shallower",style:e.nestShallowerStyle,attrs:{"data-element-id":e.element.id}}),n("div",{staticClass:"top-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}}),n("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}})]),e.shouldShowChildrenNodes?n("ChildStructureNodes",{attrs:{nodes:e.element.children,depth:e.depth+1}}):e._e()],1)},p=[],v=(n("b0c0"),n("498a"),n("bee2")),h=n("b850"),m=n("bedf"),f=n("bb26"),b=n("25c8"),g=n("dbcc"),y=n("920b"),O=n("2b91"),k=n("2fb0"),j=n("2ef0"),S=n.n(j),C=n("0024"),x=16,w=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showElementNameFallback=!0,e.editingFriendlyName=!1,e}return Object(v["a"])(a,[{key:"beforeCreate",value:function(){this.$options.components.ChildStructureNodes=n("7a63").default}},{key:"activateElement",value:function(){h["g"].activateElement(this.element.id),Object(y["k"])("elementproperties")!==Object(y["k"])("structure")&&Object(y["e"])("elementproperties")}},{key:"duplicate",value:function(){h["d"].duplicateElementAndActivateIt(this.element.id)}},{key:"showContextMenu",value:function(e){h["g"].setOnStructurePanelRightClickMenuState({elementId:this.element.id,position:{x:e.clientX,y:e.clientY}})}},{key:"remove",value:function(){h["d"].deleteElement({nodeId:this.element.id})}},{key:"toggleChildren",value:function(){var e=Object(m["a"])(h["g"].structurePanelNodesExpandedState);e[this.element.id]=!this.shouldShowChildrenNodes,h["g"].setStructurePanelNodesExpandedState(e)}},{key:"enableEditingFriendlyName",value:function(){var e=this;this.editingFriendlyName=!0,Object(C["a"])((function(){e.$refs.friendlyNameInputRef.focus(),e.$refs.friendlyNameInputRef.select()}))}},{key:"updateFriendlyName",value:function(e){h["d"].unthrottledPropertyChanged({elementId:this.element.id,path:"meta.friendlyName",meta:{snapshotLabel:'Updated friendly name for element "'.concat(this.elementName,'"')},value:(null===e||void 0===e?void 0:e.trim())||void 0})}},{key:"disableEditing",value:function(){this.editingFriendlyName=!1,this.showElementNameFallback=!0}},{key:"noop",value:function(e){return e.stopPropagation(),{}}},{key:"shouldShowChildrenNodes",get:function(){return Object(O["d"])(this.element.id)}},{key:"baseElement",get:function(){return h["b"].element(this.element.data.type)}},{key:"activeClass",get:function(){return{"breakdance--active-element":h["g"].activeElementId===this.element.id}}},{key:"indentStyle",get:function(){var e=this.depth*x;return{marginLeft:"".concat(e,"px"),width:"calc(100% - 1px - ".concat(e,"px")}}},{key:"nestDeeperStyle",get:function(){var e=(this.depth+1)*x;return{left:"".concat(e,"px")}}},{key:"nestShallowerStyle",get:function(){var e=this.depth*x;return{width:"".concat(e,"px")}}},{key:"elementName",get:function(){return h["b"].element(this.element.data.type).name}},{key:"currentlyDragging",get:function(){return h["g"].currentlyDraggingCanvasElementId===this.element.id}},{key:"isShowingIdsInStructurePanel",get:function(){return h["g"].settings.showElementIdInStructurePanel}},{key:"isDraftSection",get:function(){return this.element.data.type===k["g"]&&S.a.get(this.element.data.properties,"settings.advanced.draft")}},{key:"friendlyNameInputValue",get:function(){var e,t,n,a,i,r;return void 0===(null===(e=this.element.data.properties)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.friendlyName)&&this.showElementNameFallback?(this.showElementNameFallback=!1,this.elementName):(this.editingFriendlyName&&(this.showElementNameFallback=!1),(null===(n=this.element.data.properties)||void 0===n||null===(a=n.meta)||void 0===a?void 0:a.friendlyName)&&(null===(i=this.element.data.properties)||void 0===i||null===(r=i.meta)||void 0===r?void 0:r.friendlyName.trim()))}}]),a}(c["a"]);Object(l["a"])([Object(u["d"])()],w.prototype,"element",void 0),Object(l["a"])([Object(u["d"])()],w.prototype,"depth",void 0),w=Object(l["a"])([Object(u["a"])({name:"StructureNode",components:{ElementIcon:g["a"],Icon:b["a"],StructureContextMenu:f["a"],ChildStructureNodes:F}})],w);var P=w,E=P,_=n("2877"),I=Object(_["a"])(E,d,p,!1,null,null,null),D=I.exports,T=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(c["a"]);Object(l["a"])([Object(u["d"])()],T.prototype,"nodes",void 0),Object(l["a"])([Object(u["d"])()],T.prototype,"depth",void 0),T=Object(l["a"])([Object(u["a"])({components:{StructureNode:D},name:"ChildStructureNodes"})],T);var A=T,R=A,B=Object(_["a"])(R,a,i,!1,null,null,null),F=t["default"]=B.exports},"7ab0":function(e,t,n){},"7d1e":function(e,t,n){"use strict";var a=n("5d0d"),i=n.n(a);i.a},"7d62":function(e,t,n){"use strict";var a=n("9ee9"),i=n.n(a);i.a},"7da6":function(e,t,n){"use strict";var a=n("139f"),i=n.n(a);i.a},"7df9":function(e,t,n){"use strict";var a=n("1fb2"),i=n.n(a);i.a},"833c":function(e,t,n){"use strict";var a=n("2028"),i=n.n(a);i.a},"860c":function(e,t,n){},"86d8":function(e,t,n){},8814:function(e,t,n){"use strict";var a=n("b808"),i=n.n(a);i.a},"8a74":function(e,t,n){"use strict";var a=n("f3f5"),i=n.n(a);i.a},"8ab1":function(e,t,n){"use strict";var a=n("cc48"),i=n.n(a);i.a},"8ac3":function(e,t,n){"use strict";var a=n("8adc"),i=n.n(a);i.a},"8ac9":function(e,t,n){"use strict";var a=n("3217"),i=n.n(a);i.a},"8adc":function(e,t,n){},"8aee":function(e,t,n){"use strict";var a=n("1bec"),i=n.n(a);i.a},"8bd3":function(e,t,n){},"8fa8":function(e,t,n){},"910a":function(e,t,n){"use strict";var a=n("1a3d"),i=n.n(a);i.a},"91c2":function(e,t,n){"use strict";var a=n("a0d3"),i=n.n(a);i.a},9274:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));n("caad"),n("96cf");var a=n("1da1");function i(){return r.apply(this,arguments)}function r(){return r=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={name:"clipboard-read",allowWithoutGesture:!1},e.prev=1,e.next=4,navigator.permissions.query(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",{state:"denied"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),r.apply(this,arguments)}function o(){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,e.abrupt("return",{secure:window.isSecureContext,permission:t});case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){var t,n=document.createElement("textarea");n.value=e,n.style.top="0",n.style.left="0",n.style.position="fixed",n.classList.add("breakdance-offscreen-input"),document.body.appendChild(n),n.focus(),n.select();try{t=document.execCommand("copy")}catch(a){t=!1}return document.body.removeChild(n),t}function c(e){return"INPUT"===(null===e||void 0===e?void 0:e.nodeName)}function u(e){var t=["button","checkbox","hidden","file","radio","image","range","reset","submit","number","email","time"];return c(e)&&e.type&&!t.includes(e.type)||"TEXTAREA"===e.nodeName||"true"===e.contentEditable}function d(e){var t,n=null===e||void 0===e||null===(t=e.defaultView)||void 0===t?void 0:t.getSelection(),a=(null===n||void 0===n?void 0:n.rangeCount)?n.getRangeAt(0):null;return!!a&&!a.collapsed}function p(e){var t=e.activeElement;return t&&(c(t)||u(t)||d(e))}},"955a7":function(e,t,n){"use strict";var a=n("7ab0"),i=n.n(a);i.a},"967b":function(e,t,n){"use strict";var a=n("bbfd"),i=n.n(a);i.a},"98ad":function(e,t,n){"use strict";var a=n("45b5"),i=n.n(a);i.a},"9acc":function(e,t,n){},"9bb6":function(e,t,n){"use strict";var a=n("30a4"),i=n.n(a);i.a},"9eaa":function(e,t,n){},"9ee9":function(e,t,n){},a0d3:function(e,t,n){},a292:function(e,t,n){"use strict";var a=n("1315"),i=n.n(a);i.a},a387:function(e,t,n){"use strict";var a=n("707c"),i=n.n(a);i.a},a416:function(e,t,n){"use strict";var a=n("9eaa"),i=n.n(a);i.a},a435:function(e,t,n){"use strict";var a=n("bef5"),i=n.n(a);i.a},a54d:function(e,t,n){"use strict";var a=n("0b81"),i=n.n(a);i.a},a5ed:function(e,t,n){},ab9c:function(e,t,n){"use strict";var a=n("ac90"),i=n.n(a);i.a},ac90:function(e,t,n){},ad64:function(e,t,n){"use strict";var a=n("3c86"),i=n.n(a);i.a},ae15:function(e,t,n){"use strict";var a=n("e31c"),i=n.n(a);i.a},ae8b:function(e,t,n){"use strict";var a=n("ca16"),i=n.n(a);i.a},af0c:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("fb60"),i=n("e75c"),r=n("3af4"),o=n("e7ff");function s(e,t){return Object(r["pipe"])(e,i["a"],Object(a["map"])(Object(r["flow"])(t.decode,Object(a["mapLeft"])(o["a"]))),a["flatten"])}},b06e:function(e,t,n){"use strict";var a=n("7427"),i=n.n(a);i.a},b279:function(e,t,n){},b393:function(e,t,n){},b55a:function(e,t,n){},b6db:function(e,t,n){},b808:function(e,t,n){},b914:function(e,t,n){},bb26:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Dropdown",{attrs:{absolute:!0,"position-x":e.position.x,"position-y":e.position.y,transition:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0),model:{value:e.shouldShow,callback:function(t){e.shouldShow=t},expression:"shouldShow"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.copyElement(t)}}},[n("v-list-item-title",[e._v("Copy")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElement},nativeOn:{click:function(t){return e.pasteElement(t)}}},[n("v-list-item-title",[e._v("Paste")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("design")}}},[n("v-list-item-title",[e._v("Paste Design")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("settings")}}},[n("v-list-item-title",[e._v("Paste Settings")])],1),n("v-divider"),n("v-list-item",{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.deleteElement(t)}}},[n("v-list-item-title",[e._v("Delete")])],1),n("v-divider"),n("v-list-item",{attrs:{link:!0,disabled:!e.canSaveAsGlobalBlock},nativeOn:{click:function(t){return e.openSaveGlobalBlockDialog(t)}}},[n("v-list-item-title",{staticClass:"pointer-events-none"},[e._v("Save as Global Block")])],1)],1)],1),e.saveGlobalBlockDialog?n("GlobalBlockDialog",{attrs:{"element-id":e.element.id},on:{close:e.closeGlobalBlockDialog}}):e._e()],1)},i=[],r=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=n("2b0e"),p=n("60a3"),v=n("f346"),h=n("b850"),m=n("f9f0"),f=n("dbcf"),b=n("a17c"),g=n("82c6"),y=n("9274"),O=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveGlobalBlockDialog=!1,e.clipboardDialog=!1,e.canPasteElement=!1,e.canPasteElementProperties=!1,e}return Object(s["a"])(n,[{key:"onStateChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["c"])();case 2:if(a=e.sent,i=a.permission,this.permission=i.state,"prompt"!==this.permission){e.next=9;break}return this.canPasteElement=!0,this.canPasteElementProperties=!0,e.abrupt("return");case 9:return e.next=11,Object(v["a"])((null===(t=this.menuState)||void 0===t?void 0:t.elementId)?this.menuState.elementId:h["d"].document.tree.root.id);case 11:if(this.canPasteElement=e.sent,!(null===(n=this.menuState)||void 0===n?void 0:n.elementId)){e.next=18;break}return e.next=15,Object(v["b"])(this.menuState.elementId);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=!1;case 19:this.canPasteElementProperties=e.t0;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copyElement",value:function(){this.elementId&&Object(v["c"])(this.elementId)}},{key:"pasteElement",value:function(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId?Object(v["d"])(this.elementId):Object(v["d"])(h["d"].document.tree.root.id)}},{key:"pasteElementProperties",value:function(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId&&Object(v["e"])(this.elementId,e)}},{key:"deleteElement",value:function(){this.elementId&&h["d"].deleteElement({nodeId:this.elementId})}},{key:"openSaveGlobalBlockDialog",value:function(){this.elementId&&(this.saveGlobalBlockDialog=!0)}},{key:"closeGlobalBlockDialog",value:function(){this.saveGlobalBlockDialog=!1,this.$emit("close")}},{key:"menuState",get:function(){return"closed"!==h["g"].onStructurePanelRightClickMenuState?h["g"].onStructurePanelRightClickMenuState:null}},{key:"position",get:function(){var e;return(null===(e=this.menuState)||void 0===e?void 0:e.position)||{x:0,y:0}}},{key:"elementId",get:function(){var e;return null===(e=this.menuState)||void 0===e?void 0:e.elementId}},{key:"element",get:function(){return Object(g["m"])(h["d"].document.tree,this.elementId)}},{key:"canSaveAsGlobalBlock",get:function(){return this.elementId&&Object(m["a"])(this.elementId)}},{key:"shouldShow",get:function(){return"closed"!==h["g"].onStructurePanelRightClickMenuState&&!this.saveGlobalBlockDialog},set:function(e){e||h["g"].setOnStructurePanelRightClickMenuState("closed")}}]),n}(d["a"]);Object(u["a"])([Object(p["h"])("menuState")],O.prototype,"onStateChange",null),O=Object(u["a"])([Object(p["a"])({components:{GlobalBlockDialog:f["a"],Dropdown:b["a"]}})],O);var k=O,j=k,S=n("2877"),C=n("6544"),x=n.n(C),w=n("ce7e"),P=n("8860"),E=n("da13"),_=n("5d23"),I=Object(S["a"])(j,a,i,!1,null,null,null);t["a"]=I.exports;x()(I,{VDivider:w["a"],VList:P["a"],VListItem:E["a"],VListItemTitle:_["c"]})},bbfd:function(e,t,n){},bef5:function(e,t,n){},c1b4:function(e,t,n){"use strict";var a=n("caad4"),i=n.n(a);i.a},c2a7:function(e,t,n){},c354:function(e,t,n){},c703:function(e,t,n){"use strict";var a=n("20d3"),i=n.n(a);i.a},c881:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Default Children "),n("Repeater",{attrs:{value:e.value||[],"default-new-value":e.defaultValue,control:e.repeaterOptions},on:{input:function(t){return e.updateDefaultElements(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-autocomplete",{staticClass:"mb-2",attrs:{value:i.slug,items:e.elementsAvailableForThisElementNestingType,hint:"Element that will be automatically added inside this current element","persistent-hint":"",clearable:""},on:{input:function(t){return e.updatePath(t,a,"slug")}}}),i.slug&&e.canHaveChildren(i.slug)?n("ElementStudioDefaultElements",{staticClass:"mb-2",attrs:{value:i.children,"parent-element-slug":i.slug,"allow-import":!1},on:{input:function(t){return e.updatePath(t,a,"children")}}}):e._e(),i.slug?n("ElementStudioDefaultProperties",{attrs:{value:i.defaultProperties||!1,"element-slug":i.slug},on:{input:function(t){return e.updatePath(t,a,"defaultProperties")}}}):e._e()]}}])}),e.allowImport?n("div",[n("br"),n("div",{staticClass:"mb-2"},[e._v(" Import all children of the currently active element ")]),n("NiceButton",{attrs:{disabled:!e.canImport},on:{click:e.importChildren}},[e._v(" Import Children ")])],1):e._e()],1)},i=[],r=(n("4de4"),n("d81d"),n("b64b"),n("2ca0"),n("d4ec")),o=n("bee2"),s=n("2caf"),l=n("262e"),c=n("9ab4"),u=n("2b0e"),d=n("60a3"),p=n("310e"),v=n.n(p),h=n("f57e"),m=n("628e"),f=n("a17c"),b=n("b875"),g=n("bedf"),y=n("f10d"),O=n("24fc"),k=n("dc3b"),j=n("6833"),S=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.defaultValue={},e.repeaterOptions={options:{repeaterOptions:{defaultTitle:"Default Element",titleTemplate:"{slug}",buttonName:"Add new default element"}}},e}return Object(o["a"])(a,[{key:"beforeCreate",value:function(){this.$options.components.ElementStudioDefaultElements=n("c881").default}},{key:"updateDefaultElements",value:function(e){this.$emit("input",e)}},{key:"canHaveChildren",value:function(e){if(!e)return!1;var t=h["b"].element(e),n=t.nestingRule.type;return!n.startsWith("final")}},{key:"importChildren",value:function(){if(h["h"].activeElement){var e=function e(t){return{slug:t.data.type,defaultProperties:t.data.properties,children:t.children.map(e)}},t=Object(g["a"])(h["h"].activeElement),n=t.children.map(e);this.updateDefaultElements(n)}}},{key:"updatePath",value:function(e,t,n){var a=Object(g["a"])(this.value)||{};a[t][n]=e,this.$emit("input",a)}},{key:"canImport",get:function(){return!!h["h"].activeElement&&h["h"].activeElement.data.type===this.context.element().slug}},{key:"elementsAvailableForThisElementNestingType",get:function(){var e=this;return Object.keys(h["b"].elements).filter((function(t){var n=h["b"].element(e.parentElementSlug),a=h["b"].element(t).nestingRule;return Object(y["j"])(a,n.nestingRule,n.slug)}))}}]),a}(u["a"]);Object(c["a"])([Object(d["d"])()],S.prototype,"value",void 0),Object(c["a"])([Object(d["d"])()],S.prototype,"parentElementSlug",void 0),Object(c["a"])([Object(d["d"])({default:!0})],S.prototype,"allowImport",void 0),Object(c["a"])([Object(d["b"])("context")],S.prototype,"context",void 0),S=Object(c["a"])([Object(d["a"])({components:{NiceButton:j["a"],ElementStudioDefaultProperties:k["a"],TextInput:O["a"],Repeater:b["default"],Dropdown:f["a"],Accordion:m["a"],draggable:v.a}})],S);var C=S,x=C,w=n("2877"),P=n("6544"),E=n.n(P),_=n("c6a6"),I=Object(w["a"])(x,a,i,!1,null,null,null);t["default"]=I.exports;E()(I,{VAutocomplete:_["a"]})},ca16:function(e,t,n){},caad4:function(e,t,n){},cc48:function(e,t,n){},cc59:function(e,t,n){"use strict";var a=n("3a49"),i=n.n(a);i.a},ccbe:function(e,t,n){},cd2c:function(e,t,n){"use strict";var a=n("db2c"),i=n.n(a);i.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("9559");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{class:e.classList},[n("Notifications"),e.isBrowseModeEnabled?[n("BrowseMode",{key:"browser"})]:[n("Builder",{key:"builder"})]],2)},r=[],o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=(n("1961"),n("60a3")),p=n("b850"),v=n("050e"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-builder"},[e.errorsPresent?n("UnrecoverableErrors"):"normal"===e.interfaceState?n("BuilderLayout"):"loading"===e.interfaceState?n("Loading"):e._e()],1)},m=[],f=(n("a15b"),n("96cf"),n("1da1")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayout",{class:e.classList,scopedSlots:e._u([{key:"topbar",fn:function(){return[n("BuilderTopBar")]},proxy:!0},{key:"body",fn:function(){return[n("ClosingConfirmations"),n("DesignLibraryModal"),n("SidebarPanels",{attrs:{panelState:e.leftSidebarPanelState,position:"left"}}),n("IframeCanvas",{on:{loaded:e.onIframeLoaded}}),e.showTemplateDialog?n("TemplateDialog",{attrs:{"template-id":e.templateId,"template-name":e.templateName,templateIsFallback:e.isTemplateFallback,templatesPageUrl:e.templatesPageUrl}}):e._e(),e.showInvalidPostDialog?n("InvalidPostDialog"):e._e(),e.preferencesModalOpen?n("PreferencesModal",{attrs:{open:e.preferencesModalOpen},on:{"update:dialog":e.updatePreferencesModal}}):e._e(),e.keyboardShortcutsHelpModalOpen?n("KeyboardShortcutsHelpModal",{attrs:{open:e.keyboardShortcutsHelpModalOpen},on:{"update:dialog":e.updateKeyboardShortcutsHelpModal}}):e._e(),n("SidebarPanels",{attrs:{panelState:e.rightSidebarPanelState,position:"right"}}),e.elementStudioOpen?n("div",{staticClass:"breakdance-app-far-right-area vscroll-wrap"},[n("ElementStudio")],1):e._e()]},proxy:!0}])})},g=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.iframeURL?n("IframeWrapper",{attrs:{"iframe-url":e.iframeURL,"iframe-preview-width":e.canvasPreviewWidth,"iframe-exited":e.iframeExited,"iframe-state":e.canvasState,"min-width":e.iframeMinWidth,"current-breakpoint":e.currentBreakpoint,"iframe-id":"iframe"},on:{previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,iframeLoaded:e.mountCanvasInIframe,iframeUnloaded:e.setIframeAsExited,reloadWanted:e.reloadIframe,resetPreviewWidth:e.handleResetPreviewWidth}}):e._e()},O=[],k=(n("4de4"),n("4160"),n("caad"),n("d3b7"),n("25f0"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d"),n("2909")),j='/* Copied from globals.scss, don\'t modify here directly */\n:root {\n  --white: #ffffff;\n  --black: #000000;\n\n  --blue50: #eff6ff;\n  --blue100: #dbeafe;\n  --blue200: #bfdbfe;\n  --blue300: #93c5fd;\n  --blue400: #60a5fa;\n  --blue500: #3b82f6;\n  --blue600: #2563eb;\n  --blue700: #1d4ed8;\n  --blue800: #1e40af;\n  --blue900: #1e3a8a;\n\n  --red600: #dc2626;\n\n  --bde-canvas-font-family: system-ui, -apple-system, "Segoe UI", Roboto,\n    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";\n\n  --bde-app-font-family: "Avenir", Helvetica, Arial, sans-serif;\n}\n\n/* everything here should be prefixed with breakdance because\nthese styles are mixed with any fuckery from their theme */\n\n#breakdance_canvas {\n  position: relative;\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\n  therwise if the user uses absolute positioning, things could look different in the builder */\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\n}\n\n#breakdance_canvas.dragging {\n  cursor: grabbing;\n}\n\n#iframe {\n  margin: 4px;\n  border: 1px solid #eee;\n  background-color: white;\n  width: 100%;\n  padding: 2px;\n  font-family: var(--bde-canvas-font-family);\n  position: relative;\n}\n\n.breakdance-icon {\n  display: flex;\n  justify-content: center;\n}\n\n.breakdance-icon > svg {\n  fill: currentColor;\n}\n\n.dragTaller {\n  height: 6px;\n  width: 6px;\n  border: 2px solid grey;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 2000;\n}\n\n.drag-dot {\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background-color: rgb(32, 43, 67);\n  cursor: move;\n  position: absolute;\n  z-index: 100000;\n  pointer-events: auto;\n}\n\n.drag-dots-wrapper {\n  position: absolute;\n  pointer-events: none;\n}\n\n.drag-dot-top-left {\n  top: -5px;\n  left: -5px;\n}\n\n.drag-dot-top-middle {\n  top: -5px;\n  left: calc(50% - 5px);\n}\n\n.drag-dot-top-right {\n  top: -5px;\n  left: calc(100% - 5px);\n}\n\n.drag-dot-bottom-left {\n  top: calc(100% - 5px);\n  left: -5px;\n}\n\n.drag-dot-bottom-middle {\n  top: calc(100% - 5px);\n  left: calc(50% - 5px);\n}\n\n.drag-dot-bottom-right {\n  top: calc(100% - 5px);\n  left: calc(100% - 5px);\n}\n\n.drag-dot-middle-left {\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.drag-dot-middle-right {\n  top: 50%;\n  transform: translate(50%, -50%);\n  right: 0;\n}\n\n.spacing-bar {\n  background-color: rgba(0, 0, 255, 0.2);\n  opacity: 0;\n  position: absolute;\n  transition: 0.3s ease-in-out opacity;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  min-height: 5px;\n}\n\n.spacing-bar:hover {\n  transition-delay: 0.2s;\n}\n\n.spacing-bar .spacing-bar-current-value {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.spacing-bar-inside-top {\n  min-height: 5px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n\n/* column drag */\n.drag-dots-left-width {\n  margin-right: 22px;\n}\n\n.drag-dots-column-widths-values {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  left: -66px;\n  top: -8px;\n}\n\n.drag-dots-left-width,\n.drag-dots-right-width {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  width: 48px;\n}\n\n/* Node Chrome */\n\n.node-chrome,\n.node-titlebar-wrapper,\n.node-hover-controls {\n  transition: 0.3s opacity ease;\n}\n\n.node-chrome--hide-all,\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\n.node-chrome--hide-hover .node-hover-controls {\n  opacity: 0;\n}\n\n/* Titlebars */\n\n.node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 10000;\n  outline: 1px solid rgb(32, 43, 67);\n  user-select: none;\n}\n\n.node-titlebar {\n  pointer-events: auto;\n\n  display: flex;\n  align-items: center;\n  position: absolute;\n\n  bottom: 100%;\n  height: 28px;\n  padding: 0 10px;\n  border-radius: 4px 4px 0 0;\n\n  font-family: var(--bde-app-font-family);\n  font-size: 12px;\n  font-weight: 500;\n\n  letter-spacing: normal;\n  text-transform: none;\n\n  background-color: rgb(32, 43, 67);\n  color: white;\n  z-index: 1000000;\n\n  left: -1px;\n}\n\n.node-titlebar-is-draft-section {\n  background-color: rgb(122, 125, 133);\n}\n\n/*\n * Moving you mouse over the node titlebar or spacing bars\n * will trigger an erroneous mouseleave event on the element\n * you are dragging, when your mouse is not outside of it yet.\n */\n.dragging .spacing-bar,\n.dragging .node-titlebar {\n  pointer-events: none;\n}\n\n.node-titlebar-is-dragging,\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  cursor: grabbing;\n}\n\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  opacity: 0.5;\n}\n\n.node-titlebar-is-dragging {\n  /* color: rgb(32, 43, 67); */\n  background-color: rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper-is-dragging {\n  outline: 1px solid rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper .node-titlebar-button {\n  color: rgba(255, 255, 255, 0.85);\n  cursor: pointer;\n}\n\n.node-titlebar-button:hover {\n  color: rgba(255, 255, 255, 1);\n}\n\n.node-titlebar-title {\n  white-space: nowrap;\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  letter-spacing: normal;\n}\n\n.node-titlebar-title .node-titlebar-button {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n\n.node-titlebar-title .node-titlebar-button svg {\n  cursor: grab;\n}\n\n.node-titlebar-button-activate-parent {\n  margin-left: 6px;\n}\n\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\n  width: 10px;\n  height: 10px;\n}\n\n.node-titlebar-button {\n  margin-left: 9px;\n}\n\n.node-titlebar-button > svg {\n  width: 13px;\n  height: 13px;\n}\n\n.node-titlebar-margin-left {\n  margin-left: 20px;\n}\n\n/* Other */\n.breakdance-drag-placeholder-wrapper {\n  pointer-events: none;\n}\n\n.breakdance-drag-placeholder {\n  /* this won\'t work if something other than the window has position relative on it,\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\n\n  /* some months later\n  ... really? The above sounds like bullshit. I can put position relative\n  on all sorts of stuff and this works fine\n  so maybe we are already mounting the overlaid UI chrome in the right place?\n  */\n\n  position: absolute;\n  /* ---- */\n  background-color: var(--blue500);\n  z-index: 100001;\n  display: none;\n  border-radius: 2px;\n}\n\n.breakdance-drag-target-outline {\n  outline: 6px solid var(--blue300);\n  outline-offset: -6px;\n  z-index: 100000;\n  display: none;\n}\n\n.breakdance-children-pointer-events-none > * {\n  pointer-events: none;\n}\n\n/* global blocks */\n.breakdance-themeless-global-block {\n  cursor: default;\n}\n\n.breakdance-themeless-global-block::selection {\n  background-color: transparent;\n}\n\n.breakdance-themeless-global-block *::selection {\n  background-color: transparent;\n}\n\n.breakdance-foreign-documents-overlay {\n  font-family: var(--bde-canvas-font-family);\n  position: fixed;\n  z-index: 9999;\n  outline: 1px solid rgb(255 182 216);\n  outline-offset: -1px;\n  cursor: not-allowed;\n  background-color: rgba(0, 0, 0, 0.1);\n  display: none;\n}\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n\n.breakdance-foreign-documents-overlay-titlebar {\n  position: relative;\n  left: -50%;\n  height: 28px;\n  padding: 0 10px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 12px;\n  font-weight: 500;\n  background-color: rgb(255 182 216);\n  border-radius: 0px 0px 4px 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a {\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a svg {\n  margin-left: 5px;\n  width: 14px;\n  height: 14px;\n}\n\n.breakdance-foreign-document-wrapper:hover\n  .breakdance-foreign-document-wrapper__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/* node hover controls */\n.node-hover-controls {\n  position: absolute;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.node-hover-controls--outline {\n  outline: 1px solid rgb(177, 202, 255);\n}\n\n.node-hover-controls > div {\n  display: none;\n  z-index: 100000;\n}\n\n.node-hover-controls.node-hover-controls-show > div {\n  display: flex;\n}\n\n.node-hover-controls-button {\n  position: absolute;\n  pointer-events: auto;\n  flex-direction: column;\n\n  border-radius: 50%;\n\n  width: 40px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: var(--bde-canvas-font-family);\n  background-color: rgb(32, 43, 67);\n  color: white;\n\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n}\n\n.node-hover-controls-bottom-button {\n  top: calc(100% - 20px);\n  left: calc(50% - 20px);\n}\n\n.node-hover-controls-right-button {\n  top: 50%;\n  left: calc(100% - 48px);\n  transform: translateY(-50%);\n}\n\n.node-hover-controls-menu {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  flex-direction: column;\n  background-color: white;\n  color: black;\n  display: none;\n  position: absolute;\n  top: calc(100% - 20px);\n  left: 50%;\n  transform: translateX(-50%);\n  width: 170px;\n  overflow: hidden;\n}\n\n.node-hover-controls-menu > div {\n  padding: 9px 12px;\n  text-align: center;\n}\n\n.node-hover-controls-menu > div:hover {\n  background-color: #fafafa;\n}\n\n.node-hover-controls-menu--open {\n  display: flex;\n}\n\n/* We do the outlining with JS to add some logic to it*/\n*:focus[contenteditable="true"] {\n  border: none;\n  outline: none;\n}\n\n.node-content-editable {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  outline: 1px solid var(--blue500);\n}\n\n/* EMPTY CONTAINER */\n\n.breakdance-empty-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.breakdance-empty-container__add-element {\n  font-family: var(--bde-canvas-font-family);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  user-select: none;\n\n  background-color: var(--blue50);\n  width: 42px;\n  height: 42px;\n  border-radius: 3px;\n  margin: 10px;\n}\n\n.breakdance-empty-container__add-element {\n  color: var(--blue500);\n}\n\n.breakdance-empty-container__add-element:hover {\n  background-color: var(--blue100);\n}\n\n.breakdance-empty-container__add-element--disabled,\n.breakdance-empty-container__add-element--disabled:hover {\n  cursor: not-allowed;\n  background: var(--grey-100);\n  color: var(--grey-300);\n}\n\n/* COLUMNS */\n\n.breakdance-empty-columns {\n  font-family: var(--bde-canvas-font-family);\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\n  padding: 50px;\n}\n\n.breakdance-empty-columns-choices-heading {\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 16px;\n  user-select: none;\n}\n\n.breakdance-empty-columns-choices {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-choices-row {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-column-icon-wrapper {\n  padding: 4px;\n  margin: 16px;\n  cursor: pointer;\n  border-radius: 3px;\n  transition: 0.3s ease-in-out filter;\n  filter: grayscale(90%);\n}\n\n.breakdance-empty-columns-column-icon-wrapper:hover {\n  filter: grayscale(0%);\n}\n\n.breakdance-empty-columns-column-icon {\n  width: 160px;\n  height: 90px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.breakdance-empty-columns-column-icon-column {\n  margin: 4px;\n  width: 100%;\n  background-color: #bfdbfe;\n  border-radius: 3px;\n}\n\n.breakdance--empty-container:not(.breakdance--active-element) {\n  outline: 2px solid #eee;\n  outline-offset: -2px;\n}\n\n/* ELEMENT */\n\n.builder-element {\n  cursor: default;\n}\n\n/* right click menu. This is  duplicated in the RightClickMenu\n\nWe need it also here because this is used both in the canvas and the structure panel\n*/\n\n.breakdance-canvas-right-click-menu {\n  position: absolute;\n  z-index: 2147483647;\n  font-family: var(--bde-canvas-font-family);\n  background-color: var(--white);\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  min-width: 200px;\n  border-radius: 4px;\n  padding: 6px 0px;\n  user-select: none;\n}\n\n.breakdance-canvas-right-click-menu-item {\n  font-size: 13px;\n  font-weight: 400;\n  font-size: 13px;\n  min-height: 40px;\n  padding-left: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n  color: #333;\n}\n\n.breakdance-canvas-right-click-menu-divider {\n  height: 1px;\n  background-color: #ddd;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\n  background-color: #eee;\n}\n\n.breakdance-canvas-right-click-menu-item-disabled {\n  opacity: 0.5;\n  cursor: default !important;\n}\n\n/* Empty State */\n\n.breakdance-canvas-empty-element {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 30px;\n  text-align: center;\n  border: 2px dashed #c3c4c7;\n}\n\n.breakdance-canvas-empty-element__title {\n  font-size: 18px;\n  font-weight: normal;\n  color: #646970;\n  margin-bottom: 0;\n}\n\n/*** Warning ***/\n\n.bde-no-custom-query-error {\n  background: rgb(254, 242, 242);\n  color: var(--red600);\n  padding: 12px;\n}\n\n/*** Loading ***/\n\n.breakdance-empty-ssr-message {\n  padding: 12px;\n  background: rgb(242, 242, 254);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  color: black;\n  font-size: 13px;\n  font-weight: 500;\n  margin: 12px 0;\n}\n\n.breakdance-empty-ssr-message-error {\n  background: rgb(254, 242, 242);\n}\n\n.breakdance-empty-ssr-message small {\n  margin-top: 6px;\n  color: black;\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.breakdance-element-is-updating:empty {\n  min-height: 80px;\n  max-width: 100%;\n  width: 400px;\n}\n\n.breakdance-element-is-updating {\n  opacity: 0.3;\n  background: repeating-linear-gradient(\n    45deg,\n    #eee 0px,\n    #eee 10px,\n    #d4d4d4 10px,\n    #d4d4d4 20px\n  );\n}\n\n.breakdance-node-titlebar-loading-spinner {\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\n}\n\n@keyframes breakdance-node-titlebar-loading-spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',S=(n("d81d"),n("99af"),n("7db0"),n("45fc"),n("b0c0"),n("4fad"),n("b64b"),n("2ca0"),n("498a"),n("15fd")),C=n("5530"),x=n("ff72"),w=n("e600"),P=n("c7d4"),E=n("2ef0"),_=n.n(E),I=n("5b59"),D=n("7723"),T=(n("ac1f"),n("5319"),1),A=3;function R(e,t,n,a){var i=a.enableContentEditableAndFocus,r=a.saveContentEditable,o=function e(a){var o=[];return a.forEach((function(a){if(a.nodeType===A){var s=a.nodeValue;"%%CHILDREN%%"===(null===s||void 0===s?void 0:s.trim())?o.push(n()):s&&o.push(s)}else if(a.nodeType===T&&a instanceof Element){for(var l=a.attributes,c=a.nodeName,u={},d={},p={},v=[],h=void 0,m=void 0,f=0;f<l.length;f++){var b=l.item(f);if(b){var g=b.name;"class"===g?h=b.value:"style"===g?m=b.value:u[g]=b.value,"data-content-editable-property-path"===g&&(p.dblclick=i,p.blur=r,d.innerHTML=a.innerHTML)}}!d.innerHTML&&a.hasChildNodes()&&v.push.apply(v,Object(k["a"])(e(a.childNodes))),o.push(t(c,{class:h,style:m,attrs:Object(C["a"])({},u),on:Object(C["a"])({},p),domProps:d},v))}})),o},s=new DOMParser,l=s.parseFromString(e,"text/html").body,c=(new XMLSerializer).serializeToString(l),u=c.replace(/<body.*?>/,"").replace("</body>",""),d=s.parseFromString("<root>"+u+"</root>","application/xhtml+xml");return o(d.documentElement.childNodes)}var B=n("368e"),F=n("8fe2"),M=n("883b"),V=(F["o"]({globalSettingsCssFilePath:F["r"],globalSelectorsCssFilePath:F["r"],defaultCssForAllElementsFilePath:F["r"]}),F["o"]({postCssFilePath:F["r"],postDefaultsCssFilePath:F["r"]})),W=F["s"]({postsGeneratedCssFilePaths:F["p"](F["r"],V)}),L=F["j"]([W,F["s"]({dependencies:M["d"]})]),N=F["j"]([F["s"]({html:F["r"]}),W]),U=F["j"]([N,L]),$=n("2e2f"),H=n("a72c"),z={};function G(e,t,n){var a=[];return Object(f["a"])(regeneratorRuntime.mark((function i(){var r,o,s,l=arguments;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(r=l.length,o=new Array(r),s=0;s<r;s++)o[s]=l[s];return z[n]&&clearTimeout(z[n]),z[n]=setTimeout((function(){var t=e.apply(void 0,o);a.forEach((function(e){return e(t)})),a=[],delete z[n]}),t),i.abrupt("return",new Promise((function(e){return a.push(e)})));case 4:case"end":return i.stop()}}),i)})))}function q(e,t,n,a){var i=function(){return Object(B["a"])({action:"breakdance_server_side_render",overrideAjaxUrl:Object($["a"])(),dataToPost:{properties:Object(H["a"])(t),parentProperties:Object(H["a"])(a),elementSlug:e,triggeringDocument:p["d"].document.documentMeta.id},decoder:N})};return G(i,1e3,n)()}function K(e,t,n){return Object(B["a"])({action:"breakdance_server_side_render_with_dependencies",overrideAjaxUrl:Object($["a"])(),dataToPost:{properties:Object(H["a"])(t),parentProperties:Object(H["a"])(n),elementSlug:e},decoder:U})}var X=n("3af4"),Y=n("fb60"),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-container",attrs:{id:"breakdance-empty-container"}},[n("div",{staticClass:"breakdance-empty-container__add-element",class:{"breakdance-empty-container__add-element--disabled":!e.canAddElement},on:{click:e.openAddPanel}},[n("Icon",{attrs:{icon:"PlusIcon",size:"22"}})],1)])},Z=[],J=n("920b"),ee=n("25c8"),te=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"openAddPanel",value:function(e){e.preventDefault(),e.stopPropagation(),this.canAddElement&&(Object(J["e"])("add"),p["g"].activateElement(this.id))}},{key:"canAddElement",get:function(){return p["g"].hasFullAccess}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:null})],te.prototype,"id",void 0),te=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],te);var ne=te,ae=ne,ie=n("2877"),re=Object(ie["a"])(ae,Q,Z,!1,null,null,null),oe=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns"},[n("div",{staticClass:"breakdance-empty-columns-choices-heading"},[e._v(" Choose a column structure ")]),n("div",{staticClass:"breakdance-empty-columns-choices"},[n("div",{staticClass:"breakdance-empty-columns-choices-row"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2)}}},[e._m(0)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,3)}}},[e._m(1)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,4)}}},[e._m(2)])]),n("div",{staticClass:"breakdance-empty-columns-choices-row"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[35,65])}}},[e._m(3)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[65,35])}}},[e._m(4)])])])])},le=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}})])}],ce=n("e535"),ue=n("2fb0"),de=n("a920"),pe=n("e46f"),ve=n("7a86"),he=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"addColumns",value:function(e,t,n){var a=this;e.preventDefault(),e.stopPropagation();for(var i=[],r=n?n.map((function(e){var t=Object(ve["a"])(e);return _.a.set({},ce["a"],{number:t,unit:"%",style:"".concat(t,"%")})})):[],o=0;o<t;o++)i.push({id:o,data:{type:ue["b"],properties:n?r[o]:{}},children:[]});de["a"].transaction((function(){p["d"].addMultipleNodes({nodes:i,parentId:a.id}),n||Object(pe["a"])(a.id)}),"Set amount of columns to ".concat(t)),Object(J["e"])("elementproperties")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],he.prototype,"id",void 0),he=Object(u["a"])([Object(d["a"])({})],he);var me=he,fe=me,be=Object(ie["a"])(fe,se,le,!1,null,null,null),ge=be.exports,ye=n("4472"),Oe=n("a79c"),ke=n("a823"),je=n("d827"),Se=n("a4e3"),Ce=(n("a630"),n("b85c")),xe=["jquery","wp-polyfill-js"];function we(){var e,t=window.Breakdance.canvas.document,n=t.querySelectorAll("script"),a=Object(Ce["a"])(n);try{var i=function(){var n,a=e.value;if(xe.find((function(e){return a.id.toLowerCase().includes(e)||a.src.toLowerCase().includes(e)})))return"continue";var i=Pe(a);a.remove(),null===(n=t.querySelector("body"))||void 0===n||n.appendChild(i)};for(a.s();!(e=a.n()).done;)i()}catch(r){a.e(r)}finally{a.f()}}function Pe(e){var t=document.createElement("script");return Array.from(e.attributes).forEach((function(e){t.setAttribute(e.name,e.value)})),e.src?t.src=e.src:t.innerHTML=e.innerHTML,t}var Ee,_e=n("7c4b"),Ie='\n<div class="breakdance-empty-ssr-message">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>',De='\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    There was an error on the server when rendering this element.\n</div>',Te=function(e,t){return'\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    The <strong>"'.concat(e,'"</strong> element requires the plugins <em>"').concat(t.join(", "),'"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>')},Ae=n("2c31"),Re=n("82c6"),Be=n("4ff2"),Fe=n("7234"),Me=n("f10d"),Ve=n("452a"),We=n("54e4"),Le=n("41c0"),Ne=n("5517"),Ue=n("8e5b"),$e=n("5be7"),He=n("02ed"),ze=n("bedf"),Ge=n("ec26"),qe=_.a.debounce(D["b"],500),Ke=Ee=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isActive=!1,e.uniqueId=Object(Ge["a"])(),e.ssrInnerHtml=null,e.oldSsrParentProperties=Object(ze["a"])(e.ssrParentProperties),e.oldTwigProps=Object(ze["a"])(e.element.data.properties),e.dragMouseStartX=!1,e.dragMouseStartY=!1,e.easyEvent=new _e["a"],e}return Object(s["a"])(n,[{key:"__render",value:function(e){var t=this,n=this.rootTag;if(!this.shouldShow)return!1;if(this.isEmptyColumns)return e(n,{attrs:Object(C["a"])({},Object(C["a"])({},this.attributes),{id:this.htmlId}),on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault},class:this.classList},[e(ge,{attrs:{id:this.element.id}})]);var a=Object(ye["j"])(this.processedTemplate,{ssr:this.ssrValueOrMessage}),i=this.isEmptyContainer?e(oe,{attrs:{id:this.element.id}}):this.element.children.map((function(n){return e(Ee,{key:n.id,attrs:{element:n,parentId:t.element.id,ssrParentProperties:t.parentProps}})})),r=this.contentEditablePropertyPath||null!==this.ssrValueOrMessage&&!this.ssrValueOrMessage.includes("%%CHILDREN%%"),o={};r&&(o.innerHTML=a);var s=r?[]:R(a,e,(function(){return i}),{enableContentEditableAndFocus:this.enableContentEditableAndFocus,saveContentEditable:this.saveContentEditable});return e(this.rootTag,{class:this.classList,attrs:Object(C["a"])({},this.attributes,{id:this.htmlId}),domProps:o,on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault,dblclick:this.contentEditablePropertyPath?this.enableContentEditableAndFocus:function(){},blur:this.contentEditablePropertyPath?this.saveContentEditable:function(){}}},s)}},{key:"render",value:function(e){return this.__render(e)}},{key:"rerenderFromServeOnParentPropertyChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=2;break}return e.abrupt("return");case 2:if(_.a.isEqual(this.ssrParentProperties,this.oldSsrParentProperties)){e.next=6;break}return this.oldSsrParentProperties=Object(ze["a"])(this.ssrParentProperties),e.next=6,this.maybeRerenderFromServer();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rerenderFromServerOnRefreshSsr",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.refreshSsr){e.next=5;break}return e.next=3,this.maybeRerenderFromServer();case 3:p["g"].setRefreshSsrElementId(null),this.runActionsAfterSsr();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"maybeRerenderFromServerOnPropertyChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=3;break}return this.processedTemplate.includes("%%SSR%%")||(this.ssrInnerHtml=null,this.updateSsrDependenciesAndStyles()),e.abrupt("return");case 3:if(!_.a.isEqual(this.twigProps,this.oldTwigProps)){e.next=5;break}return e.abrupt("return");case 5:return this.oldTwigProps=this.twigProps,e.next=8,this.maybeRerenderFromServer();case 8:this.runActionsAfterSsr();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"runActionsAfterSsr",value:function(){Oe["a"].run.onBeforeDeletingElement({elementId:this.element.id}),this.element._parentId&&Oe["a"].run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:void 0}),Oe["a"].run.onMountedElement({elementId:this.element.id})}},{key:"maybeRerenderFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=2;break}return e.abrupt("return");case 2:if(p["g"].setElementUpdatingState({elementId:this.element.id,isUpdating:!0}),t=this.baseElement.settings&&this.baseElement.settings.withDependenciesInHtml,e.t0=X["pipe"],!t){e.next=11;break}return e.next=8,K(this.baseElement.slug,this.element.data.properties,this.parentProps);case 8:e.t1=e.sent,e.next=14;break;case 11:return e.next=13,q(this.baseElement.slug,this.element.data.properties,this.element.id,this.parentProps);case 13:e.t1=e.sent;case 14:e.t2=e.t1,e.t3=Object(Y["fold"])((function(e){return e.forEach((function(e){Se["a"].log.message(e.msg)})),De}),(function(e){return"dependencies"in e&&(a.elementDependenciesFromSsr=e.dependencies),a.elementPostsGeneratedCssFilePathsFromSsr=e.postsGeneratedCssFilePaths,e.html})),n=(0,e.t0)(e.t2,e.t3),p["g"].setElementUpdatingState({elementId:this.element.id,isUpdating:!1}),this.ssrInnerHtml=n,this.updateSsrDependenciesAndStyles();case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"maybeRerunAllScriptsInCanvasDocumentBody",value:function(){var e=this.baseElement.settings&&this.baseElement.settings.dependsOnGlobalScripts;e&&we()}},{key:"updateSsrDependenciesAndStyles",value:function(){this.maybeRerunAllScriptsInCanvasDocumentBody();var e=this.baseElement.settings&&this.baseElement.settings.withDependenciesInHtml;e&&this.elementDependenciesFromSsr&&Object(D["b"])(Object(Be["c"])(),{dependencies:[this.elementDependenciesFromSsr],addInlineScriptsAsUnique:!1,element:this.element}),Object(Ae["a"])(Object(Be["c"])(),this.element.id,this.elementPostsGeneratedCssFilePathsFromSsr)}},{key:"onBreakpointsChange",value:function(){this.generateElementsCSS()}},{key:"onTwigPropsChange",value:function(){this.generateElementsCSS()}},{key:"onCssTemplateChange",value:function(){this.generateElementsCSS()}},{key:"onDefaultCssChange",value:function(){this.generateElementsCSS()}},{key:"onInternalDependenciesChange",value:function(){if(this.baseElement.dependencies){var e=this.baseElement.dependencies.map((function(e){return Object(C["a"])({},e,{inlineScripts:[]})}));qe(Object(Be["c"])(),{dependencies:e,tags:this.tags,element:this.element})}}},{key:"refreshIfTypographyPresetsChange",value:function(){this.generateElementsCSS()}},{key:"elementChildrenCountChanged",value:function(){this.generateElementsCSS()}},{key:"generateElementsCSS",value:function(){var e=Object(w["a"])(this.twigProps,this.breakpoints,this.baseElement.cssTemplate,this.tags,this.baseElement.propertyPathsToWhitelistInFlatProps,this.elementChildrenCount);Object(Ae["b"])(Object(Be["c"])(),this.baseElement.slug,this.baseElement.defaultCss),Object(Ae["c"])(Object(Be["c"])(),this.element.id,e,this.uniqueId)}},{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.updateSsrDependenciesAndStyles(),e.next=3,Promise.all([this.loadDependencies(),this.maybeRerenderFromServer()]);case 3:Oe["a"].run.onMountedElement({elementId:this.element.id});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){var e=0===Object(Re["d"])(p["d"].document.tree.root,this.baseElement.slug);e&&Object(Ae["h"])(Object(Be["c"])(),this.baseElement.slug),Object(Ae["j"])(Object(Be["c"])(),this.element.id,this.uniqueId),Object(Ae["i"])(Object(Be["c"])(),this.element.id),this.element._parentId&&Oe["a"].run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:"DocumentDeleteElement:ID:".concat(this.element.id)})}},{key:"loadDependencies",value:function(){return Object(D["b"])(Object(Be["c"])(),{dependencies:[].concat(Object(k["a"])(this.baseElement.dependencies||[]),Object(k["a"])(p["b"].elementsExternalAttrsDepsAndActions.dependencies||[])),element:this.element,tags:this.tags})}},{key:"dynProps",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p["b"].dynamicDataCache.loading){e.next=2;break}return e.abrupt("return",this.element.data.properties);case 2:if(t=p["b"].dynamicDataCache.data,n=Object(P["a"])(this.element.data.properties,t),a=n.filter((function(e){return!Object.keys(t).includes(e)})),!a.length){e.next=10;break}return e.next=8,Object(P["c"])(a);case 8:i=e.sent,p["b"].updateDynamicDataCache(Object(C["a"])({},t,{},i));case 10:return r=!!p["b"].previewedItem,e.abrupt("return",Object(je["b"])(this.element.data.properties,(function(e){return Object(ke["f"])(e)&&(t[e]||r)?t[e]:e})));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"renderAttributeValue",value:function(e){return"template"in e?Object(ye["k"])(e.template,this.twigProps,Object(ye["e"])(this.baseElement,e)):"propertyPath"in e?String(_.a.get(this.element.data.properties,e.propertyPath,"")):"rawValue"in e?e.rawValue:null}},{key:"handleActiveElementIdChange",value:function(){this.isActive=this.activeElementId===this.element.id}},{key:"activateElement",value:function(){this.behaviorModeEnabled||(p["g"].activateElement(this.element.id),Object(J["e"])("elementproperties"))}},{key:"canDrag",value:function(e){if(!this.isDragAndDropEnabled)return!1;var t=e.target,n=["textarea","input","select"],a=t.tagName.toLowerCase();return!n.includes(a)&&!p["g"].elementWithContentEditable}},{key:"disableDefaultDrag",value:function(e){e.preventDefault()}},{key:"maybePreventDefault",value:function(e){var t=e.target,n=["a","button"],a=n.join(", "),i=n.some((function(e){return t.closest(e)}));(t.matches(a)||i)&&e.preventDefault()}},{key:"activateAndMaybeStartDrag",value:function(e){e.stopPropagation(),this.activateElement(),this.canDrag(e)&&(this.behaviorModeEnabled||(this.dragMouseStartX=e.clientX,this.dragMouseStartY=e.clientY,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.removeDragListeners)))}},{key:"removeDragListeners",value:function(){this.easyEvent.removeAll(),this.dragMouseStartX=!1,this.dragMouseStartY=!1}},{key:"dragging",value:function(e){if(!this.behaviorModeEnabled&&Object(_e["b"])(e)&&!1!==this.dragMouseStartX&&!1!==this.dragMouseStartY){var t=e.clientX,n=e.clientY;(Math.abs(t-this.dragMouseStartX)>3||Math.abs(n-this.dragMouseStartY)>3)&&(p["g"].setCanvasElementDraggedId(this.element.id),this.removeDragListeners())}}},{key:"enableContentEditableAndFocus",value:function(e){var t=e.target,n=null;if(n=t.dataset.contentEditablePropertyPath||t.dataset.nodeId?t:t.closest("[data-content-editable-property-path]"),n){var a=n.dataset.contentEditablePropertyPath;if(a){var i=_.a.get(this.twigProps,Object(ke["b"])(a)),r=null===i||void 0===i?void 0:i.field.slug;if(r)return}var o="true"===n.getAttribute("contenteditable");o||(p["g"].setContentEditableElementId(this.element.id),n.setAttribute("contenteditable","true"),n.focus(),window.Breakdance.canvas.document.addEventListener("keydown",this.handleKeydownInsideContentEditable),n.addEventListener("paste",this.pasteWithoutFormatting))}}},{key:"saveContentEditable",value:function(e){var t=e.target;window.Breakdance.canvas.document.removeEventListener("keydown",this.handleKeydownInsideContentEditable),t.removeEventListener("paste",this.pasteWithoutFormatting),t.setAttribute("contenteditable","false"),p["g"].setContentEditableElementId(null);var n=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;if(n){t.innerHTML=t.innerHTML.trim();var a=t.childNodes[t.childNodes.length-1];a&&"BR"===a.tagName&&a.remove();var i=document.createElement("textarea");i.innerHTML=t.innerHTML;var r=i.value;p["d"].throttledPropertyChanged({elementId:this.element.id,path:n,value:r,meta:{snapshotLabel:Le["a"].forElementBasingOnChangedStorePropertyPath(this.baseElement,n,Ne["a"].CHANGE)}})}}},{key:"pasteWithoutFormatting",value:function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");n&&(window.Breakdance.canvas.document.execCommand("insertHTML",!1,Object(He["a"])(n)),e.preventDefault())}},{key:"handleKeydownInsideContentEditable",value:function(e){return"Space"===e.code?(e.preventDefault(),e.stopPropagation(),void window.Breakdance.canvas.document.execCommand("insertText",!1," ")):"Enter"===e.code?(window.Breakdance.canvas.document.execCommand("insertLineBreak"),void e.preventDefault()):"Escape"===e.code||(e.ctrlKey||e.metaKey)&&"s"===e.key?(e.preventDefault(),void this.saveContentEditable(e)):void 0}},{key:"isEmptyContainer",get:function(){var e=Object(Me["e"])(this.element.data.type).type,t="popup"===e||"container"===e||"container-link"===e||"section"===e;return t&&0===this.element.children.length}},{key:"isEmptyColumns",get:function(){return this.element.data.type===ue["a"]&&0===this.element.children.length}},{key:"parentProps",get:function(){var e=this.baseElement.settings&&this.baseElement.settings.sharePropsWithSSRChildren,t=this.element.data.properties||{},n=(t.design,Object(S["a"])(t,["design"]));return(e?n:this.ssrParentProperties)||{}}},{key:"elementPropertiesHash",get:function(){var e=Object(Ve["a"])(this.element.data.properties)||"";return Object(Ue["a"])("".concat(e).concat(this.element.id))}},{key:"processedTemplate",get:function(){if(!this.hasRequiredPluginsAndTheyAreAvailable&&this.baseElement.settings&&this.baseElement.settings.requiredPlugins)return Te(this.baseElement.name,this.baseElement.settings.requiredPlugins);var e=Object(ye["k"])(this.baseElement.template,this.twigProps,Object(ye["f"])(this.baseElement));return e?Object(ye["j"])(e,this.tags):""}},{key:"shouldSsr",get:function(){var e=p["g"].lastModifiedElementProperty.elementId!==this.element.id||!this.baseElement.propertyPathsToSsrElementWhenValueChanges||this.baseElement.propertyPathsToSsrElementWhenValueChanges.find((function(e){var t;return null===(t=p["g"].lastModifiedElementProperty.path)||void 0===t?void 0:t.startsWith(e)}));return this.processedTemplate.includes("%%SSR%%")&&(e||this.refreshSsr)}},{key:"refreshSsr",get:function(){return!!p["g"].refreshSsrElementId&&p["g"].refreshSsrElementId===this.element.id}},{key:"hasRequiredPluginsAndTheyAreAvailable",get:function(){if(!this.baseElement.settings||!this.baseElement.settings.requiredPlugins)return!0;var e=this.baseElement.settings.requiredPlugins.filter((function(e){return p["b"].availableWordpressPlugins.includes(e)}));return e.length===this.baseElement.settings.requiredPlugins.length}},{key:"ssrValueOrMessage",get:function(){return""===this.ssrInnerHtml?p["g"].settings.disableNoticeForEmptySSRElements?"":Ie:this.shouldSsr||this.ssrInnerHtml?this.isElementUpdating?this.ssrInnerHtml||"":this.ssrInnerHtml:null}},{key:"tags",get:function(){return{id:this.element.id,selector:this.elementSelector,postId:this.postId}}},{key:"isElementUpdating",get:function(){return!!p["g"].elementsThatAreUpdating[this.element.id]}},{key:"shouldShow",get:function(){return Object(I["a"])("elementShouldShow",!0,this.element.data.properties,{currentBreakpoint:p["g"].currentBreakpoint})}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"elementChildrenCount",get:function(){return this.element.children.length}},{key:"elementSelector",get:function(){return".breakdance .".concat(this.uniqueClassName)}},{key:"rootTag",get:function(){var e,t,n,a=this.baseElement.htmlTag.pathToControl?_.a.get(this.element.data.properties,this.baseElement.htmlTag.pathToControl):null===(e=this.element.data.properties)||void 0===e||null===(t=e.settings)||void 0===t||null===(n=t.advanced)||void 0===n?void 0:n.tag;return"string"===typeof a&&a||this.baseElement.htmlTag.default}},{key:"baseElement",get:function(){return p["b"].element(this.element.data.type)}},{key:"twigProps",get:function(){return Object(je["a"])(this.element.data.properties)&&0!==Object.entries(this.element.data.properties).length?this.dynProps:{}}},{key:"postId",get:function(){return p["d"].document.documentMeta.id}},{key:"htmlId",get:function(){return Object(Fe["j"])(this.element)}},{key:"currentlyDragging",get:function(){return p["g"].currentlyDraggingCanvasElementId===this.element.id}},{key:"uniqueClassName",get:function(){return Object(Fe["c"])(this.element,this.postId)}},{key:"baseClassName",get:function(){return Object(Fe["b"])(this.baseElement)}},{key:"classList",get:function(){var e,t,n,a,i=[this.uniqueClassName,"builder-element",this.baseClassName];this.isActive&&i.push("breakdance--active-element"),this.currentlyDragging&&i.push("breakdance--currently-dragging"),this.isEmptyContainer&&i.push("breakdance--empty-container");var r=null!==(e=null===(t=this.element.data.properties)||void 0===t||null===(n=t.settings)||void 0===n||null===(a=n.advanced)||void 0===a?void 0:a.classes)&&void 0!==e&&e;return r&&i.push.apply(i,Object(k["a"])(r)),this.baseElement.settings&&this.baseElement.settings.bypassPointerEvents&&i.push("breakdance-children-pointer-events-none"),this.isElementUpdating&&i.push("breakdance-element-is-updating"),i.push.apply(i,Object(k["a"])(this.additionalClasses)),i}},{key:"additionalClasses",get:function(){var e=this;return this.baseElement.additionalClasses?this.baseElement.additionalClasses.map((function(t){var n=Object(ye["k"])(t.template,e.twigProps,Object(ye["d"])(e.baseElement,t));if(n)return{name:t.name,include:n}})).filter(We["isDefined"]).filter((function(e){return!!e.include})).map((function(e){return e.name})):[]}},{key:"attributes",get:function(){var e,t,n,a,i=this,r={},o=[].concat(Object(k["a"])(this.baseElement.attributes||[]),Object(k["a"])(p["b"].elementsExternalAttrsDepsAndActions.attributes||[]));o.forEach((function(e){var t=i.renderAttributeValue(e);t&&(r[e.name]=Object(ye["j"])(t,i.tags))}));var s=null!==(e=null===(t=this.element.data.properties)||void 0===t||null===(n=t.settings)||void 0===n||null===(a=n.advanced)||void 0===a?void 0:a.attributes)&&void 0!==e?e:[];s.forEach((function(e){r[e.name]=e.value})),r["data-node-id"]="".concat(this.element.id);var l={};return Object.keys(r).forEach((function(e){r[e]&&(l[e]=r[e])})),l}},{key:"contentEditablePropertyPath",get:function(){return this.attributes["data-content-editable-property-path"]}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"isDragAndDropEnabled",get:function(){return p["g"].hasFullAccess}},{key:"behaviorModeEnabled",get:function(){var e=p["g"].builderBehaviorElementId;return!!e&&Object(Re["s"])(p["d"].document.tree,e,this.element.id)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ke.prototype,"element",void 0),Object(u["a"])([Object(d["d"])()],Ke.prototype,"parentId",void 0),Object(u["a"])([Object(d["d"])()],Ke.prototype,"ssrParentProperties",void 0),Object(u["a"])([Object(d["h"])("ssrParentProperties",{deep:!0})],Ke.prototype,"rerenderFromServeOnParentPropertyChange",null),Object(u["a"])([Object(d["h"])("refreshSsr")],Ke.prototype,"rerenderFromServerOnRefreshSsr",null),Object(u["a"])([Object(d["h"])("twigProps")],Ke.prototype,"maybeRerenderFromServerOnPropertyChange",null),Object(u["a"])([Object(d["h"])("breakpoints",{deep:!0})],Ke.prototype,"onBreakpointsChange",null),Object(u["a"])([Object(d["h"])("twigProps",{deep:!0,immediate:!0})],Ke.prototype,"onTwigPropsChange",null),Object(u["a"])([Object(d["h"])("baseElement.cssTemplate")],Ke.prototype,"onCssTemplateChange",null),Object(u["a"])([Object(d["h"])("baseElement.defaultCss")],Ke.prototype,"onDefaultCssChange",null),Object(u["a"])([Object(d["h"])("baseElement.dependencies",{deep:!0})],Ke.prototype,"onInternalDependenciesChange",null),Object(u["a"])([Object(d["h"])("globalSettings.".concat($e["a"].typographyPresets),{deep:!0})],Ke.prototype,"refreshIfTypographyPresetsChange",null),Object(u["a"])([Object(d["h"])("elementChildrenCount",{})],Ke.prototype,"elementChildrenCountChanged",null),Object(u["a"])([Object(x["a"])({default:function(){return this.element.data.properties},watch:["elementPropertiesHash"]})],Ke.prototype,"dynProps",null),Object(u["a"])([Object(d["h"])("activeElementId",{immediate:!0})],Ke.prototype,"handleActiveElementIdChange",null),Ke=Ee=Object(u["a"])([Object(d["a"])({})],Ke);var Xe,Ye,Qe=Ke,Ze=Qe,Je=Object(ie["a"])(Ze,Xe,Ye,!1,null,null,null),et=Je.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-chrome",class:e.hideClass},[n("div",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]},[n("SpacingBars"),n("ColumnDragSizer")],1),n("NodeTitlebar"),n("NodeHoverControls"),n("NodeContentEditable")],1)},nt=[],at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-dots-wrapper",style:e.dragDotsWrapperPositionStyle},[n("div",{staticClass:"drag-dot drag-dot-top-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-top-middle",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-top-right",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-right",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-middle",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:e.dragStart}})])},it=[];function rt(e){return function(t,n){if(p["g"].activeElementId){var a=function(e,t){return e+t>=0?e+t:0};if("xProperty"in e&&e.xProperty){var i=e.xProperty.replace("%%CURRENTMEDIAQUERY%%",p["g"].currentBreakpoint.id),r=a(t.width,n.lastXChange);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:i,value:{number:r,unit:"px"},meta:{snapshotLabel:"Resize element"}})}if("yProperty"in e&&e.yProperty){var o=e.yProperty.replace("%%CURRENTMEDIAQUERY%%",p["g"].currentBreakpoint.id),s=a(t.height,n.lastYChange);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:o,value:{number:s,unit:"px"},meta:{snapshotLabel:"Resize element"}})}}}}var ot=n("0024"),st={xProperty:"design.size.width.%%CURRENTMEDIAQUERY%%"},lt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mouseDragInfo=!1,e.dragDotsWrapperPositionStyle={display:"none"},e.dragCallback=!1,e.unsubscribeFromStorePositionDotsWrapper=function(){},e.easyEvent=new _e["a"],e}return Object(s["a"])(n,[{key:"nextTickPositionDragDotsWrapper",value:function(){var e=this;Object(ot["a"])((function(){return e.positionDragDotsWrapper()}))}},{key:"beforeMount",value:function(){this.positionDragDotsWrapper(),this.unsubscribeFromStorePositionDotsWrapper=this.$store.subscribe(this.nextTickPositionDragDotsWrapper),window.addEventListener("resize",this.nextTickPositionDragDotsWrapper)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionDotsWrapper(),window.removeEventListener("resize",this.nextTickPositionDragDotsWrapper)}},{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.dragCallback=rt(st),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd)}},{key:"dragging",value:function(e){if(Object(_e["b"])(e)){e.preventDefault(),e.stopPropagation();var t=Object(Be["b"])();if(!t||!this.mouseDragInfo)return;this.mouseDragInfo=Object(C["a"])({},this.mouseDragInfo,{currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY}),this.dragCallback&&this.dragCallback(t,this.mouseDragInfo),this.positionDragDotsWrapper()}}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.mouseDragInfo=!1,this.dragCallback=!1}},{key:"positionDragDotsWrapper",value:function(){p["g"].activeElementId||(this.dragDotsWrapperPositionStyle={display:"none"});var e=Object(Be["b"])();if(e){var t=e.x,n=e.y,a=e.width,i=e.height;this.dragDotsWrapperPositionStyle={position:"absolute",top:n.toString()+"px",left:t.toString()+"px",width:a.toString()+"px",height:i.toString()+"px"}}}}]),n}(a["a"]);lt=Object(u["a"])([Object(d["a"])({})],lt);var ct=lt,ut=ct,dt=Object(ie["a"])(ut,at,it,!1,null,null,null),pt=dt.exports,vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.bars,(function(t,a){return n("SpacingBar",{key:a,attrs:{bar:t,isDragging:e.isDragging,isActiveBar:e.clickedHandle===t.location},on:{mousedown:function(n){return e.dragStart(n,t.location)}}})})),1)},ht=[],mt=n("0f32"),ft=n.n(mt),bt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.clickedHandle=!1,e.mouseDragInfo=!1,e.throttledDragging=ft()(e.dragging,60),e.unsubscribeFromStorePositionWrapper=function(){},e.wrapperPositionStyle={display:"none"},e}return Object(s["a"])(n,[{key:"dragCallback",value:function(e,t,n){console.warn("To use DragMixin you must implement dragCallback()")}},{key:"dragEndCallback",value:function(){}},{key:"dragStartCallback",value:function(e){}},{key:"dragStart",value:function(e,t){e.stopPropagation(),"string"===typeof t?(p["g"].setDragMixinDragging(!0),this.clickedHandle=t,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},window.Breakdance.canvas.document.addEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.addEventListener("mouseup",this.dragEnd),this.dragStartCallback(t)):console.warn("To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')")}},{key:"dragging",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),requestAnimationFrame((function(){return t._draggingFunc(e)}))}},{key:"_draggingFunc",value:function(e){var t=Object(Be["b"])();t&&this.mouseDragInfo&&(this.mouseDragInfo=Object(C["a"])({},this.mouseDragInfo,{currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY}),this.clickedHandle&&this.dragCallback(t,this.mouseDragInfo,this.clickedHandle),this.positionWrapper(),Object(Be["a"])())}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),window.Breakdance.canvas.document.removeEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.removeEventListener("mouseup",this.dragEnd),this.mouseDragInfo=!1,this.clickedHandle=!1,p["g"].setDragMixinDragging(!1),this.dragEndCallback(),Object(Be["a"])()}},{key:"nextTickPositionsWrapper",value:function(){Object(ot["a"])(this.positionWrapper)}},{key:"beforeMount",value:function(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper)}},{key:"positionWrapper",value:function(){if(p["g"].activeElementId){var e=Object(Be["b"])();if(e){var t=e.x,n=e.y,a=e.width,i=e.height;this.wrapperPositionStyle={position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),width:"".concat(a,"px"),height:"".concat(i,"px")}}}else this.wrapperPositionStyle={display:"none"}}},{key:"isDragging",get:function(){return!!this.mouseDragInfo}}]),n}(a["a"]);bt=Object(u["a"])([d["a"]],bt);var gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spacing-bar",class:e.classList,style:e.style,on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[n("div",{staticClass:"spacing-bar-current-value"},[e._v(e._s(e.value)+"px")])])},yt=[];function Ot(e,t){var n=kt(e,t);return n||0}function kt(e,t){if(!p["g"].activeElement)return!1;var n=jt(e,p["g"].currentBreakpoint.id),a=parseInt(_.a.get(p["g"].activeElement,"data.properties.".concat(n,".number")));a||(a=0);var i=_.a.get(p["g"].activeElement,"data.properties.".concat(n,".unit"));if(i||(i="px"),"px"!==i&&0!==a){var r=Object(Be["i"])(p["g"].activeElement);if(!r)return!1;var o=parseInt(r.getPropertyValue(t));return o}return a}function jt(e,t){return e.replace("%%BREAKPOINT%%",t)}var St=n("f57e"),Ct=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isHovering=!1,e.resizeObserver=new ResizeObserver(e.onActiveElementResize),e.activeElementPositionAndSize=null,e.valueAtMomentOfElementPositionAndSizeCalculation=null,e}return Object(s["a"])(n,[{key:"updateActiveElementPositionWhenItsPresent",value:function(){var e=this.activeElement;if(e){var t=Object(Be["f"])(e);if(t)return this.activeElementPositionAndSize=Object(Be["g"])(t)||null,void(this.valueAtMomentOfElementPositionAndSizeCalculation=this.value)}this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}},{key:"mounted",value:function(){var e=this;this.intervalHandle=setInterval((function(){Object(ot["a"])(e.updateActiveElementPositionWhenItsPresent)}),50)}},{key:"handleActiveElementChange",value:function(){this.updateActiveElementPositionWhenItsPresent(),this.resizeObserver.disconnect();var e=this.activeElement;if(e){var t=Object(Be["f"])(e);t&&(this.resizeObserver.observe(t,{box:"border-box"}),t.parentElement&&this.resizeObserver.observe(t.parentElement,{box:"border-box"}))}}},{key:"onActiveElementResize",value:function(){this.updateActiveElementPositionWhenItsPresent()}},{key:"beforeDestroy",value:function(){this.resizeObserver.disconnect(),this.intervalHandle&&clearInterval(this.intervalHandle)}},{key:"value",get:function(){return Ot(this.bar.affectedPropertyPath,this.bar.cssProperty)}},{key:"activeElement",get:function(){return St["h"].activeElement}},{key:"classList",get:function(){return["spacing-bar-".concat(this.bar.location)]}},{key:"style",get:function(){return this.isDragging&&this.isActiveBar||this.isHovering&&!this.isDragging?Object(C["a"])({},this.barStyle,{opacity:1}):this.barStyle}},{key:"barStyle",get:function(){var e=this.activeElementPositionAndSize;if(!e)return{};var t=this.valueAtMomentOfElementPositionAndSizeCalculation||this.value,n=e.width,a=e.height,i=e.y,r=e.x,o=t>5?t:5;switch(this.bar.location){case"inside-top":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"outside-top":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(-o+i,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"inside-bottom":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i+a-o,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"outside-bottom":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i+a,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"inside-left":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r,"px"),cursor:"col-resize"};case"outside-left":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r-o,"px"),cursor:"col-resize"};case"inside-right":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r+n-o,"px"),cursor:"col-resize"};case"outside-right":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r+n,"px"),cursor:"col-resize"};default:return{}}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ct.prototype,"bar",void 0),Object(u["a"])([Object(d["d"])()],Ct.prototype,"isDragging",void 0),Object(u["a"])([Object(d["d"])()],Ct.prototype,"isActiveBar",void 0),Object(u["a"])([Object(d["h"])("activeElement",{immediate:!0})],Ct.prototype,"handleActiveElementChange",null),Ct=Object(u["a"])([Object(d["a"])({})],Ct);var xt=Ct,wt=xt,Pt=Object(ie["a"])(wt,gt,yt,!1,null,null,null),Et=Pt.exports,_t=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.originalValue=!1,e}return Object(s["a"])(n,[{key:"dragCallback",value:function(e,t,n){var a=this.bars.filter((function(e){return e.location===n})).pop();if(p["g"].activeElementId&&a){var i=0,r=kt(a.affectedPropertyPath,a.cssProperty);switch(r||(r=0),this.originalValue||(this.originalValue=r),n){case"inside-top":case"inside-bottom":case"outside-top":case"outside-bottom":i=this.originalValue+t.totalYChange;break;case"inside-left":case"inside-right":case"outside-left":case"outside-right":i=this.originalValue+t.totalXChange;break}i<0&&(i=0);var o=jt(a.affectedPropertyPath,p["g"].currentBreakpoint.id);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:o,value:{number:i,unit:"px",style:"".concat(i,"px")},meta:{snapshotLabel:Le["a"].forElementByTreeNodeId(p["g"].activeElementId,o,Ne["a"].CHANGE)}})}}},{key:"dragEndCallback",value:function(){this.originalValue=!1}},{key:"bars",get:function(){return this.activeElementSpacingBars?this.activeElementSpacingBars:[]}},{key:"activeElementSpacingBars",get:function(){return!!p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type).spacingBars}}]),n}(Object(d["c"])(bt));_t=Object(u["a"])([Object(d["a"])({components:{SpacingBar:Et}})],_t);var It=_t,Dt=It,Tt=Object(ie["a"])(Dt,vt,ht,!1,null,null,null),At=Tt.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldShow?n("div",{staticClass:"drag-dots-wrapper",style:e.wrapperPositionStyle},[e.isNotFarLeftColumn?n("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:function(t){return e.dragStart(t,"left")}}},[e.resizedWidths&&"left"in e.resizedWidths?n("div",{staticClass:"drag-dots-column-widths-values"},[n("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.left.siblingWidth)+"% ")]),n("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.left.resizedWidth)+"% ")])]):e._e()]):e._e(),e.isNotFarRightColumn?n("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:function(t){return e.dragStart(t,"right")}}},[e.resizedWidths&&"right"in e.resizedWidths?n("div",{staticClass:"drag-dots-column-widths-values"},[n("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.right.resizedWidth)+"% ")]),n("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.right.siblingWidth)+"% ")])]):e._e()]):e._e()]):e._e()},Bt=[],Ft=(n("a9e3"),n("b680"),n("ade3"));n("9129");function Mt(e){var t=Wt(e),n=Lt(e);if(!t||!n)return!1;var a=Object(ve["a"])(t/n*100);return a||!1}function Vt(e,t,n){var a=n,i=Lt(e);if(!a||!i)return!1;var r=(a+t)/i*100;return Object(ve["a"])(r)}function Wt(e){var t=Object(Be["m"])(e);return!!t&&t.width}function Lt(e){var t=Object(Re["r"])(p["d"].document.tree,e.id);if(t){var n=Object(Be["m"])(t);if(n)return n.width}return!1}function Nt(e){var t=Object(Be["i"])(e);if(!t)return!1;var n=parseInt(t.getPropertyValue("padding-left")),a=parseInt(t.getPropertyValue("padding-right"));if(Number.isNaN(n)||Number.isNaN(a))return!1;var i=Lt(e);if(!i)return!1;var r=(n+a)/i*100;return Math.ceil(r)}var Ut=n("7665"),$t=20;function Ht(e,t,n,a){var i="right"===a?t+1:t-1,r=e.children[i],o=e.children[t];if(!o||!r)return!1;if(t<0||i<0)return!1;var s=Nt(o),l=Nt(r),c=$t;!1!==s&&!1!==l&&(c=Math.max(s,l));var u=100-Object(ce["c"])(o)-Object(ce["c"])(r),d=100-u-n;return n<c&&(n=c,d=100-u-n),d<c&&(d=c,n=100-u-d),u>100-2*c&&(n=(100-u)/2,d=(100-u)/2),n=Object(ve["a"])(n),d=Object(ve["a"])(d),u=Object(ve["a"])(u),n+d+u!==100&&(d=100-u-n,d=Object(ve["a"])(d)),Object(Ut["a"])(o.id,n),Object(Ut["a"])(r.id,d),Object(ce["h"])(e),{resizedWidth:n,siblingWidth:d}}var zt=n("2c2f"),Gt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.resizedWidths=!1,e.widthOnDragStart=!1,e}return Object(s["a"])(n,[{key:"dragStartCallback",value:function(){de["a"].startTransaction()}},{key:"dragCallback",value:function(e,t,n){if(this.activeColumn&&("left"===n||"right"===n)){var a=Object(Re["q"])(p["d"].document.tree,this.activeColumn.id),i=Object(Re["r"])(p["d"].document.tree,this.activeColumn.id);if(!1!==a&&!1!==i){var r=0;if(this.widthOnDragStart||(this.widthOnDragStart=Wt(this.activeColumn)),this.widthOnDragStart){r="right"===n?t.totalXChange:-1*t.totalXChange;var o=Vt(this.activeColumn,r,this.widthOnDragStart);if(o){var s=Ht(i,a,o,n);s&&(this.resizedWidths=Object(Ft["a"])({},n,{resizedWidth:Number(s.resizedWidth.toFixed(2)),siblingWidth:Number(s.siblingWidth.toFixed(2))}))}}}}}},{key:"dragEndCallback",value:function(){this.resizedWidths=!1,this.widthOnDragStart=!1,de["a"].endTransaction("Resizing column")}},{key:"columnsAreNotResizeableAtBaseBreakpoint",get:function(){if(!this.activeColumn)return!1;var e=Object(ce["d"])(this.activeColumn);if(!e)return!1;var t="design.layout.stack_vertically",n="design.layout.fifty_percent",a=_.a.get(e.data.properties,t,!1),i=_.a.get(e.data.properties,n,!1);return a===zt["a"]||i===zt["a"]}},{key:"shouldShow",get:function(){return p["g"].currentBreakpoint.id===zt["a"]&&this.activeColumn&&!this.columnsAreNotResizeableAtBaseBreakpoint}},{key:"isNotFarLeftColumn",get:function(){if(!this.activeColumn)return!1;var e=Object(Re["q"])(p["d"].document.tree,this.activeColumn.id);return!1!==e&&0!==e}},{key:"isNotFarRightColumn",get:function(){if(!this.activeColumn)return!1;var e=Object(Re["q"])(p["d"].document.tree,this.activeColumn.id),t=Object(Re["r"])(p["d"].document.tree,this.activeColumn.id);return!1!==e&&!1!==t&&e!==t.children.length-1}},{key:"activeColumn",get:function(){return!!Object(ce["f"])(p["g"].activeElement)&&p["g"].activeElement}},{key:"columnWidthInPercent",get:function(){return!!this.activeColumn&&Mt(this.activeColumn)}}]),n}(Object(d["c"])(bt));Gt=Object(u["a"])([Object(d["a"])({})],Gt);var qt=Gt,Kt=qt,Xt=Object(ie["a"])(Kt,Rt,Bt,!1,null,null,null),Yt=Xt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[n("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?n("OnCanvasDragHandle",{attrs:{node:e.node}},[n("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[n("span",{staticClass:"node-titlebar-button"},[n("Icon",{attrs:{icon:"MaximizeIcon",size:"10"}})],1),n("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?n("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?n("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[n("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[n("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[n("Icon",{attrs:{icon:"DuplicateIcon",size:"13"}})],1),n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[n("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],2)])},Zt=[],Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{mousedown:function(t){return t.stopPropagation(),e.updateCurrentlyDraggingElementId(t)}}},[e._t("default")],2)},en=[],tn=(n("c740"),n("13d5"),n("a7c6")),nn=n("93da"),an=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSubmittedDrag=!1,e.easyEvent=new _e["a"],e}return Object(s["a"])(n,[{key:"watchCanvasElementDraggedId",value:function(){this.dragStart()}},{key:"updateCurrentlyDraggingElementId",value:function(){p["g"].setCanvasElementDraggedId(this.node.id)}},{key:"dragStart",value:function(){if(p["g"].hasFullAccess&&this.canvasElementDraggedId){this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd);var e=Object(Re["r"])(p["d"].document.tree,this.node.id);e&&this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:e.id,onlyShowTargetOutline:!0}),Object(Be["a"])()}}},{key:"setCanvasDragPlaceholderPosition",value:function(e){p["g"].setCanvasDragPlaceholderPosition(e)}},{key:"dragging",value:function(e){if(Object(_e["b"])(e)){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,a=Object(tn["a"])(t,n);if(void 0===a)return;var i=Object(Re["m"])(p["d"].document.tree,a);if(void 0===i)return;var r=Object(Me["a"])(p["d"].document.tree,i,this.nestingPermissions);if(!r)return;var o=r.id;if(a===this.node.id||Object(Re["w"])((function(e,t){return t||(t=e.children.find((function(e){return a===e.id}))),t}),this.node,void 0))this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:o,onlyShowTargetOutline:!0}),this.setDropPosition(!1);else if(a===o)this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(t,n,a,this.node.id,r);else if(r.children.find((function(e){return a===e.id})))this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,a,this.node.id,r);else if(Object(Re["w"])((function(e,t){return t||(t=e.children.find((function(e){return a===e.id}))),t}),r,void 0)){var s=Object(tn["b"])(t,n).reduce((function(e,t){return e||r.children.find((function(e){return e.id===t}))}),void 0);s&&this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,s.id,this.node.id,r)}}}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&p["d"].moveElement(this.lastSubmittedDrag),this.setCanvasDragPlaceholderPosition(null),this.lastSubmittedDrag=!1,p["g"].endCanvasElementDrag(),Object(Be["a"])()}},{key:"handleDragWhenMouseIsOverAChildOfTheDropTarget",value:function(e,t,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(tn["c"])(i),s="before"===Object(tn["d"])(e,t,n,o)?"before":"after",l=i.children.map((function(e){return e.id})).filter((function(e){return e!==a})),c=i.children.map((function(e){return e.id})).findIndex((function(e){return e===n})),u=l.findIndex((function(e){return e===n}));"after"===s&&u++,!0===r?(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:s}),this.setDropPosition(!1)):(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:s}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:u}))}},{key:"handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget",value:function(e,t,n,a,i){if(0===i.children.length)this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:0,beforeOrAfter:"after"}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:0});else{var r,o=i.children.map((function(e,t){return{positionAndSize:Object(Be["m"])(e,"absolute"),index:t,id:e.id}})).filter((function(e){return e.positionAndSize})).map((function(e){return{min:{x:e.positionAndSize.x,y:e.positionAndSize.y},max:{x:e.positionAndSize.x+e.positionAndSize.width,y:e.positionAndSize.y+e.positionAndSize.height},nodeIndex:e.index,id:e.id}})).map((function(n){return Object(C["a"])({},n,{distance:Object(nn["a"])(n,{x:e,y:t})})})),s=o.reduce((function(e,t){return e.distance<t.distance?e:t})),l=(s.min.x+s.max.x)/2,c=(s.min.y+s.max.y)/2,u=l>e?"left":"right",d=c>t?"above":"below",p=Object(tn["c"])(i);if(r="vertical"===p?"above"===d?"before":"after":"left"===u?"before":"after",s.id===a)return this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:s.nodeIndex,beforeOrAfter:r}),void this.setDropPosition(!1);var v=i.children.map((function(e){return e.id})).filter((function(e){return e!==a})),h=v.findIndex((function(e){return e===s.id}));"after"===r&&h++,this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:s.nodeIndex,beforeOrAfter:r}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:h})}}},{key:"setPlaceholder",value:function(e){Object(Me["k"])(p["d"].document.tree,this.node,e.dropTargetId)&&this.movePlaceholder(e.dropTargetId,e.dragPlaceholderIndex,e.beforeOrAfter)}},{key:"setDropPosition",value:function(e){!1!==e?Object(Me["k"])(p["d"].document.tree,this.node,e.droppedOnElementId)&&(this.lastSubmittedDrag=e):this.lastSubmittedDrag=!1}},{key:"movePlaceholder",value:function(e,t,n){var a=!1,i=Object(Re["m"])(p["d"].document.tree,e);if(i){var r=i.children[t],o=i.children[t-1],s=i.children[t+1];r&&r.id===this.node.id&&(a=!0),o&&o.id===this.node.id&&"before"===n&&(a=!0),s&&s.id===this.node.id&&"after"===n&&(a=!0)}if(p["g"].canvasDragPlaceholderPosition){var l=function(){return t===p["g"].canvasDragPlaceholderPosition.nodeIndex+1},c=function(){return t===p["g"].canvasDragPlaceholderPosition.nodeIndex-1};if(p["g"].canvasDragPlaceholderPosition.parentId===e){if(l()&&"after"===p["g"].canvasDragPlaceholderPosition.position&&"before"===n)return;if(c()&&"before"===p["g"].canvasDragPlaceholderPosition.position&&"after"===n)return}}this.setCanvasDragPlaceholderPosition({parentId:e,nodeIndex:t,position:n,onlyShowTargetOutline:a})}},{key:"nestingPermissions",get:function(){return Object(Me["f"])(this.node)}},{key:"canvasElementDraggedId",get:function(){return p["g"].currentlyDraggingCanvasElementId}}]),n}(d["g"]);Object(u["a"])([Object(d["d"])()],an.prototype,"node",void 0),Object(u["a"])([Object(d["h"])("canvasElementDraggedId")],an.prototype,"watchCanvasElementDraggedId",null),an=Object(u["a"])([d["a"]],an);var rn=an,on=rn,sn=Object(ie["a"])(on,Jt,en,!1,null,null,null),ln=sn.exports;function cn(e,t){var n=Object(Be["e"])(),a=n.x,i=n.y,r=document.getElementById("iframe"),o=window.Breakdance.canvas.document.querySelector(".breakdance-canvas-right-click-menu");if(o&&r){var s=r.getBoundingClientRect(),l=s.width,c=s.height,u=un(o),d=u.menuWidth,p=u.menuHeight,v=e+d+15>l?e-a-d:e-a,h=t+p+15>c?t-i-p:t-i;return{x:v,y:h}}}function un(e){e.style.display="block";var t=e.getBoundingClientRect(),n=t.width,a=t.height;return{menuWidth:n,menuHeight:a}}var dn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.refreshRate=500,e.unsubscribeFromStorePositionWrapper=function(){},e.titlebarPositionStyle={},e.wrapperPositionStyle={display:"none"},e.elementTitle="",e}return Object(s["a"])(n,[{key:"nextTickPositionsWrapper",value:function(){Object(ot["a"])(this.calculateStylesAndTitle)}},{key:"openContextMenu",value:function(e){e.stopPropagation(),e.preventDefault();var t=cn(e.clientX,e.clientY);p["g"].activeElementId&&t&&p["g"].setOnCanvasRightClickMenuState({elementId:p["g"].activeElementId,position:t})}},{key:"mounted",value:function(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval)}},{key:"calculateStylesAndTitle",value:function(){!p["g"].elementWithContentEditable&&p["g"].activeElement?(this.elementTitle=p["b"].element(p["g"].activeElement.data.type).name,this.wrapperPositionStyle=Object(Be["k"])(Object(Be["f"])(p["g"].activeElement)),this.titlebarPositionStyle=Object(Be["l"])(p["g"].activeElement)):this.wrapperPositionStyle={display:"none"}}},{key:"duplicate",value:function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)}},{key:"remove",value:function(){null!==p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})}},{key:"refreshSsr",value:function(){p["g"].setRefreshSsrElementId(p["g"].activeElementId)}},{key:"activateParent",value:function(){this.parentElement&&p["g"].activateElement(this.parentElement.id)}},{key:"isDraftSection",get:function(){if(!p["g"].activeElement)return!1;if(p["g"].activeElement.data.type!==ue["g"])return!1;var e=_.a.get(p["g"].activeElement.data.properties,"settings.advanced.draft");return!!e}},{key:"isDragAndDropEnabled",get:function(){return p["g"].hasFullAccess}},{key:"isElementUpdating",get:function(){return!!p["g"].activeElementId&&!!p["g"].elementsThatAreUpdating[p["g"].activeElementId]}},{key:"titlebarClasses",get:function(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}},{key:"isDragging",get:function(){return p["g"].currentlyDraggingCanvasElementId===p["g"].activeElementId}},{key:"hasSSr",get:function(){var e=p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type);return e?e.template.includes("%%SSR%%"):""}},{key:"hasParent",get:function(){return this.parentElement&&"root"!==this.parentElement.data.type}},{key:"node",get:function(){return p["g"].activeElement||!1}},{key:"parentElement",get:function(){if(!p["g"].activeElement)return!1;var e=Object(Re["r"])(p["d"].document.tree,p["g"].activeElement.id);return e||!1}}]),n}(d["g"]);dn=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],OnCanvasDragHandle:ln}})],dn);var pn=dn,vn=pn,hn=Object(ie["a"])(vn,Qt,Zt,!1,null,null,null),mn=hn.exports,fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle})},bn=[],gn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.refreshRate=500,e.shouldShowControls=!1,e.unsubscribeFromStorePositionWrapper=function(){},e.throttledNextTickPositionWrapper=ft()((function(){return Object(ot["a"])((function(){return e.positionWrapper()}))}),100),e.disableMouseHoverOnMouseLeaveCanvas=function(){setTimeout((function(){return p["g"].setLastHoveredOnCanvasElementId(null)}),110)},e.throttledShowHoverControlsOnMouseMoveCanvas=ft()(e.showHoverControlsOnMouseMoveCanvas,100),e.wrapperPositionStyle={display:"none"},e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}},{key:"mounted",value:function(){var e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}},{key:"beforeDestroy",value:function(){var e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),null===e||void 0===e||e.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}},{key:"setHoveredNode",value:function(e,t){var n=Object(tn["a"])(e,t);if(void 0!==n){var a=Object(Re["m"])(p["d"].document.tree,n);a&&p["g"].setLastHoveredOnCanvasElementId(a.id)}}},{key:"showHoverControlsOnMouseMoveCanvas",value:function(e){var t=e.clientX,n=e.clientY;if(this.setHoveredNode(t,n),!1!==this.element){var a=Object(Be["m"])(this.element,"absolute");if(a){var i=a.x,r=a.y,o=a.width,s=a.height;this.shouldShowControls=t>i+o-48&&t<i+o&&n>r&&n<r+s}}}},{key:"positionWrapper",value:function(){!p["g"].elementWithContentEditable&&this.element?this.wrapperPositionStyle=Object(Be["k"])(Object(Be["f"])(this.element)):this.wrapperPositionStyle={display:"none"}}},{key:"wrapperClassList",get:function(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}},{key:"isNotDragging",get:function(){return!p["g"].isCanvasElementBeingDragged&&!p["g"].isDragMixinDragging}},{key:"element",get:function(){if(!p["g"].lastHoveredOnCanvasElementId||p["g"].elementWithContentEditable)return!1;var e=Object(Re["m"])(p["d"].document.tree,p["g"].lastHoveredOnCanvasElementId);return e||!1}}]),n}(d["g"]);gn=Object(u["a"])([Object(d["a"])({})],gn);var yn=gn,On=yn,kn=Object(ie["a"])(On,fn,bn,!1,null,null,null),jn=kn.exports,Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},Cn=[],xn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.unsubscribeFromStorePositionWrapper=function(){},e.wrapperStyle={display:"none"},e.lastModifiedDomElement=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}},{key:"calculateWrapperStyles",value:function(){var e=this;Object(ot["a"])((function(){!e.domElement&&e.lastModifiedDomElement&&(e.lastModifiedDomElement.removeEventListener("input",e.calculateWrapperStyles),e.lastModifiedDomElement=null),e.wrapperStyle=Object(Be["k"])(e.domElement),e.domElement&&e.domElement.addEventListener("input",e.calculateWrapperStyles)}))}},{key:"domElement",get:function(){if(!p["g"].elementWithContentEditable)return null;var e=Object(Re["m"])(p["d"].document.tree,p["g"].elementWithContentEditable);if(!e)return null;var t=Object(Be["f"])(e);if("true"===(null===t||void 0===t?void 0:t.contentEditable))return this.lastModifiedDomElement=t,t;var n=null===t||void 0===t?void 0:t.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}}]),n}(d["g"]);xn=Object(u["a"])([Object(d["a"])({})],xn);var wn=xn,Pn=wn,En=Object(ie["a"])(Pn,Sn,Cn,!1,null,null,null),_n=En.exports,In=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.hideTitleBar=!1,e.hideHoverControls=!1,e}return Object(s["a"])(n,[{key:"onElementSelected",value:function(){var e,t=this;null===(e=this.observer)||void 0===e||e.disconnect(),this.element&&(this.observer=this.observePositionChange(this.element,(function(e){t.hideTitleBar=Object(Be["q"])(e)})))}},{key:"onHoveredElementSelected",value:function(){var e,t=this;null===(e=this.hoverObserver)||void 0===e||e.disconnect(),this.hoveredElement&&(this.hoverObserver=this.observePositionChange(this.hoveredElement,(function(e){t.hideHoverControls=Object(Be["q"])(e)})))}},{key:"beforeDestroy",value:function(){this.destroyObserver()}},{key:"observePositionChange",value:function(e,t){if(e){var n=Object(Be["f"])(e);if(n){var a=function(e){e.forEach((function(e){var n=e.target;t(n)}))},i=new MutationObserver(a),r={attributes:!0,attributeFilter:["class"]};return i.observe(n,r),i}}}},{key:"destroyObserver",value:function(){var e,t;null===(e=this.observer)||void 0===e||e.disconnect(),null===(t=this.hoverObserver)||void 0===t||t.disconnect()}},{key:"element",get:function(){return St["h"].activeElement||!1}},{key:"hoveredElement",get:function(){return!!St["h"].lastHoveredOnCanvasElementId&&Object(Re["m"])(St["c"].document.tree,St["h"].lastHoveredOnCanvasElementId)}},{key:"hideClass",get:function(){var e=null;return this.hideTitleBar&&this.hideHoverControls?e="all":this.hideHoverControls?e="hover":this.hideTitleBar&&(e="titlebar"),e?"node-chrome--hide-".concat(e):null}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("element")],In.prototype,"onElementSelected",null),Object(u["a"])([Object(d["h"])("hoveredElement")],In.prototype,"onHoveredElementSelected",null),In=Object(u["a"])([Object(d["a"])({components:{NodeContentEditable:_n,DragDots:pt,SpacingBars:At,ColumnDragSizer:Yt,NodeTitlebar:mn,NodeHoverControls:jn}})],In);var Dn=In,Tn=Dn,An=Object(ie["a"])(Tn,tt,nt,!1,null,null,null),Rn=An.exports,Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DragPlaceholder"),n("RightClickMenu",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]})],1)},Fn=[],Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-drag-placeholder-wrapper"},[n("div",{staticClass:"breakdance-drag-placeholder",style:e.dragPlaceholderPositionStyle}),n("div",{staticClass:"breakdance-drag-target-outline",style:e.dragTargetOutlineStyle})])},Vn=[],Wn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"canvasDragPlaceholderPosition",get:function(){return p["g"].canvasDragPlaceholderPosition}},{key:"parentNode",get:function(){if(!this.canvasDragPlaceholderPosition)return!1;var e=Object(Re["m"])(p["d"].document.tree,this.canvasDragPlaceholderPosition.parentId);return e||!1}},{key:"stackingStyle",get:function(){return this.canvasDragPlaceholderPosition&&this.parentNode?Object(tn["c"])(this.parentNode):{}}},{key:"dragPlaceholderPositionStyle",get:function(){if(!this.canvasDragPlaceholderPosition||!0===this.canvasDragPlaceholderPosition.onlyShowTargetOutline)return{};var e=Object(Re["m"])(p["d"].document.tree,this.canvasDragPlaceholderPosition.parentId);if(!e)return{};var t=8,n="".concat(t,"px");if(0===e.children.length){var a=e.id===Re["a"]?Object(Be["j"])():Object(Be["m"])(e);if(!a)return{};var i=a.x,r=a.y,o=a.width,s=a.height;return o-40>100&&(i+=20,o-=40),{display:"block",top:"".concat(r+s/2-t/2,"px"),left:"".concat(i,"px"),width:"".concat(o,"px"),height:n}}var l=e.children[this.canvasDragPlaceholderPosition.nodeIndex],c=Object(Be["m"])(l),u=Object(tn["c"])(e);if(!c)return{};var d=c.x,v=c.y,h=c.width,m=c.height;if("vertical"===u){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(v-(t/2-1),"px"),left:"".concat(d,"px"),width:"".concat(h,"px"),height:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(m+v-(t/2+1),"px"),left:"".concat(d,"px"),width:"".concat(h,"px"),height:n}}else if("horizontal"===u){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(v,"px"),left:"".concat(d-t/2,"px"),height:"".concat(m,"px"),width:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",left:"".concat(h+d-t/2,"px"),top:"".concat(v,"px"),height:"".concat(m,"px"),width:n}}return{}}},{key:"dragTargetOutlineStyle",get:function(){if(!this.parentNode)return{};var e=this.parentNode.id===Re["a"]&&0===p["d"].document.tree.root.children.length?Object(Be["j"])():Object(Be["m"])(this.parentNode);if(!e)return{};var t=e.x,n=e.y,a=e.width,i=e.height;return{display:"block",position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),width:"".concat(a,"px"),height:"".concat(i,"px")}}}]),n}(a["a"]);Wn=Object(u["a"])([Object(d["a"])({components:{}})],Wn);var Ln=Wn,Nn=Ln,Un=Object(ie["a"])(Nn,Mn,Vn,!1,null,null,null),$n=Un.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],staticClass:"breakdance-canvas-right-click-menu",style:e.wrapperPositionStyle},[n("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.copyElement}},[e._v(" Copy ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElement},on:{click:e.pasteElement}},[e._v(" Paste ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("design")}}},[e._v(" Paste Design ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("settings")}}},[e._v(" Paste Settings ")]),n("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),n("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.deleteElement}},[e._v(" Delete ")]),n("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),n("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsGlobalBlock},on:{click:e.openSaveGlobalBlockDialog}},[e._v(" Save as Global Block ")])],1),e.saveGlobalBlockDialog?n("GlobalBlockDialog",{attrs:{"element-id":e.elementIdToSaveAsGlobalBlock},on:{close:e.closeGlobalBlockDialog}}):e._e(),n("ClipboardDialog",{model:{value:e.clipboardDialog,callback:function(t){e.clipboardDialog=t},expression:"clipboardDialog"}})],1)},zn=[],Gn=n("f346"),qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"breakdance-canvas-right-click-menu-item":!0,"breakdance-canvas-right-click-menu-item-disabled":e.disabled},on:{click:function(t){e.disabled||e.$emit("click",t)}}},[e._t("default")],2)},Kn=[],Xn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Xn.prototype,"disabled",void 0),Xn=Object(u["a"])([Object(d["a"])({components:{}})],Xn);var Yn=Xn,Qn=Yn,Zn=Object(ie["a"])(Qn,qn,Kn,!1,null,null,null),Jn=Zn.exports,ea=n("f9f0"),ta=n("dbcf"),na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:e.value,width:500,closeable:!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Enable Paste")]},proxy:!0},{key:"text",fn:function(){return[n("p",[e._v(" To paste using the Edit menu, "),e.status&&!e.status.secure?[e._v(" your website needs to be served with HTTPS. ")]:e.status&&"granted"!==e.status.permission.state?[e._v(" please allow access to your clipboard. ")]:e._e()],2),n("p",[e._v("Alternatively, you can use your keyboard shortcuts:")]),n("ul",{staticClass:"clipboard-dialog-shortcuts"},[n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" C")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("copy")])]),n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" X")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("cut")])]),n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" V")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("paste")])])])]},proxy:!0}])})},aa=[],ia=n("2961"),ra=n("9274"),oa=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.status=null,e}return Object(s["a"])(n,[{key:"onChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ra["c"])();case 2:this.status=e.sent,this.status.permission.onchange=function(){t.$emit("input",!1)};case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.$emit("input",!1)}},{key:"metaKey",get:function(){return this.isAppleDevice?"":"Ctrl + "}},{key:"isAppleDevice",get:function(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],oa.prototype,"value",void 0),Object(u["a"])([Object(d["h"])("value",{immediate:!0})],oa.prototype,"onChange",null),oa=Object(u["a"])([Object(d["a"])({components:{Dialog:ia["a"]}})],oa);var sa=oa,la=sa,ca=(n("78ea"),Object(ie["a"])(la,na,aa,!1,null,null,null)),ua=ca.exports,da=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveGlobalBlockDialog=!1,e.clipboardDialog=!1,e.canPasteElement=!1,e.canPasteElementProperties=!1,e.elementIdToSaveAsGlobalBlock=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.Breakdance.canvas.document.addEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){window.Breakdance.canvas.document.removeEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}},{key:"handleRightClickInCanvas",value:function(e){e.preventDefault();var t=Object(tn["a"])(e.clientX,e.clientY),n=cn(e.clientX,e.clientY);n&&p["g"].setOnCanvasRightClickMenuState({elementId:t,position:n})}},{key:"closeRightClickMenuIfClickHappensOutsideRightClickMenu",value:function(e){if(!this.saveGlobalBlockDialog){var t=e.target.closest(".breakdance-canvas-right-click-menu");t||p["g"].setOnCanvasRightClickMenuState("closed")}}},{key:"onStateChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ra["c"])();case 2:if(a=e.sent,i=a.permission,this.permission=i.state,"prompt"!==this.permission){e.next=9;break}return this.canPasteElement=!0,this.canPasteElementProperties=!0,e.abrupt("return");case 9:return e.next=11,Object(Gn["a"])((null===(t=this.menuState)||void 0===t?void 0:t.elementId)?this.menuState.elementId:p["d"].document.tree.root.id);case 11:if(this.canPasteElement=e.sent,!(null===(n=this.menuState)||void 0===n?void 0:n.elementId)){e.next=18;break}return e.next=15,Object(Gn["b"])(this.menuState.elementId);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=!1;case 19:this.canPasteElementProperties=e.t0;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copyElement",value:function(){var e;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&Object(Gn["c"])(this.menuState.elementId),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"pasteElement",value:function(){var e;"prompt"===this.permission&&(this.clipboardDialog=!0),(null===(e=this.menuState)||void 0===e?void 0:e.elementId)?Object(Gn["d"])(this.menuState.elementId):Object(Gn["d"])(p["d"].document.tree.root.id),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"pasteElementProperties",value:function(e){var t;"prompt"===this.permission&&(this.clipboardDialog=!0),(null===(t=this.menuState)||void 0===t?void 0:t.elementId)&&Object(Gn["e"])(this.menuState.elementId,e),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"deleteElement",value:function(){var e,t;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&(p["d"].deleteElement({nodeId:null===(t=this.menuState)||void 0===t?void 0:t.elementId}),p["g"].setOnCanvasRightClickMenuState("closed"))}},{key:"openSaveGlobalBlockDialog",value:function(){var e;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&(this.elementIdToSaveAsGlobalBlock=this.menuState.elementId,this.saveGlobalBlockDialog=!0)}},{key:"closeGlobalBlockDialog",value:function(){this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsGlobalBlock=null,p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"menuState",get:function(){return"closed"!==p["g"].onCanvasRightClickMenuState?p["g"].onCanvasRightClickMenuState:null}},{key:"shouldShow",get:function(){return"closed"!==p["g"].onCanvasRightClickMenuState&&!this.saveGlobalBlockDialog}},{key:"wrapperPositionStyle",get:function(){return this.menuState?{left:"".concat(this.menuState.position.x,"px"),top:"".concat(this.menuState.position.y,"px")}:{}}},{key:"elementIdPresent",get:function(){var e;return null===(e=this.menuState)||void 0===e?void 0:e.elementId}},{key:"canSaveAsGlobalBlock",get:function(){var e;return(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&Object(ea["a"])(this.menuState.elementId)}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("menuState")],da.prototype,"onStateChange",null),da=Object(u["a"])([Object(d["a"])({components:{ClipboardDialog:ua,GlobalBlockDialog:ta["a"],RightClickMenuItem:Jn}})],da);var pa=da,va=pa,ha=Object(ie["a"])(va,Hn,zn,!1,null,null,null),ma=ha.exports,fa=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);fa=Object(u["a"])([Object(d["a"])({components:{DragPlaceholder:$n,RightClickMenu:ma}})],fa);var ba=fa,ga=ba,ya=Object(ie["a"])(ga,Bn,Fn,!1,null,null,null),Oa=ya.exports,ka=n("34fd"),ja=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0],n=function(){return 0===e.rootElement.children.length?t(oe):e.rootElement.children.map((function(n){return t(et,{key:n.id,attrs:{parentId:e.rootElement.id,element:n}})}))};return t("div",{key:this.canvasKey,class:this.classList,attrs:{id:"breakdance_canvas"}},[n(),t(Rn),t(Oa)])}},{key:"mounted",value:function(){p["g"].setCanvasState("normal")}},{key:"onGlobalSettingsChanged",value:function(){Object(ka["b"])(Object(Be["c"])())}},{key:"onSelectorsChanged",value:function(){Object(ka["a"])(Object(Be["c"])())}},{key:"canvasKey",get:function(){return p["g"].canvasKey}},{key:"classList",get:function(){return{breakdance:!0,canvas:!0,dragging:p["g"].isCanvasElementBeingDragged||p["g"].isAddElementBeingDragged}}},{key:"rootElement",get:function(){return p["d"].document.tree.root}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"selectors",get:function(){return p["e"].cssSelectors}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("globalSettings",{deep:!0,immediate:!0})],ja.prototype,"onGlobalSettingsChanged",null),Object(u["a"])([Object(d["h"])("selectors",{deep:!0,immediate:!0})],ja.prototype,"onSelectorsChanged",null),ja=Object(u["a"])([Object(d["a"])({components:{EmptyContainer:oe,BuilderElement:et,NodeChrome:Rn,CanvasChrome:Oa}})],ja);var Sa,Ca,xa=ja,wa=xa,Pa=Object(ie["a"])(wa,Sa,Ca,!1,null,null,null),Ea=Pa.exports,_a=n("45a1"),Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.style},[n("Icon",{staticClass:"breakdance-preview-width-adjustment-handle align-center",attrs:{icon:"EllipsisStrokeVerticalIcon",size:"6",heightAuto:!0},on:{mousedown:e.dragStart,dblclick:e.resetPreviewWidth}}),e.isDragging||e.currentPreviewWidthIsSetByUser?n("div",{staticClass:"breakdance-px-amount"},[e._v(" "+e._s(e.pxAmount)+" "),n("Icon",{staticClass:"px-amount-reset-icon",attrs:{icon:"CloseCircleIcon",size:"11"},on:{click:e.resetPreviewWidth}})],1):e._e()],1)},Da=[],Ta=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mouseXChange=0,e.lastMouseX=0,e.isDragging=!1,e.easyEvent=new _e["a"],e}return Object(s["a"])(n,[{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.lastMouseX=e.clientX,this.iframe&&(this.iframe.style.pointerEvents="none"),this.mainWrapper&&(this.mainWrapper.style.cursor="col-resize")}},{key:"dragging",value:function(e){Object(_e["b"])(e)||(this.isDragging=!0,e.preventDefault(),e.stopPropagation(),this.mouseXChange=e.clientX-this.lastMouseX,this.adjustPreviewWidth(2*this.mouseXChange),this.lastMouseX=e.clientX)}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.iframe&&(this.iframe.style.pointerEvents="auto"),this.mainWrapper&&(this.mainWrapper.style.cursor="auto"),this.isDragging=!1}},{key:"adjustPreviewWidth",value:function(e){var t,n=this.previewWidth.width;if(this.alreadyAtMaximumWidth&&e>0&&(e=0),"100%"===this.previewWidth.width){if(!this.iframe)return void console.warn("iframe element is missing");t=this.iframe.offsetWidth-e}else t=this.previewWidth.width+e;"100%"!==n&&t>n&&t>this.previewWidth.availableCanvasSize.width&&(t=this.previewWidth.availableCanvasSize.width),this.$emit("previewWidthChangeWithAdjustmentBar",t)}},{key:"resetPreviewWidth",value:function(){this.$emit("resetPreviewWidth")}},{key:"currentPreviewWidthIsSetByUser",get:function(){return"100%"===this.currentBreakpoint.defaultPreviewWidth?"100%"!==this.previewWidth.width:this.previewWidth.width!==this.currentBreakpoint.defaultPreviewWidth}},{key:"style",get:function(){return{left:"".concat(this.iframeWrapperPosition.x+this.iframeWrapperPosition.width,"px"),height:"".concat(this.iframeWrapperPosition.height,"px")}}},{key:"pxAmount",get:function(){return"100%"===this.previewWidth.width?"100%":"".concat(this.previewWidth.width,"px")}},{key:"alreadyAtMaximumWidth",get:function(){return"100%"===this.previewWidth.width||this.previewWidth.width>=this.previewWidth.availableCanvasSize.width}},{key:"classes",get:function(){return{"breakdance-preview-width-bar":!0,"breakdance-preview-width-bar-is-dragging":this.isDragging}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ta.prototype,"iframeWrapperPosition",void 0),Object(u["a"])([Object(d["d"])()],Ta.prototype,"previewWidth",void 0),Object(u["a"])([Object(d["d"])()],Ta.prototype,"currentBreakpoint",void 0),Object(u["a"])([Object(d["d"])()],Ta.prototype,"mainWrapper",void 0),Object(u["a"])([Object(d["d"])()],Ta.prototype,"iframe",void 0),Ta=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],Ta);var Aa=Ta,Ra=Aa,Ba=(n("c1b4"),Object(ie["a"])(Ra,Ia,Da,!1,null,null,null)),Fa=Ba.exports,Ma=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",e._g({class:e.classList,attrs:{elevation:"0",loading:e.loading,height:"37",minWidth:e.minWidth,outlined:"","data-test-id":e.testId}},e.$listeners),[e._t("default")],2)},Va=[],Wa=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){return{"breakdance-toolbar-button":!0,"breakdance-toolbar-button--active":this.active}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Wa.prototype,"loading",void 0),Object(u["a"])([Object(d["d"])({default:!1})],Wa.prototype,"active",void 0),Object(u["a"])([Object(d["d"])({default:"auto"})],Wa.prototype,"minWidth",void 0),Object(u["a"])([Object(d["d"])()],Wa.prototype,"testId",void 0),Wa=Object(u["a"])([Object(d["a"])({components:{}})],Wa);var La=Wa,Na=La,Ua=(n("ea43"),n("6544")),$a=n.n(Ua),Ha=n("8336"),za=Object(ie["a"])(Na,Ma,Va,!1,null,null,null),Ga=za.exports;$a()(za,{VBtn:Ha["a"]});var qa,Ka=n("0670"),Xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showOverlay?n("div",{staticClass:"breakdance-foreign-documents-overlay",style:e.overlayStyles,on:{mouseleave:e.handleOverlayMouseLeave}},[n("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar-wrapper"},[n("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar"},[n("a",{attrs:{href:e.foreignDocumentBuilderUrl},on:{click:e.openBuilderUrl}},[e._v(" Edit "+e._s(e.foreignDocumentTitle)+" "),n("Icon",{attrs:{icon:"EditIcon"}})],1)])])]):e._e()},Ya=[],Qa=function(e){return"".concat(e,"px")};(function(e){e["breakdance_header"]="header",e["breakdance_footer"]="footer"})(qa||(qa={}));var Za=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.hoveredForeignDocumentDomElement=null,e.hoveredForeignDocumentDomElementCoords=null,e.isScrolling=!1,e.isScrollingCleanupTimerId=null,e.throttledHandleIframeScroll=Object(E["throttle"])(e.handleIframeScroll,120),e.throttledHandleWatchedElementMouseMove=Object(E["throttle"])(e.handleWatchedElementMouseMove,60),e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.addEventListenersToIframeDocument(),this.addEventListenersToWatchedElements()}},{key:"beforeDestroy",value:function(){this.removeEventListenersFromIframeDocument(),this.removeEventListenersFromWatchedElements()}},{key:"addEventListenersToIframeDocument",value:function(){this.iframeDocument.addEventListener("scroll",this.throttledHandleIframeScroll)}},{key:"removeEventListenersFromIframeDocument",value:function(){this.iframeDocument.removeEventListener("scroll",this.throttledHandleIframeScroll)}},{key:"addEventListenersToWatchedElements",value:function(){var e=this;this.elementsToWatch.forEach((function(t){t.addEventListener("mousemove",e.throttledHandleWatchedElementMouseMove),t.addEventListener("mouseleave",e.handleWatchedElementMouseLeave)}))}},{key:"removeEventListenersFromWatchedElements",value:function(){var e=this;this.elementsToWatch.forEach((function(t){t.removeEventListener("mousemove",e.throttledHandleWatchedElementMouseMove),t.removeEventListener("mouseleave",e.handleWatchedElementMouseLeave)}))}},{key:"isThereHoveredElementAndItsCoords",value:function(){return null!==this.hoveredForeignDocumentDomElement&&null!==this.hoveredForeignDocumentDomElementCoords}},{key:"setHoveredForeignDocumentDomElement",value:function(e){this.hoveredForeignDocumentDomElement=e,this.hoveredForeignDocumentDomElementCoords=this.getCoords()}},{key:"getCoords",value:function(){var e,t=this.hoveredForeignDocumentDomElement;if(1===(null===t||void 0===t?void 0:t.childElementCount)){var n=t.firstElementChild;return n.getBoundingClientRect()}return null!==(e=null===t||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==e?e:null}},{key:"setIsScrolling",value:function(e){e?(this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.removeEventListenersFromWatchedElements()):this.addEventListenersToWatchedElements(),this.isScrolling=e}},{key:"handleIframeScroll",value:function(){var e=this;this.setIsScrolling(!0),this.isScrollingCleanupTimerId&&clearTimeout(this.isScrollingCleanupTimerId),this.isScrollingCleanupTimerId=setTimeout((function(){return e.setIsScrolling(!1)}),120)}},{key:"handleOverlayMouseLeave",value:function(){this.setHoveredForeignDocumentDomElement(null)}},{key:"handleWatchedElementMouseMove",value:function(e){e.currentTarget&&this.setHoveredForeignDocumentDomElement(e.currentTarget)}},{key:"handleWatchedElementMouseLeave",value:function(e){this.$el.contains(e.relatedTarget)?null!==this.hoveredForeignDocumentDomElement&&(this.hoveredForeignDocumentDomElementCoords=this.getCoords()):this.setHoveredForeignDocumentDomElement(null)}},{key:"openBuilderUrl",value:function(){var e=this.foreignDocumentBuilderUrl;e&&this.$emit("openDocument",{builderUrl:e,title:this.foreignDocumentTitle})}},{key:"showOverlay",get:function(){return p["g"].hasFullAccess}},{key:"foreignDocumentBuilderUrl",get:function(){var e;return null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentBuilderUrl}},{key:"foreignDocumentTypeLabel",get:function(){var e,t,n=null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentType;return n&&null!==(t=qa[n])&&void 0!==t?t:""}},{key:"foreignDocumentTitle",get:function(){var e,t=null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentTitle;return t||"Unknown Document"}},{key:"overlayStyles",get:function(){if(this.isThereHoveredElementAndItsCoords()){var e=this.hoveredForeignDocumentDomElementCoords,t=e.top,n=e.left,a=e.height,i=e.width;return{display:"flex",top:Qa(t),left:Qa(n),height:Qa(a),width:Qa(i)}}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Za.prototype,"canvasElement",void 0),Object(u["a"])([Object(d["d"])()],Za.prototype,"iframeDocument",void 0),Object(u["a"])([Object(d["d"])()],Za.prototype,"elementsToWatch",void 0),Za=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],Za);var Ja=Za,ei=Ja,ti=Object(ie["a"])(ei,Xa,Ya,!1,null,null,null),ni=ti.exports,ai=n("8690"),ii=n("fbf1"),ri=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{ref:"mainWrapper",staticClass:"breakdance-iframe-main-wrapper",style:t.mainWrapperStyle,attrs:{id:"canvas-area"}},[a("PreviewWidthAdjustmentHandle",{attrs:{"iframe-wrapper-position":t.iframeWrapperPosition,"preview-width":t.iframePreviewWidth,"current-breakpoint":t.currentBreakpoint,iframe:t.iframe,"main-wrapper":t.mainWrapper},on:{resetPreviewWidth:function(){return e.$emit("resetPreviewWidth")},previewWidthChangeWithAdjustmentBar:function(t){return e.$emit("previewWidthChangeWithAdjustmentBar",t)}}}),t.iframeExited?a("div",{staticClass:"iframe-reloaded-warning-block"},[t._v(" Something navigated you away from the page you are editing. "),a("StandardButton",{staticClass:"mt-4",attrs:{minWidth:"80"},on:{click:t.handleReloadWanted}},[t._v(" Continue Editing ")])],1):a("div",{ref:"iframeWrapper",staticClass:"breakdance-iframe-inner-wrapper",style:t.iframeWrapperStyles,attrs:{id:"iframe-wrapper"}},[t.iframeIsLoading?a("Loading",{attrs:{absolute:""}}):t._e(),a("iframe",{key:t.iframeUrl,ref:"iframe",staticClass:"breakdance-iframe",style:t.iframeStyle,attrs:{id:t.iframeId,name:t.iframeId,src:t.iframeUrl},on:{load:t.handleIframeLoaded}})],1)],1)},oi=[],si=8,li=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeWrapperPosition={x:0,y:0,width:0,height:0},e}return Object(s["a"])(n,[{key:"handleIframeLoaded",value:function(){var e,t=this;(null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)&&(this.iframe.contentWindow.onunload=function(){t.$emit("iframeUnloaded")}),this.$emit("iframeLoaded",this.iframe)}},{key:"handleReloadWanted",value:function(){this.$emit("reloadWanted")}},{key:"mounted",value:function(){this.mainWrapper?new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper):St["h"].logError("No canvas element."),this.iframeWrapper?new ResizeObserver(this.setIframeWrapperPosition).observe(this.iframeWrapper):St["h"].logError("No iframe wrapper element."),this.setAvailableCanvasSize()}},{key:"setAvailableCanvasSize",value:function(){if(this.mainWrapper){var e=this.mainWrapper.getBoundingClientRect(),t=Object(C["a"])({},this.iframePreviewWidth,{availableCanvasSize:{width:e.width-2*si,height:e.height-2*si}});this.$emit("previewWidthChange",t)}this.setIframeWrapperPosition()}},{key:"setIframeWrapperPosition",value:function(){if(this.iframeWrapper){var e=this.iframeWrapper.getBoundingClientRect();this.iframeWrapperPosition={x:e.x,y:e.y,width:e.width,height:e.height}}}},{key:"mainWrapperStyle",get:function(){return{padding:"".concat(si,"px")}}},{key:"iframeWrapperStyles",get:function(){return{width:"100%"===this.iframePreviewWidth.width?"100%":"".concat(this.iframePreviewWidth.width,"px"),overflow:"SCALED_TO_FIT"===St["h"].settings.scaleToFit?"hidden":"auto"}}},{key:"iframeStyle",get:function(){var e=this,t=function(t){var n=Math.min(1,e.iframePreviewWidth.availableCanvasSize.width/t);return{width:"".concat(t,"px"),transform:"scale(".concat(n,")"),height:"".concat(e.iframePreviewWidth.availableCanvasSize.height*(1/n),"px")}};return"ACTUAL_SIZE"===St["h"].settings.scaleToFit?"100%"===this.iframePreviewWidth.width?{width:"100%",minWidth:"".concat(this.minWidth,"px")}:{width:"".concat(this.iframePreviewWidth.width,"px")}:"100%"===this.iframePreviewWidth.width?this.iframePreviewWidth.availableCanvasSize.width<this.minWidth?t(this.minWidth):{width:"100%",minWidth:"".concat(this.minWidth,"px")}:t(this.iframePreviewWidth.width)}},{key:"iframeIsLoading",get:function(){return"loading"===this.iframeState}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],li.prototype,"iframeState",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"iframePreviewWidth",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"iframeUrl",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"iframeId",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"minWidth",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"iframeExited",void 0),Object(u["a"])([Object(d["d"])()],li.prototype,"currentBreakpoint",void 0),Object(u["a"])([Object(d["f"])()],li.prototype,"mainWrapper",void 0),Object(u["a"])([Object(d["f"])()],li.prototype,"iframeWrapper",void 0),Object(u["a"])([Object(d["f"])()],li.prototype,"iframe",void 0),li=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ga,Loading:ii["a"],PreviewWidthAdjustmentHandle:Fa}})],li);var ci=li,ui=ci,di=(n("019d"),Object(ie["a"])(ui,ri,oi,!1,null,null,null)),pi=di.exports,vi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeExited=!1,e.foreignDocumentsOverlayVueApp=null,e.canvasApp=null,e}return Object(s["a"])(n,[{key:"handlePreviewWidthChange",value:function(e){p["g"].changePreviewWidthMutation(e)}},{key:"handlePreviewWidthChangeWithAdjustmentBar",value:function(e){p["g"].changePreviewWidthWithAdjustmentBar(e)}},{key:"handleResetPreviewWidth",value:function(){p["g"].selectBaseBreakpoint()}},{key:"setIframeAsExited",value:function(){p["b"].leavingIframeOnPurpose?p["b"].setLeavingIframeOnPurpose(!1):this.iframeExited=!0}},{key:"reloadIframe",value:function(){this.iframeExited=!1,setTimeout((function(){window.frames["iframe"].location.reload()}),0)}},{key:"mountForeignDocumentsOverlayVueAppInIframe",value:function(e,t){var n=e.createElement("div");n.classList.add("breakdance-foreign-documents-overlay-mountpoint"),e.body.appendChild(n),this.foreignDocumentsOverlayVueApp=new a["a"]({el:n,store:p["c"],vuetify:Ka["a"],render:function(n){return n(ni,{props:{elementsToWatch:e.querySelectorAll("[data-breakdance-foreign-document]"),canvasElement:t,iframeDocument:e},on:{openDocument:function(e){confirm("Edit ".concat(e.title,"?"))&&window.open(e.builderUrl,"_top")}}})}})}},{key:"mountCanvasInIframe",value:function(e){if(!e.contentDocument)throw"Unable to mount canvas in iframe because its document is missing";Object(Be["n"])(e.contentDocument),Object(_a["a"])(document,window.Breakdance.canvas.document),Oe["a"].registerAllStoreActions();var t=window.Breakdance.canvas.document.querySelector("#breakdance-canvas-wrapper");this.canvasApp=new a["a"]({store:p["c"],vuetify:Ka["a"],render:function(e){return e(Ea)}}).$mount(t),this.mountForeignDocumentsOverlayVueAppInIframe(window.Breakdance.canvas.document,this.canvasApp.$el),Object(Be["d"])().appendChild(Object(ai["b"])(document,j,"iframe-styles")),this.unbindClickEventOnInnerIframeLinks(),this.$emit("loaded")}},{key:"unbindClickEventOnInnerIframeLinks",value:function(){var e=Object(k["a"])(window.Breakdance.canvas.document.querySelectorAll("a:not([force-allow-clicks])")),t=Object(k["a"])(window.Breakdance.canvas.document.querySelectorAll("#breakdance_canvas a")),n=e.filter((function(e){return!t.includes(e)}));n.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))}))}},{key:"destroyed",value:function(){this.canvasApp&&this.canvasApp.$destroy(),this.foreignDocumentsOverlayVueApp&&this.foreignDocumentsOverlayVueApp.$destroy()}},{key:"iframeMinWidth",get:function(){return Object(zt["g"])(p["e"])}},{key:"canvasPreviewWidth",get:function(){return p["g"].canvasPreviewWidth}},{key:"previewWidth",get:function(){return p["g"].canvasPreviewWidth.width}},{key:"canvasState",get:function(){return p["g"].canvasState}},{key:"currentBreakpoint",get:function(){return p["g"].currentBreakpoint}},{key:"iframeURL",get:function(){if(p["b"].documentSpecificNeededUrls&&-1!==p["d"].document.documentMeta.id){var e=new URL(p["b"].documentSpecificNeededUrls.iframeUrl);return e.searchParams.append("breakdance_iframe","true"),e.searchParams.append("breakdance_open_document","".concat(p["d"].document.documentMeta.id)),e.toString()}return null}}]),n}(a["a"]);vi=Object(u["a"])([Object(d["a"])({components:{IframeWrapper:pi,Loading:ii["a"],Canvas:Ea,ForeignDocumentsOverlay:ni,PreviewWidthAdjustmentHandle:Fa,StandardButton:Ga}})],vi);var hi=vi,mi=hi,fi=Object(ie["a"])(mi,y,O,!1,null,null,null),bi=fi.exports,gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBar",[n("UpgradeToPro"),n("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),n("TopBarSection",{attrs:{"border-right":!0}},[n("IconButton",{staticClass:"open-properties-toolbar-button",attrs:{active:e.isElementPropertiesOpen,icon:"EditIcon",size:"18"},on:{click:e.toggleElementProperties}})],1),n("v-spacer",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),n("DocumentChooser"),n("PreviewContentChooserDialog"),n("TopBarSection",{attrs:{borderRight:!0}},[n("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),n("v-spacer"),n("UndoRedo"),n("TopBarSection",{staticClass:"top-bar-settings-and-structure-section",attrs:{"border-left":!0}},[n("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIcon",size:"18"},on:{click:e.toggleStructurePanel}}),n("SettingsDropdown")],1),n("TopBarSection",{attrs:{borderLeft:!0}},[n("Save")],1),n("Exit")],1)},yi=[],Oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80",testId:"main-save-button"},on:{click:e.save}},[e._v(" Save ")])},ki=[],ji=n("ca3a");function Si(){return Ci.apply(this,arguments)}function Ci(){return Ci=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=X["pipe"],e.next=3,Object(B["a"])({friendlyName:"Saving to WordPress",action:"breakdance_save",dataToPost:{id:p["d"].document.documentMeta.id,tree:Object(H["a"])(Object(Re["k"])(p["d"].document.tree)),globalSettings:Object(H["a"])(p["e"].globalSettings),classes:Object(H["a"])(p["e"].cssSelectors)},decoder:F["v"]});case 3:return e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){return Object(ji["e"])(e),Object(Y["left"])(e)}),(function(e){return p["g"].setUnsavedChangesPresent(!1),de["a"].ignore((function(){p["e"].markCurrentGlobalSettingsAsUntouched(),p["e"].markCurrentSelectorsAsUntouched()})),Object(Y["right"])(e)})),e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}var xi={CMD_A:["command+a","ctrl+a"],CMD_B:["command+b","ctrl+b"],CMD_S:["command+s","ctrl+s"],CMD_Z:["command+z","ctrl+z"],CMD_SHIFT_Z:["command+shift+z","ctrl+shift+z"],CMD_C:["command+c","ctrl+c"],CMD_V:["command+v","ctrl+v"],CMD_D:["command+d","ctrl+d"],ESC:["esc"],BACKSPACE:["backspace"],DELETE:["delete"],CMD_OPTION_R:["command+option+r","ctrl+alt+r"],CMD_SLASH:["command+/","ctrl+/"],CMD_SHIFT_SLASH:["command+shift+/","ctrl+shift+/"],CMD_QUESTION:["command+?","ctrl+?"],CMD_SHIFT_S:["command+shift+s","ctrl+shift+s"]},wi=function(){return{register:function(){_a["b"].register(xi.ESC,(function(){document.dispatchEvent(new CustomEvent("close-dropdowns-when-escape-is-pressed",{cancelable:!0}))&&p["g"].activateElement(null)})),_a["b"].register(xi.BACKSPACE,(function(){p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})})),_a["b"].register(xi.CMD_D,(function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)})),_a["b"].register(xi.CMD_OPTION_R,(function(){p["g"].selectNextBreakpoint()})),_a["b"].register(xi.CMD_SHIFT_SLASH,(function(){p["g"].setKeyboardShortcutHelpModalOpen(!0)})),_a["b"].register(xi.CMD_SLASH,(function(){p["g"].setKeyboardShortcutHelpModalOpen(!0)})),_a["b"].register("e l e m e n t",(function(){p["b"].setElementStudioPowerUser(!0)}))},unbind:function(){_a["b"].unbind("e l e m e n t"),_a["b"].unbind(xi.ESC),_a["b"].unbind(xi.CMD_D),_a["b"].unbind(xi.BACKSPACE),_a["b"].unbind(xi.CMD_OPTION_R),_a["b"].unbind(xi.CMD_SHIFT_SLASH),_a["b"].unbind(xi.CMD_SLASH)}}},Pi=n("d98f"),Ei=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e.unsubscribe=null,e}return Object(s["a"])(n,[{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.dispatchEvent(new Event("breakdanceSaveButtonClicked")),this.saveInProgress=!0,e.next=4,Si();case 4:this.saveInProgress=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){_a["b"].unbind(xi.CMD_S),_a["b"].register(xi.CMD_S,this.save),this.unsubscribe=this.$store.subscribe((function(e){de["a"].shouldMutationBeIgnored(e)||p["g"].setUnsavedChangesPresent(!0)})),this.warnIfUnsavedFunction=Object(Pi["b"])((function(){return p["g"].unsavedChangesPresent}))}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_S),this.unsubscribe&&this.unsubscribe(),Object(Pi["a"])(this.warnIfUnsavedFunction)}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}}]),n}(a["a"]);Ei=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ga}})],Ei);var _i=Ei,Ii=_i,Di=Object(ie["a"])(Ii,Oi,ki,!1,null,null,null),Ti=Di.exports,Ai=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({staticStyle:{"margin-right":"0"},attrs:{active:!e.isBase,icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:"18"}},a))]}}])},[n("v-list",e._l(e.breakpoints,(function(t){return n("v-list-item",{key:t.id,class:e.activeClass(t.id),attrs:{"two-line":"",dense:""},on:{click:function(n){return e.changeBreakpoint(t)}}},[n("div",{staticClass:"device-icon-wrapper"},[n("Icon",{attrs:{icon:e.getDeviceIcon(t.id),rotate:e.getDeviceIconRotation(t.id),size:"18"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v(e._s(t.label))]),n("v-list-item-subtitle",["Desktop"===t.label?[e._v(" All device widths ")]:e._e(),t.maxWidth&&!t.minWidth?[e._v(" "+e._s(t.maxWidth)+"px and below ")]:e._e(),!t.maxWidth&&t.minWidth?[e._v(" "+e._s(t.minWidth)+"px and above ")]:e._e(),t.maxWidth&&t.minWidth?[e._v(" Between "+e._s(t.minWidth)+"px and "+e._s(t.maxWidth)+"px ")]:e._e()],2)],1)],1)})),1)],1)},Ri=[],Bi=n("3b39"),Fi=n("a17c"),Mi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getDeviceIcon",value:function(e){var t;return(null===(t=zt["c"][e])||void 0===t?void 0:t.icon)||zt["f"]}},{key:"getDeviceIconRotation",value:function(e){var t;return null===(t=zt["c"][e])||void 0===t?void 0:t.rotate}},{key:"activeClass",value:function(e){return this.currentBreakpoint.id===e&&"breakpoint-active"}},{key:"changeBreakpoint",value:function(e){this.$emit("input",e)}},{key:"onBreakpointsChanged",value:function(){var e=this;this.breakpoints.find((function(t){return t.id===e.currentBreakpoint.id}))||p["g"].selectBaseBreakpoint()}},{key:"isBase",get:function(){return this.currentBreakpoint.id===zt["a"]}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"currentBreakpoint",get:function(){return this.value}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Mi.prototype,"value",void 0),Object(u["a"])([Object(d["h"])("breakpoints",{deep:!0,immediate:!0})],Mi.prototype,"onBreakpointsChanged",null),Mi=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],Dropdown:Fi["a"],IconButton:Bi["a"]}})],Mi);var Vi=Mi,Wi=Vi,Li=(n("4b3f"),n("8860")),Ni=n("da13"),Ui=n("5d23"),$i=Object(ie["a"])(Wi,Ai,Ri,!1,null,null,null),Hi=$i.exports;$a()($i,{VList:Li["a"],VListItem:Ni["a"],VListItemContent:Ui["a"],VListItemSubtitle:Ui["b"],VListItemTitle:Ui["c"]});var zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{staticClass:"undo-redo-top-bar-section",attrs:{"border-left":!0}},[n("IconButton",{attrs:{disabled:!e.canUndo,icon:"UndoIcon",size:"18"},on:{click:e.undo}}),n("IconButton",{attrs:{disabled:!e.canRedo,icon:"RedoIcon",size:"18"},on:{click:e.redo}})],1)},Gi=[],qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList},[e._t("default")],2)},Ki=[],Xi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){var e=["topbar-section"];return this.borderLeft&&e.push("topbar-section-bl"),this.borderRight&&e.push("topbar-section-br"),e}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Xi.prototype,"borderLeft",void 0),Object(u["a"])([Object(d["d"])({default:!1})],Xi.prototype,"borderRight",void 0),Xi=Object(u["a"])([Object(d["a"])({components:{}})],Xi);var Yi=Xi,Qi=Yi,Zi=(n("8ab1"),Object(ie["a"])(Qi,qi,Ki,!1,null,null,null)),Ji=Zi.exports,er=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){_a["b"].register(xi.CMD_Z,this.undo),_a["b"].register(xi.CMD_SHIFT_Z,this.redo)}},{key:"undo",value:function(){this.canUndo&&de["a"].undo()}},{key:"redo",value:function(){this.canRedo&&de["a"].redo()}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_Z),_a["b"].unbind(xi.CMD_SHIFT_Z)}},{key:"canUndo",get:function(){return p["f"].canUndo}},{key:"canRedo",get:function(){return p["f"].canRedo}}]),n}(a["a"]);er=Object(u["a"])([Object(d["a"])({components:{IconButton:Bi["a"],TopBarSection:Ji}})],er);var tr=er,nr=tr,ar=(n("98ad"),Object(ie["a"])(nr,zi,Gi,!1,null,null,null)),ir=ar.exports,rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.previews?n("div",[n("TopBarSection",{attrs:{"border-right":!0}},[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser",class:e.nothingToPreviewAndNoSearchQueryAndNotLoading?"document-chooser-zero-case":""},a),[n("div",{staticClass:"document-chooser-text"},[e.currentPreviewedItem?[n("h2",[e._v("Previewing "+e._s(e.currentPreviewedItem.type))]),n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentPreviewedItem.label||"ID "+e.currentPreviewedItem.id)+" ")])]:e.nothingToPreviewAndNoSearchQueryAndNotLoading?[n("h2",[e._v("Nothing to Preview")]),n("span",{staticClass:"ellipsis-text"},[e._v(" No match found ")])]:[n("h2",[e._v("Previewing")]),n("span",{staticClass:"ellipsis-text"},[e._v(" choose ")])]],2),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}],null,!1,1209928268),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:e.nothingToPreviewAndNoSearchQueryAndNotLoading?void 0:350,loading:e.isLoading}},[e.nothingToPreviewAndNoSearchQueryAndNotLoading?e._e():n("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[n("v-text-field",{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.previews,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":t.url===e.currentPreviewedItem.url},attrs:{link:""},on:{click:function(n){return e.setPreviewedItem(t)}}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.label||t.url)+" ")]),n("div",{staticClass:"previewable-item-type"},[e._v(e._s(t.type))])])],1)]})),e.nothingToPreviewAndNoSearchQueryAndNotLoading?n("div",{staticClass:"previewable-items-zero-case previewable-items-zero-case-error"},[n("h4",[e._v(" Nothing To Preview ")]),n("p",[e._v(" Your template settings don't match any content. You can: ")]),n("ul",[n("li",[e._v(" Update your template settings in the WP admin at "),n("b",[e._v("Breakdance > Templates > Edit Template")])]),n("li",[e._v(" Add some content to your site that matches the template settings. ")])])]):0===e.previews.length?n("div",{staticClass:"previewable-items-zero-case align-center text-center"},[n("h4",[e._v(" No results apply to this template ")])]):e._e()],2)],1)],1)],1)],1):e._e()},or=[],sr=(n("841c"),n("21ff"));function lr(e){return cr.apply(this,arguments)}function cr(){return cr=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,a=t.search,i=void 0===a?"":a,e.abrupt("return",Object(B["a"])({action:"breakdance_get_template_previewable_items_with_search",dataToPost:{search:i,id:n},decoder:sr["b"],resultKey:"data"}));case 2:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}var ur=n("561c"),dr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e.search="",e.isLoading=!1,e.debouncedSearchContentInWp=_.a.debounce(e.searchContentInWp,300),e}return Object(s["a"])(n,[{key:"setPreviewedItem",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.open=!1,p["g"].setLastModifiedElementProperty({elementId:null,path:null}),p["b"].setPreviewedItem(t),p["b"].flushDynamicDataCache(),e.next=6,Object(P["b"])();case 6:Object(ur["g"])(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSearch",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.search=t,this.isLoading=!0,this.debouncedSearchContentInWp();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchContentInWp",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.t0=X["pipe"],e.next=4,lr({search:this.search,id:p["d"].document.documentMeta.id});case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){t.isLoading=!1,e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(e){p["b"].setTemplatePreview(Object(C["a"])({},p["b"].templatePreview,{previewableItems:e})),t.isLoading=!1})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"previews",get:function(){return p["b"].templatePreview&&p["b"].templatePreview.previewableItems}},{key:"currentPreviewedItem",get:function(){return p["b"].previewedItem}},{key:"nothingToPreviewAndNoSearchQueryAndNotLoading",get:function(){return(!this.previews||!this.previews.length)&&!this.search&&!this.isLoading}}]),n}(a["a"]);dr=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],Dropdown:Fi["a"],IconButton:Bi["a"],TopBarSection:Ji}})],dr);var pr=dr,vr=pr,hr=(n("708b"),n("b0af")),mr=n("8654"),fr=Object(ie["a"])(vr,rr,or,!1,null,null,null),br=fr.exports;$a()(fr,{VCard:hr["a"],VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"],VTextField:mr["a"]});var gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{staticClass:"document-chooser-section",attrs:{borderLeft:!0,borderRight:!0}},[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser"},a),[n("div",{staticClass:"document-chooser-text"},[n("h2",[e._v("Editing "+e._s(e.currentDocument.documentMeta.typeLabel))]),-1!==e.currentDocument.documentMeta.id?n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentDocument.documentMeta.titleLabel||"ID: "+e.currentDocument.documentMeta.id)+" ")]):n("span",{staticClass:"ellipsis-text"},[e._v(" choose a document to edit ")])]),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:"350",loading:e.isLoading}},[n("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[n("v-text-field",{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.availableDocuments,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":t.id===e.currentDocument.documentMeta.id},attrs:{link:"",href:e.getDocumentUrlFromId(t.id)}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.titleLabel||"ID: "+t.id)+" ")]),n("div",{staticClass:"previewable-item-type"},[e._v(e._s(t.typeLabel))])])],1)]})),0===e.availableDocuments.length?n("div",{staticClass:"previewable-items-zero-case-search"},[n("svg",{staticClass:"previewable-items-zero-case-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[n("path",{attrs:{d:"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75","stroke-width":"6.250005"}}),n("path",{attrs:{d:"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037","stroke-width":"6.250005"}})])]),n("h5",[e._v("No items found")]),n("p",[e._v("Try adjusting your search to find what you are looking for.")])]):e._e()],2)],1)],1)],1)},yr=[],Or=n("ea49");function kr(e){return jr.apply(this,arguments)}function jr(){return jr=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.search,a=void 0===n?"":n,e.abrupt("return",Object(B["a"])({action:"breakdance_get_available_documents_with_search",dataToPost:{search:a},decoder:Or["b"],resultKey:"data"}));case 2:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}var Sr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e.search="",e.isLoading=!1,e.debouncedSearchContentInWp=_.a.debounce(e.searchContentInWp,600),e}return Object(s["a"])(n,[{key:"getDocumentUrlFromId",value:function(e){return Object(ur["a"])(e)}},{key:"handleSearch",value:function(e){this.search=e,this.debouncedSearchContentInWp()}},{key:"searchContentInWp",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.t0=X["pipe"],e.next=4,kr({search:this.search});case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){t.isLoading=!1,e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(e){p["b"].setAvailableDocuments(e),t.isLoading=!1})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentDocument",get:function(){return p["d"].document}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}},{key:"currentlyEditingLabel",get:function(){return"".concat(p["d"].document.documentMeta.id.toString())}},{key:"availableDocuments",get:function(){return p["b"].availableDocuments}}]),n}(a["a"]);Sr=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],Dropdown:Fi["a"],TopBarSection:Ji}})],Sr);var Cr=Sr,xr=Cr,wr=(n("429b"),Object(ie["a"])(xr,gr,yr,!1,null,null,null)),Pr=wr.exports;$a()(wr,{VCard:hr["a"],VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"],VTextField:mr["a"]});var Er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{active:e.anySettingsPanelsOpen,testId:"open-settings-menu",size:"18",icon:"EllipsisStrokeIcon"}},a))]}}])},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.openGlobalSettingsPanel}},[n("v-list-item-title",{attrs:{"data-test-id":"toggle-global-settings"}},[e._v(" Global Settings ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.openSelectorsPanel}},[n("v-list-item-title",{attrs:{"data-test-id":"toggle-site-classes-selectors"}},[e._v(" Selectors ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.openHistoryAndRevisionsPanel}},[n("v-list-item-title",[e._v(" History ")])],1),n("v-list-item",{staticClass:"breakdance-menu-open-preferences",attrs:{dense:""},on:{click:e.openPreferencesModal}},[n("v-list-item-title",{attrs:{"data-test-id":"breakdance-menu-open-preferences"}},[e._v(" Preferences ")])],1),n("v-list-item",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{"data-test-id":"toggle-element-studio",dense:"",disabled:"success"!==e.elementsLoadingState},on:{click:e.toggleElementStudio}},[n("v-list-item-title",{attrs:{"data-test-id":"breakdance-menu-open-element-studio"}},[n("div",{staticClass:"d-flex align-center"},[e._v(" Element Studio "),n("span",{staticClass:"settings-dropdown-element-studio-alpha-badge"},[e._v("alpha")])])])],1)],1)],1)},_r=[],Ir=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"openPreferencesModal",value:function(){p["g"].setPreferencesModalOpen(!0)}},{key:"toggleElementStudio",value:function(){p["g"].toggleElementStudio()}},{key:"openGlobalSettingsPanel",value:function(){Object(J["e"])("globalSettings")}},{key:"openSelectorsPanel",value:function(){p["g"].setActiveSelectorName(null),Object(J["e"])("selectors")}},{key:"openHistoryAndRevisionsPanel",value:function(){Object(J["e"])("history")}},{key:"elementsLoadingState",get:function(){return p["b"].elementsLoadingState}},{key:"anySettingsPanelsOpen",get:function(){return Object(J["d"])("selectors")||Object(J["d"])("history")||Object(J["d"])("globalSettings")||p["g"].panelState.elementStudioOpen||p["g"].panelState.preferencesModalOpen}}]),n}(a["a"]);Ir=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],StandardButton:Ga,Dropdown:Fi["a"],IconButton:Bi["a"]}})],Ir);var Dr=Ir,Tr=Dr,Ar=(n("443c"),Object(ie["a"])(Tr,Er,_r,!1,null,null,null)),Rr=Ar.exports;$a()(Ar,{VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"]});var Br=n("8922"),Fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.backToAdmin||e.backToFrontend?n("TopBarSection",{attrs:{borderLeft:!0}},[n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{icon:"CloseIcon",size:"18"}},a))]}}],null,!1,865007243)},[n("v-list",[e.backToFrontend?n("v-list-item",{attrs:{dense:"",href:e.backToFrontend}},[n("div",{staticClass:"breakdance-menu-icon-wrapper"},[n("Icon",{attrs:{icon:"BrowserIcon"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v("Exit to Frontend")])],1)],1):e._e(),n("v-list-item",{attrs:{dense:"",href:e.backToAdmin}},[n("div",{staticClass:"breakdance-menu-icon-wrapper"},[n("Icon",{attrs:{icon:"WordPressIcon"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v("Exit to WordPress")])],1)],1)],1)],1)],1):e._e()},Mr=[],Vr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"backToAdmin",get:function(){return St["b"].documentSpecificNeededUrls?St["b"].documentSpecificNeededUrls.backToWordPressUrl:""}},{key:"backToFrontend",get:function(){return Object($["a"])()}}]),n}(a["a"]);Vr=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],Dropdown:Fi["a"],IconButton:Bi["a"],TopBarSection:Ji}})],Vr);var Wr=Vr,Lr=Wr,Nr=Object(ie["a"])(Lr,Fr,Mr,!1,null,null,null),Ur=Nr.exports;$a()(Nr,{VList:Li["a"],VListItem:Ni["a"],VListItemContent:Ui["a"],VListItemTitle:Ui["c"]});var $r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{attrs:{borderRight:!0}},[n("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{active:e.isAddSectionOpen,size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},Hr=[],zr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){p["g"].hasFullAccess&&_a["b"].register(xi.CMD_A,this.toggleAdd)}},{key:"toggleAdd",value:function(){Object(J["i"])("add")}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_A)}},{key:"isAddSectionOpen",get:function(){return Object(J["d"])("add")}}]),n}(a["a"]);zr=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ga,TopBarSection:Ji}})],zr);var Gr=zr,qr=Gr,Kr=(n("9bb6"),Object(ie["a"])(qr,$r,Hr,!1,null,null,null)),Xr=Kr.exports,Yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticClass:"pa-0 breakdance-topbar d-flex flex-row",attrs:{short:"",color:"var(--white)",height:"auto",width:"100%",flat:""}},[e._t("default")],2)},Qr=[],Zr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Zr=Object(u["a"])([d["a"]],Zr);var Jr=Zr,eo=Jr,to=(n("296d"),n("40dc")),no=Object(ie["a"])(eo,Yr,Qr,!1,null,null,null),ao=no.exports;$a()(no,{VAppBar:to["a"]});var io=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isTrialExpired?n("div",[n("TopBarSection",[n("v-btn",{attrs:{textColor:"black",color:"#FFC514"},on:{click:e.toggleDialog}},[e._v("Breakdance Trial Expired")])],1),n("v-dialog",{attrs:{width:"400"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Trial Expired")]),n("v-card-text",[n("p",{staticStyle:{"font-weight":"500",color:"var(--gray700)"}},[e._v(" Your free Breakdance trial has expired, and you will no longer be able to save pages in Breakdance. ")]),n("p",{staticStyle:{"font-weight":"500",color:"var(--gray700)"}},[e._v(" To continue using Breakdance, you will need to purchase a license key. ")])]),n("v-card-actions",[n("v-btn",{staticStyle:{"font-weight":"600"},attrs:{href:"https://breakdance.com/",target:"_blank",textColor:"black",color:"#FFC514",large:"",square:""}},[e._v("Get Breakdance")])],1)],1)],1)],1):e._e()},ro=[],oo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.dialogOpen=!0,e}return Object(s["a"])(n,[{key:"toggleDialog",value:function(){this.dialogOpen=!this.dialogOpen}},{key:"isTrialExpired",get:function(){return p["b"].trialData&&p["b"].trialData.isExpired}}]),n}(a["a"]);oo=Object(u["a"])([Object(d["a"])({components:{TopBarSection:Ji}})],oo);var so=oo,lo=so,co=n("99d9"),uo=n("169a"),po=Object(ie["a"])(lo,io,ro,!1,null,null,null),vo=po.exports;$a()(po,{VBtn:Ha["a"],VCard:hr["a"],VCardActions:co["a"],VCardText:co["b"],VCardTitle:co["c"],VDialog:uo["a"]});var ho=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleElementProperties",value:function(){Object(J["i"])("elementproperties")}},{key:"toggleStructurePanel",value:function(){Object(J["i"])("structure")}},{key:"mounted",value:function(){_a["b"].register(xi.CMD_SHIFT_S,(function(){return Object(Br["c"])("SCALED_TO_FIT"!==St["h"].settings.scaleToFit)}))}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_SHIFT_S)}},{key:"isElementPropertiesOpen",get:function(){return Object(J["d"])("elementproperties")}},{key:"isStructurePanelOpen",get:function(){return Object(J["d"])("structure")}},{key:"currentBreakpoint",get:function(){return St["h"].currentBreakpoint},set:function(e){St["h"].changeBreakpoint(e)}}]),n}(a["a"]);ho=Object(u["a"])([Object(d["a"])({components:{TopBar:ao,Exit:Ur,AddButton:Xr,TopBarSection:Ji,SettingsDropdown:Rr,BreakpointsSelection:Hi,Save:Ti,UndoRedo:ir,PreviewContentChooserDialog:br,DocumentChooser:Pr,IconButton:Bi["a"],UpgradeToPro:vo}})],ho);var mo=ho,fo=mo,bo=(n("f190"),n("2fa4")),go=Object(ie["a"])(fo,gi,yi,!1,null,null,null),yo=go.exports;$a()(go,{VSpacer:bo["a"]});var Oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"content-class":"preferences-modal-dialog",value:e.open,"max-width":"780",persistent:""},on:{input:function(t){return e.$emit("update:dialog",!1)},"click:outside":e.handleClickOutside}},[n("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[!0===e.saveInProgress?[n("div",{staticClass:"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto"},[n("v-progress-circular",{attrs:{size:100,indeterminate:"",color:"var(--gray300)"}})],1)]:[n("div",{staticClass:"flex-grow-1 d-flex flex-row",staticStyle:{overflow:"auto"}},[n("div",{staticClass:"preferences-tab-area"},[n("h2",{staticClass:"preferences-modal-title-text"},[e._v(" Preferences ")]),n("v-tabs",{staticClass:"breakdance-tabs",attrs:{vertical:""},on:{change:e.handleChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"SlidersIcon",size:"16"}}),e._v(" UI Settings ")],1),n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"FontIcon",size:"16"}}),e._v(" Custom Fonts ")],1),n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{size:"16",icon:"BreakpointsIcon"}}),e._v(" Breakpoints ")],1)],1)],1),n("button",{staticClass:"preferences-close-button",on:{click:e.handleClickOutside}},[n("Icon",{attrs:{size:"20",icon:"CloseIcon"}})],1),n("div",{staticClass:"flex-grow-1 preferences-content-area"},[e.currentTab===e.fontFamiliesTab?n("CustomFontFamilies",{ref:"customFontFamiliesPanel",attrs:{value:e.customFontFamilies},on:{input:e.updateCustomFontFamilies}}):e._e(),e.currentTab===e.customBreakpointsTab?n("CustomBreakpointsPanel",{ref:"customBreakpointsPanel",attrs:{value:e.customBreakpoints},on:{input:e.updateBreakpoints}}):e._e(),e.currentTab===e.uiSettingsTab?n("CustomUiSettings"):e._e()],1)])]],2)],1)],1)},ko=[],jo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{save:{text:"Save Breakpoints",function:e.applyChanges,inProgress:!1,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Breakpoints")]},proxy:!0},{key:"content",fn:function(){return[n("EditBreakpoints",{attrs:{value:e.internalValue},on:{input:e.breakpointsEdited}})]},proxy:!0}])})},So=[],Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t){return n("EditBreakpoint",{key:t.id,attrs:{value:t,isEditing:t.id===e.editingBreakpointId},on:{input:e.updateOrAddBreakpoint,delete:function(n){return e.deleteBreakpoint(t.id)},edit:e.edit}})})),!e.showAddForm&&e.value.length>0?n("v-btn",{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")]):e._e(),n("div",[e.showAddForm?[n("div",{staticClass:"add-breakpoint-form-content-wrapper"},[n("div",{staticClass:"add-breakpoint-heading-box"},[n("h4",{staticClass:"add-breakpoint-heading"},[e._v("Add New Breakpoint")]),n("IconButton",{staticClass:"add-breakpoint-close-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddBreakpointForm}})],1),n("TextInput",{attrs:{placeholder:"Breakpoint name, ie. iPhone X or tablet",size:"md","validation-function-name":"validateNoQuotes"},model:{value:e.newBreakpointLabel,callback:function(t){e.newBreakpointLabel=t},expression:"newBreakpointLabel"}}),n("v-btn",{attrs:{disabled:!e.newBreakpointLabel,text:""},on:{click:e.addBreakpoint}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)]:e._e(),e.showAddForm||0!=e.value.length?e._e():n("EmptyStatePreferences",[n("p",[e._v("Add your first breakpoint by clicking the button below.")]),n("v-btn",{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")])],1)],2)],2)},xo=[],wo=(n("a434"),n("24fc")),Po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"form",staticClass:"mx-n2 pa-2 py-3 breakpoint-edit"},[n("h3",{staticClass:"font-weight-medium breakpoint-title text-capitalize mb-2"},[e._v(" "+e._s(e.value.label)+" ")]),n("div",{staticClass:"d-flex align-center justify-space-between"},[n("div",{staticClass:"media-query-box"},[e.isEditing?n("div",{staticClass:"media-query-box-items"},[n("div",{staticClass:"media-query-input-wrapper"},[n("TextInput",{attrs:{size:"md",label:"Maximum width (px)"},model:{value:e.maxWidth,callback:function(t){e.maxWidth=t},expression:"maxWidth"}})],1),n("div",{staticClass:"media-query-input-wrapper"},[n("TextInput",{attrs:{size:"md",label:"Minimum width (px)"},model:{value:e.minWidth,callback:function(t){e.minWidth=t},expression:"minWidth"}})],1),n("div",{staticClass:"media-query-input-wrapper"},[n("div",{staticClass:"d-flex flex-column"},[n("label",{staticClass:"media-query-box-label"},[e._v("Default Preview Width")]),n("DropdownInput",{staticClass:"breakdance-dense-select breakdance-dense-select--md",attrs:{label:"Default Preview Width",value:"100%"===e.defaultPreviewWidth?"100%":"custom",items:["100%","custom"],dense:"",solo:"",flat:"",filled:"",clearable:""},on:{input:e.setDefaultPreviewWidth}})],1)]),n("div",{staticClass:"media-query-input-wrapper"},["100%"!==e.defaultPreviewWidth?[n("TextInput",{attrs:{size:"md",label:"Custom width (px)"},model:{value:e.defaultPreviewWidth,callback:function(t){e.defaultPreviewWidth=t},expression:"defaultPreviewWidth"}})]:e._e()],2),n("div",{staticClass:"d-flex justify-end align-center"},[n("v-btn",{staticClass:"mr-3",attrs:{text:"",color:"red darken-1"},on:{click:e.cancel}},[e._v("Cancel")]),n("NiceButton",{attrs:{disabled:!e.maxWidth&&!e.minWidth},on:{click:e.save}},[e._v("Save")])],1)]):n("div",{on:{click:e.enableEditing}},[this.mediaQueryString?[n("div",{staticClass:"media-query-string"},[e._v(e._s(this.mediaQueryString))])]:[n("v-alert",{staticClass:"mt-4",attrs:{dense:"",text:"",color:"orange"}},[e._v(" Click to set min and max widths. ")])]],2)]),e.isEditing?e._e():n("div",{staticClass:"breakpoint-edit__actions"},[n("IconButton",{staticClass:"mr-1",attrs:{icon:"EditIcon",size:"18"},on:{click:e.enableEditing}}),n("IconButton",{attrs:{icon:"TrashIcon",size:"18"},on:{click:function(t){t.stopPropagation(),e.deleteDialog=!0}}})],1)])]),n("ConfirmDialog",{attrs:{show:e.deleteDialog,type:"error","action-text":"Delete","discard-text":"Cancel","save-is-enabled":!0,"discard-is-enabled":!0},on:{discard:function(t){e.deleteDialog=!1},save:e.deleteBreakpoint},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete breakpoint?")]},proxy:!0},{key:"text",fn:function(){return[e._v("{If you delete the "+e._s(e.value.label||e.value.defaultPreviewWidth+"px")+" breakpoint, you will lose all design changes it applies.")]},proxy:!0}])})],1)},Eo=[],_o=n("434b"),Io=n("6833"),Do=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("v-dialog",{attrs:{value:t.show,persistent:"",width:400},on:{"click:outside":function(e){return t.$emit("click:outside")}}},[a("v-card",{staticClass:"breakdance-dialog"},[t.type?a("div",{staticClass:"card-alert"},[a("v-alert",{staticClass:"card-alert__icon",attrs:{type:t.type}})],1):t._e(),a("v-card-title",{staticClass:"breakdance-dialog-title"},[t._t("title")],2),a("v-card-text",{staticClass:"breakdance-dialog-contents"},[t._t("text")],2),a("v-card-actions",{staticClass:"breakdance-dialog-actions"},[t.hasCancel?a("v-btn",{on:{click:function(){return e.$emit("cancel")}}},[t._v(t._s(t.cancelText)+" ")]):t._e(),t.hasDiscard?a("v-btn",{attrs:{disabled:!t.discardIsEnabled,loading:t.discardIsInProgress},on:{click:function(){return e.$emit("discard")}}},[t._v(t._s(t.discardText)+" ")]):t._e(),a("v-btn",{attrs:{color:t.type,dark:"",disabled:!t.saveIsEnabled,loading:t.saveIsInProgress},on:{click:function(){return e.$emit("save")}}},[t._v(t._s(t.actionText)+" ")])],1)],1)],1)},To=[],Ao=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ao.prototype,"show",void 0),Object(u["a"])([Object(d["d"])({default:"info"})],Ao.prototype,"type",void 0),Object(u["a"])([Object(d["d"])({default:!1})],Ao.prototype,"hasCancel",void 0),Object(u["a"])([Object(d["d"])({default:"Cancel"})],Ao.prototype,"cancelText",void 0),Object(u["a"])([Object(d["d"])()],Ao.prototype,"saveIsEnabled",void 0),Object(u["a"])([Object(d["d"])()],Ao.prototype,"saveIsInProgress",void 0),Object(u["a"])([Object(d["d"])({default:!0})],Ao.prototype,"hasDiscard",void 0),Object(u["a"])([Object(d["d"])()],Ao.prototype,"discardIsEnabled",void 0),Object(u["a"])([Object(d["d"])()],Ao.prototype,"discardIsInProgress",void 0),Object(u["a"])([Object(d["d"])({default:"Save"})],Ao.prototype,"actionText",void 0),Object(u["a"])([Object(d["d"])({default:"Discard"})],Ao.prototype,"discardText",void 0),Ao=Object(u["a"])([Object(d["a"])({components:{}})],Ao);var Ro=Ao,Bo=Ro,Fo=(n("018f"),n("0798")),Mo=Object(ie["a"])(Bo,Do,To,!1,null,null,null),Vo=Mo.exports;$a()(Mo,{VAlert:Fo["a"],VBtn:Ha["a"],VCard:hr["a"],VCardActions:co["a"],VCardText:co["b"],VCardTitle:co["c"],VDialog:uo["a"]});var Wo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.deleteDialog=!1,e.defaultPreviewWidth=String(e.value.defaultPreviewWidth||""),e.minWidth=String(e.value.minWidth||""),e.maxWidth=String(e.value.maxWidth||""),e}return Object(s["a"])(n,[{key:"setDefaultPreviewWidth",value:function(e){this.defaultPreviewWidth="100%"===e?"100%":""}},{key:"enableEditing",value:function(){this.$emit("edit",this.value.id)}},{key:"deleteBreakpoint",value:function(){this.$emit("delete"),this.deleteDialog=!1}},{key:"cancel",value:function(){this.minWidth=this.value.minWidth,this.maxWidth=this.value.maxWidth,this.defaultPreviewWidth=this.value.defaultPreviewWidth,this.$emit("edit","")}},{key:"save",value:function(){var e=this,t=Object(ze["a"])(this.value);t.minWidth=parseInt(String(this.minWidth))||void 0,t.maxWidth=parseInt(String(this.maxWidth))||void 0,t.defaultPreviewWidth="100%"===this.defaultPreviewWidth?"100%":parseInt(String(this.defaultPreviewWidth)),this.minWidth=t.minWidth?t.minWidth:"",this.maxWidth=t.maxWidth?t.maxWidth:"",this.defaultPreviewWidth=t.defaultPreviewWidth?t.defaultPreviewWidth:"",Object(X["pipe"])(Object(zt["i"])(t),Object(Y["fold"])((function(e){e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(t){e.$emit("input",t),e.$emit("edit","")})))}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"previewWidthUnit",get:function(){return"px"}},{key:"mediaQueryString",get:function(){var e=parseInt(String(this.minWidth)),t=parseInt(String(this.maxWidth));return Object(zt["h"])(e,t)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Wo.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Wo.prototype,"isEditing",void 0),Wo=Object(u["a"])([Object(d["a"])({components:{IconButton:Bi["a"],TextInput:wo["a"],DropdownInput:_o["a"],NiceButton:Io["a"],ConfirmDialog:Vo},directives:{focus:{inserted:function(e){e.focus()}}}})],Wo);var Lo=Wo,No=Lo,Uo=(n("a54d"),Object(ie["a"])(No,Po,Eo,!1,null,null,null)),$o=Uo.exports;$a()(Uo,{VAlert:Fo["a"],VBtn:Ha["a"]});var Ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preferences-empty-state"},[e._t("default")],2)},zo=[],Go=(n("ee2e"),{}),qo=Object(ie["a"])(Go,Ho,zo,!1,null,null,null),Ko=qo.exports,Xo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.editingBreakpointId="",e.showAddForm=!1,e.newBreakpointLabel="",e}return Object(s["a"])(n,[{key:"edit",value:function(e){this.editingBreakpointId=e,this.showAddForm=!1}},{key:"openAddBreakpointForm",value:function(){this.showAddForm=!0,this.editingBreakpointId=""}},{key:"toggleAddBreakpointForm",value:function(){this.showAddForm=!this.showAddForm}},{key:"addBreakpoint",value:function(){if(this.newBreakpointLabel){var e=this.newBreakpointLabel.toLowerCase().replace(/[- ]/g,"_"),t="custom_breakpoint_".concat(e);this.updateOrAddBreakpoint({id:t,label:this.newBreakpointLabel,minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:"100%"})}}},{key:"deleteBreakpoint",value:function(e){var t=Object(ze["a"])(this.value),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),this.$emit("input",t)}},{key:"updateOrAddBreakpoint",value:function(e){var t=Object(zt["e"])(this.value,e);this.$emit("input",t),!0===this.showAddForm&&(this.showAddForm=!1),this.newBreakpointLabel=""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Xo.prototype,"value",void 0),Xo=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],EditBreakpoint:$o,EmptyStatePreferences:Ko,TextInput:wo["a"],IconButton:Bi["a"]}})],Xo);var Yo=Xo,Qo=Yo,Zo=(n("910a"),Object(ie["a"])(Qo,Co,xo,!1,null,null,null)),Jo=Zo.exports;$a()(Zo,{VBtn:Ha["a"]});var es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"preferences-panel-topbar"},[n("div",{staticClass:"preferences-panel-heading"},[e._t("title")],2),e._t("aftertitle"),n("v-spacer")],2),n("div",{staticClass:"preferences-panel-content-area"},[e._t("content")],2),n("div",{staticClass:"preferences-bottom-panel"},[e.hideSaveButton?e._e():n("v-btn",{attrs:{loading:e.save.inProgress,disabled:e.save.disabled,color:"blue",dark:""},on:{click:e.save.function}},[e._v(e._s(e.save.text)+" ")])],1)])},ts=[],ns=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],ns.prototype,"save",void 0),Object(u["a"])([Object(d["d"])({default:!1})],ns.prototype,"hideSaveButton",void 0),ns=Object(u["a"])([Object(d["a"])({})],ns);var as=ns,is=as,rs=(n("46b5"),Object(ie["a"])(is,es,ts,!1,null,null,null)),os=rs.exports;$a()(rs,{VBtn:Ha["a"],VSpacer:bo["a"]});var ss=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.internalValue=Object(ze["a"])(e.value),e}return Object(s["a"])(n,[{key:"applyChanges",value:function(){this.$emit("input",this.internalValue)}},{key:"breakpointsEdited",value:function(e){this.internalValue=e}},{key:"unsavedChangesPresent",get:function(){return!Object(E["isEqual"])(Object(ze["a"])(this.internalValue),Object(ze["a"])(this.value))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ss.prototype,"value",void 0),ss=Object(u["a"])([Object(d["a"])({components:{EditBreakpoints:Jo,PreferencesPanel:os}})],ss);var ls=ss,cs=ls,us=Object(ie["a"])(cs,jo,So,!1,null,null,null),ds=us.exports,ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{save:{text:"Save Fonts",function:e.applyChanges,inProgress:e.saveInProgress,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Custom Fonts")]},proxy:!0},{key:"content",fn:function(){return[e._l(e.internalValue,(function(t,a){return n("FontFamily",{key:t.family,attrs:{value:t,isOpen:a===e.openedFontIndex},on:{open:function(t){return e.openFont(t?a:-1)},delete:function(t){return e.deleteFontFamily(a)},input:function(t){return e.updateFontFamily(t,a)}}})})),e.internalValue.length?[n("div",{staticClass:"mt-12"})]:e._e(),n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Add Font")]),e.showAddForm||0!=e.internalValue.length?e._e():n("EmptyStatePreferences",[n("p",[e._v(" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. ")]),n("v-btn",{attrs:{outlined:""},on:{click:e.toggleAddForm}},[e._v(" Add Font ")])],1),e.showAddForm?n("div",[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveNewFontFamily(t)}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[n("div",{staticClass:"add-font-family-form-content-wrapper"},[n("div",{staticClass:"add-font-heading-box"},[n("h4",{staticClass:"add-font-heading"},[e._v("Add New Font")]),n("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddForm}})],1),n("TextInput",{attrs:{placeholder:"Custom font name, ie. Helvetica",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md","validation-function-name":"validateAlphanumericHyphenUnderscore"},model:{value:e.fontFamily,callback:function(t){e.fontFamily=t},expression:"fontFamily"}}),n("v-btn",{attrs:{disabled:!e.fontFamily||!0!==e.validFontFamily,type:"submit",text:""}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showAddForm?n("v-btn",{attrs:{outlined:""},on:{click:e.toggleAddForm}},[e._v(" Add Font ")]):e._e(),n("h4",{staticClass:"my-4 font-weight-medium mt-12"},[e._v(" Use Fonts In External CSS ")]),e.showCssForm||0!=e.internalValue.length?e._e():n("EmptyStatePreferences",[n("p",[e._v(" Use hosted fonts from providers like Adobe Fonts. ")]),n("v-btn",{attrs:{outlined:""},on:{click:e.toggleCssForm}},[e._v(" Add External CSS ")])],1),e.showCssForm?n("div",[n("v-form",{ref:"cssForm",on:{submit:function(t){return t.preventDefault(),e.saveCssUrl(t)}},model:{value:e.validCssForm,callback:function(t){e.validCssForm=t},expression:"validCssForm"}},[n("div",{staticClass:"add-font-family-form-content-wrapper mb-4"},[n("div",{staticClass:"add-font-heading-box"},[n("h4",{staticClass:"add-font-heading"},[e._v("CSS URL")]),n("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleCssForm}})],1),n("TextInput",{attrs:{rules:[function(e){return!!e||"Please enter a value"},function(t){return e.isValidUrl(t)||"Please enter a valid URL"}],placeholder:"URL to CSS file containing Font Face definitions",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md"},model:{value:e.cssUrl,callback:function(t){e.cssUrl=t},expression:"cssUrl"}}),n("v-btn",{attrs:{disabled:e.saveInProgress,type:"submit",text:""}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showCssForm?n("v-btn",{attrs:{outlined:""},on:{click:e.toggleCssForm}},[e._v(" Add CSS URL ")]):e._e()]},proxy:!0}])})},vs=[],hs=n("1d98");function ms(e){return fs.apply(this,arguments)}function fs(){return fs=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_font_file",dataToPost:{file:t},decoder:hs["c"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function bs(e){return gs.apply(this,arguments)}function gs(){return gs=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_get_font_families_from_css_file",dataToPost:{cssUrl:t},decoder:hs["b"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ys(e){return Os.apply(this,arguments)}function Os(){return Os=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_font_families",dataToPost:{customFontFamilies:Object(H["a"])(t)},decoder:hs["b"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}var ks=function(e){var t=Object(ze["a"])(St["b"].fonts),n=t.findIndex((function(t){return t.slug===e.slug}));-1===n?t.unshift(e):t[n]=e,St["b"].setFonts(t)},js=function(e){var t=Object(ze["a"])(St["b"].fonts),n=t.findIndex((function(t){return t.slug===e}));n>-1&&t.splice(n,1),St["b"].setFonts(t)},Ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family"},[n("div",{staticClass:"custom-font-family-titlebar",on:{click:e.toggleFaces}},[n("div",{staticClass:"custom-font-family-title"},[e._v(" "+e._s(e.value.family)+" ")]),n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.deleteFontFamily(t)}}},[n("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),e.isOpen?n("div",{staticClass:"custom-font-family-edit"},[e.value.hasExternalCssUrl?e._e():n("div",[n("FontFaces",{attrs:{value:e.value.faces},on:{input:e.editFontFamily}}),n("TextField",{attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}}),e.fallbackStringHasBeenEdited?[n("v-alert",{staticClass:"mt-4",attrs:{dense:"",border:"left",text:"",type:"warning"}},[e._v(" Changes to the CSS fallback string will take effect after "),n("strong",[e._v("saving and refreshing")]),e._v(". ")])]:e._e()],2),e.value.hasExternalCssUrl?n("div",[n("span",{staticStyle:{"font-size":"var(--text-sm)","font-weight":"500"}},[e._v("Sourced from "+e._s(e.value.cssUrl))]),n("TextField",{staticClass:"mt-4",attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}})],1):e._e()]):e._e()])},Cs=[],xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family-font-faces"},[e._l(e.value,(function(t,a){return n("UpdateFontFace",{key:t.id,attrs:{value:t,existingFontFaces:e.existingFontFaces(a)},on:{input:function(t){return e.updateFontFace(t,a)},delete:function(t){return e.deleteFontFace(a)}}})})),n("FontFileUpload",{on:{save:e.newFontFileSuccessfullyUploaded}})],2)},ws=[],Ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family-font-face"},[n("v-form",{ref:"form",model:{value:e.isFontFaceUnique,callback:function(t){e.isFontFaceUnique=t},expression:"isFontFaceUnique"}},[n("div",{staticClass:"custom-font-family-font-face-titlebar"},[n("div",{staticClass:"custom-font-family-font-face-titlebar-title"},e._l(e.value.files,(function(t){return n("div",{key:t.fileUrl,staticClass:"mr-3"},[e._v(" "+e._s(t.fileName)+" ")])})),0),n("v-btn",{attrs:{icon:""},on:{click:e.deleteFontFace}},[n("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),n("div",{staticClass:"custom-font-family-font-face-controls"},[n("div",{staticClass:"custom-font-family-font-face-controls-control"},[n("v-select",{staticClass:"mr-4",attrs:{dense:"",outlined:"",value:e.value.weight,items:e.weights,rules:[e.validateWeight],label:"Font Weight"},on:{input:e.updateWeight}})],1),n("div",{staticClass:"custom-font-family-font-face-controls-control"},[n("v-radio-group",{staticClass:"pt-0 mt-0 mr-4",attrs:{value:e.value.style,rules:[e.validateStyle],row:"",dense:""},on:{change:e.updateStyle}},[n("v-radio",{attrs:{label:"Normal",value:"normal"}}),n("v-radio",{attrs:{label:"Italic",value:"italic"}})],1)],1)])])],1)},Es=[],_s=[{text:"100 (Thin)",value:100},{text:"200 (Extra Light)",value:200},{text:"300 (Light)",value:300},{text:"400 (Normal)",value:400},{text:"500 (Medium)",value:500},{text:"600 (Semi Bold)",value:600},{text:"700 (Bold)",value:700},{text:"800 (Extra Bold)",value:800},{text:"900 (Black)",value:900}],Is=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isFontFaceUnique=!0,e}return Object(s["a"])(n,[{key:"validateWeight",value:function(e){var t,n=this;return e?!(null===(t=this.existingFontFaces.find((function(t){return t.weight===e&&t.style===n.value.style})))||void 0===t?void 0:t.files.find((function(e){return n.valueFormats.includes(e.format)})))||"This font weight already exists with this style, and format":"A weight is required"}},{key:"validateStyle",value:function(e){var t,n=this;return!(null===(t=this.existingFontFaces.find((function(t){return t.weight===n.value.weight&&t.style===e})))||void 0===t?void 0:t.files.find((function(e){return n.valueFormats.includes(e.format)})))||"This font style already exists with this weight, and format"}},{key:"revalidateOnValueChange",value:function(){this.form.validate()}},{key:"updateWeight",value:function(e){var t=Object(C["a"])({},this.value,{weight:e});this.$emit("input",t)}},{key:"updateStyle",value:function(e){var t=Object(C["a"])({},this.value,{style:e});this.$emit("input",t)}},{key:"deleteFontFace",value:function(){this.$emit("delete")}},{key:"valueFormats",get:function(){return this.value.files.map((function(e){return e.format}))}},{key:"weights",get:function(){return _s}},{key:"currentWeight",get:function(){var e=this;return _s.find((function(t){return t.value===e.value.weight}))}}]),n}(a["a"]);Object(u["a"])([Object(d["f"])()],Is.prototype,"form",void 0),Object(u["a"])([Object(d["d"])()],Is.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:[]})],Is.prototype,"existingFontFaces",void 0),Object(u["a"])([Object(d["h"])("value")],Is.prototype,"revalidateOnValueChange",null),Is=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],Is);var Ds=Is,Ts=Ds,As=(n("5714"),n("4bd4")),Rs=n("67b6"),Bs=n("43a6"),Fs=n("b974"),Ms=Object(ie["a"])(Ts,Ps,Es,!1,null,null,null),Vs=Ms.exports;$a()(Ms,{VBtn:Ha["a"],VForm:As["a"],VRadio:Rs["a"],VRadioGroup:Bs["a"],VSelect:Fs["a"]});var Ws=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-font-file-uploader"},[n("FileUpload",{attrs:{height:"150px",accept:".woff,.woff2",saveInProgress:e.saveInProgress},on:{input:e.handleFiles}},[e._v(" drag .woff or .woff2 files or "),n("span",{staticClass:"breakdance-font-file-uploader-choose-link"},[e._v("browse...")])])],1)},Ls=[],Ns=(n("ace4"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d8"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("6e2f")),Us=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"handleFiles",value:function(e){var t=this;Array.from(e).forEach((function(e){var n=new FileReader;n.onloadend=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(a){var i,r,o,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null===a||void 0===a?void 0:a.target){n.next=2;break}return n.abrupt("return");case 2:if(i=new Uint8Array(a.target.result).subarray(0,4),r="",i.forEach((function(e){return r+=e.toString(16)})),o=e.name.split(".").pop(),s="774f4646"===r&&"woff"===o,l="774f4632"===r&&"woff2"===o,s||l){n.next=11;break}return Se["a"].log.message('Only  ".woff" and ".woff2" files are supported'),n.abrupt("return");case 11:return t.saveInProgress=!0,n.t0=X["pipe"],n.next=15,ms(e);case 15:n.t1=n.sent,n.t2=Object(Y["fold"])((function(e){Object(ji["e"])(e)}),(function(e){t.$emit("save",{fileUrl:e.fileUrl,format:s?"woff":"woff2",fileName:e.fileName})})),(0,n.t0)(n.t1,n.t2),t.saveInProgress=!1;case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n.readAsArrayBuffer(e)}))}}]),n}(a["a"]);Us=Object(u["a"])([Object(d["a"])({components:{FileUpload:Ns["a"]}})],Us);var $s=Us,Hs=$s,zs=(n("cc59"),Object(ie["a"])(Hs,Ws,Ls,!1,null,null,null)),Gs=zs.exports,qs=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"newFontFileSuccessfullyUploaded",value:function(e){var t=Xs(e),n=[].concat(Object(k["a"])(this.value),[t]);this.$emit("input",n)}},{key:"updateFontFace",value:function(e,t){var n=Object(k["a"])(this.value),a=e.files.map((function(e){return e.format})),i=n.findIndex((function(t){return t.weight===e.weight&&t.style===e.style&&!t.files.find((function(e){return a.includes(e.format)}))}));-1===i?n[t]=e:(n[i].files=[].concat(Object(k["a"])(n[i].files),Object(k["a"])(e.files)),n.splice(t,1)),this.$emit("input",n)}},{key:"deleteFontFace",value:function(e){var t=Object(k["a"])(this.value);t.splice(e,1),this.$emit("input",t)}},{key:"existingFontFaces",value:function(e){return this.value.filter((function(t,n){return n!==e}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],qs.prototype,"value",void 0),qs=Object(u["a"])([Object(d["a"])({components:{FontFileUpload:Gs,UpdateFontFace:Vs}})],qs);var Ks=qs;function Xs(e){return{id:Object(Ge["a"])(),files:[e],style:"normal",weight:0}}var Ys=Ks,Qs=(n("7256"),Object(ie["a"])(Ys,xs,ws,!1,null,null,null)),Zs=Qs.exports,Js=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.fallbackStringHasBeenEdited=!1,e}return Object(s["a"])(n,[{key:"toggleFaces",value:function(){this.$emit("open",!this.isOpen)}},{key:"deleteFontFamily",value:function(){this.$emit("delete")}},{key:"editFallbackString",value:function(e){this.fallbackStringHasBeenEdited=!0,this.$emit("input",Object(C["a"])({},this.value,{fallbackString:e}))}},{key:"editFontFamily",value:function(e){this.$emit("input",Object(C["a"])({},this.value,{faces:e}))}},{key:"editCssUrl",value:function(e){this.$emit("input",Object(C["a"])({},this.value,{cssUrl:e}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Js.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Js.prototype,"isOpen",void 0),Js=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],FontFaces:Zs,TextField:wo["a"]}})],Js);var el=Js,tl=el,nl=(n("ea7f"),Object(ie["a"])(tl,Ss,Cs,!1,null,null,null)),al=nl.exports;$a()(nl,{VAlert:Fo["a"],VBtn:Ha["a"]});var il=n("6160"),rl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.internalValue=Object(ze["a"])(e.value),e.fontFamily="",e.cssUrl="",e.validForm=!0,e.validCssForm=!0,e.saveInProgress=!1,e.openedFontIndex=-1,e.showAddForm=!1,e.showCssForm=!1,e}return Object(s["a"])(n,[{key:"toggleAddForm",value:function(){this.showAddForm=!this.showAddForm}},{key:"toggleCssForm",value:function(){this.showCssForm=!this.showCssForm}},{key:"applyChanges",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=X["pipe"],e.next=4,ys(this.internalValue);case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){Object(ji["e"])(e)}),(function(e){e.forEach((function(e){var n=t.internalValue.findIndex((function(t){return t.id===e.fontId}));t.internalValue[n].cssUrl=e.cssUrl,t.internalValue[n].cssName=e.fontRegistrationData.cssName,ks(e.fontRegistrationData)})),t.$emit("input",t.internalValue)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFont",value:function(e){this.openedFontIndex=e}},{key:"updateFontFamily",value:function(e,t){var n=Object(ze["a"])(this.internalValue);n[t]=e,this.internalValue=n}},{key:"deleteFontFamily",value:function(e){var t=Object(ze["a"])(this.internalValue);t.splice(e,1),js(this.internalValue[e].id),this.internalValue=t}},{key:"saveNewFontFamily",value:function(){this.form.validate()&&this.fontFamily&&(this.internalValue.push({id:"custom_font_"+this.fontFamily.toLowerCase().replace(/ /g,"_"),family:this.fontFamily,fallbackString:"",cssUrl:"",hasExternalCssUrl:!1,cssName:this.fontFamily,faces:[]}),this.openedFontIndex=this.internalValue.length-1,this.fontFamily="",this.form.reset(),this.showAddForm=!1)}},{key:"saveCssUrl",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.cssForm.validate()&&this.cssUrl){e.next=2;break}return e.abrupt("return");case 2:return this.saveInProgress=!0,e.t0=X["pipe"],e.next=6,bs(this.cssUrl);case 6:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){Object(ji["e"])(e)}),(function(e){e.forEach((function(e){var n=t.internalValue.findIndex((function(t){return t.id===e.fontId}))>-1;n||t.internalValue.unshift({id:e.fontId,family:e.fontRegistrationData.label,fallbackString:e.fontRegistrationData.fallbackString,cssUrl:e.cssUrl,hasExternalCssUrl:!0,cssName:e.fontRegistrationData.cssName,faces:[]})}))})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1,this.cssUrl="",this.showCssForm=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isValidUrl",value:function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}},{key:"unsavedChangesPresent",get:function(){return!Object(E["isEqual"])(Object(ze["a"])(this.internalValue),Object(ze["a"])(this.value))}},{key:"validFontFamily",get:function(){return Object(il["b"])(this.fontFamily)}}]),n}(a["a"]);Object(u["a"])([Object(d["f"])()],rl.prototype,"form",void 0),Object(u["a"])([Object(d["f"])()],rl.prototype,"cssForm",void 0),Object(u["a"])([Object(d["d"])()],rl.prototype,"value",void 0),rl=Object(u["a"])([Object(d["a"])({components:{FontFamily:al,PreferencesPanel:os,EmptyStatePreferences:Ko,Icon:ee["a"],TextInput:wo["a"],IconButton:Bi["a"]}})],rl);var ol=rl,sl=ol,ll=(n("f358"),Object(ie["a"])(sl,ps,vs,!1,null,null,null)),cl=ll.exports;$a()(ll,{VBtn:Ha["a"],VForm:As["a"]});var ul=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{"hide-save-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UI Settings")]},proxy:!0},{key:"content",fn:function(){return[n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Settings")]),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.autoScrollEnabled,inset:"",label:"Auto-scroll to active element"},on:{change:e.setAutoScrollEnabled}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isScaledToFit,label:"Scale content to fit the screen (zoom)",inset:""},on:{change:e.setScaleToFit}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isDarkMode,label:"Dark Mode",inset:""},on:{change:e.toggleTheme}})],1),e.displayShowExperimentalElementsSetting?n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.showExperimentalElements,label:"Show Experimental Elements",inset:""},on:{change:e.setShowExperimentalElements}})],1):e._e(),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.disableNoticeForEmptySSRElements,label:"Disable Message For Empty SSR Elements",inset:""},on:{change:e.setDisableNoticeForEmptySSRElements}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isShowingIdsInStructurePanel,label:"Show elements ID in the Structure Panel",inset:""},on:{change:e.setIsShowingIdsInStructurePanel}})],1),n("div",{staticClass:"mt-4"},[n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Panel Positions")]),e._l(e.panelsState,(function(t,a){return[n("div",{key:a,staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[n("div",{staticClass:"ui-panel-title"},[e._v(e._s(t.label))]),n("ButtonBarInput",{attrs:{value:t.value,items:e.panelPositionsAsItems,options:{mandatory:!0}},on:{input:function(n){return e.setPanelPosition(t.id,n)}}})],1)]})),n("div",{staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[n("div",{staticClass:"ui-panel-title"},[e._v("Popout Position")]),n("ButtonBarInput",{attrs:{value:e.popoutPosition,items:e.popoutPositionItems,options:{mandatory:!0}},on:{input:e.setPopoutPosition}})],1),n("div",{staticClass:"d-flex justify-end mt-4"},[n("NiceButton",{attrs:{disabled:e.arePanelPositionsDefault},on:{click:e.resetUiPanelPositionsToDefault}},[e._v("Reset to defaults")])],1)],2)]},proxy:!0}])})},dl=[],pl=n("ee5f"),vl=n("6eb3"),hl=n("34bc"),ml=n("63ea"),fl=n.n(ml),bl=n("b45a"),gl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.panelsState=e.getPanelsInitialState(),e}return Object(s["a"])(n,[{key:"getPanelsInitialState",value:function(){var e=[{id:"add",label:"Add"},{id:"elementproperties",label:"Element Properties"},{id:"selectors",label:"Selectors"},{id:"globalSettings",label:"Global Settings"},{id:"structure",label:"Structure"},{id:"history",label:"History & Revisions"}];return e.map((function(e){return Object(C["a"])({},e,{value:Object(J["c"])(e.id)})}))}},{key:"setPanelPosition",value:function(e,t){var n=this.panelsState.findIndex((function(t){return t.id===e}));this.panelsState[n].value=t,Object(J["g"])(e,t),Object(J["a"])(),Object(J["e"])(e)}},{key:"resetUiPanelPositionsToDefault",value:function(){Object(J["f"])(),this.panelsState=this.getPanelsInitialState()}},{key:"setScaleToFit",value:function(e){this.setUiSettings(Object(Br["c"])(e))}},{key:"toggleTheme",value:function(){var e=Object(ze["a"])(St["h"].settings);e.theme=this.isDarkMode?"light":"dark",this.setUiSettings(e)}},{key:"setDisableNoticeForEmptySSRElements",value:function(e){var t=Object(ze["a"])(St["h"].settings);t.disableNoticeForEmptySSRElements=e,this.setUiSettings(t)}},{key:"setShowExperimentalElements",value:function(e){var t=Object(ze["a"])(St["h"].settings);t.showExperimentalElements=e,this.setUiSettings(t)}},{key:"setIsShowingIdsInStructurePanel",value:function(e){var t=Object(ze["a"])(St["h"].settings);t.showElementIdInStructurePanel=e,this.setUiSettings(t)}},{key:"setAutoScrollEnabled",value:function(e){var t=Object(ze["a"])(St["h"].settings);t.autoScrollEnabled=e,this.setUiSettings(t)}},{key:"setPopoutPosition",value:function(e){var t=Object(ze["a"])(St["h"].settings);t.popoutPosition=e,this.setUiSettings(t)}},{key:"setUiSettings",value:function(e){var t=Object(Ve["a"])(Object(C["a"])({},Br["d"],{},e));t&&Object(hl["b"])(Br["a"],t),St["h"].setSettings(e)}},{key:"arePanelPositionsDefault",get:function(){return fl()(J["j"],this.panelsState.reduce((function(e,t){return e[t.id]=t.value,e}),{}))}},{key:"panelPositionsAsItems",get:function(){return["left","right"].map((function(e){return{text:e,value:e}}))}},{key:"popoutPositionItems",get:function(){return[{text:"Stacked",value:"STACKED"},{text:"Stacked (First Visible)",value:"STACKED_FIRST_VISIBLE"},{text:"Side By Side",value:"SIDE_BY_SIDE"}]}},{key:"displayShowExperimentalElementsSetting",get:function(){return Object(bl["a"])()}},{key:"isDarkMode",get:function(){return"dark"===St["h"].settings.theme}},{key:"isScaledToFit",get:function(){return"SCALED_TO_FIT"===St["h"].settings.scaleToFit}},{key:"isShowingIdsInStructurePanel",get:function(){return St["h"].settings.showElementIdInStructurePanel}},{key:"disableNoticeForEmptySSRElements",get:function(){return St["h"].settings.disableNoticeForEmptySSRElements}},{key:"showExperimentalElements",get:function(){return St["h"].settings.showExperimentalElements}},{key:"autoScrollEnabled",get:function(){return St["h"].settings.autoScrollEnabled}},{key:"popoutPosition",get:function(){return St["h"].settings.popoutPosition}}]),n}(a["a"]);gl=Object(u["a"])([Object(d["a"])({components:{NiceButton:Io["a"],PreferencesPanel:os,ButtonBarInput:pl["a"],ToggleInput:vl["a"]}})],gl);var yl=gl,Ol=yl,kl=(n("5283"),n("b73d")),jl=Object(ie["a"])(Ol,ul,dl,!1,null,null,null),Sl=jl.exports;$a()(jl,{VSwitch:kl["a"]});var Cl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.currentTab=0,e.uiSettingsTab=0,e.fontFamiliesTab=1,e.customBreakpointsTab=2,e.saveInProgress=!1,e.hasUnsavedChanges=!1,e}return Object(s["a"])(n,[{key:"updateBreakpoints",value:function(e){var t=Object(ze["a"])(this.preferences);t.customBreakpoints=e,this.save(t)}},{key:"updateCustomFontFamilies",value:function(e){var t=Object(ze["a"])(this.preferences);t.customFonts=e,this.save(t)}},{key:"handleClickOutside",value:function(){if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges)return this.$emit("update:dialog",!1);var e=confirm("Exit without saving?");return e?this.$emit("update:dialog",!1):this}},{key:"handleChangeTab",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges){e.next=8;break}if(t=confirm("Exit without saving?"),t){e.next=8;break}return e.next=6,this.$nextTick();case 6:return this.tab=this.currentTab,e.abrupt("return",!0);case 8:return this.currentTab=this.tab,e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=X["pipe"],e.next=4,ji["g"]("preferences",t);case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){Object(ji["e"])(e)}),(function(){p["b"].setPreferences(t)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1,this.checkForUnsavedChanges();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkForUnsavedChanges",value:function(){return this.currentTab===this.fontFamiliesTab?(this.hasUnsavedChanges=this.customFontFamiliesPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.currentTab===this.customBreakpointsTab?(this.hasUnsavedChanges=this.customBreakpointsPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.hasUnsavedChanges=!1}},{key:"preferences",get:function(){return p["b"].preferences}},{key:"customBreakpoints",get:function(){return this.preferences.customBreakpoints}},{key:"customFontFamilies",get:function(){return p["b"].preferences.customFonts}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Cl.prototype,"open",void 0),Object(u["a"])([Object(d["f"])()],Cl.prototype,"customFontFamiliesPanel",void 0),Object(u["a"])([Object(d["f"])()],Cl.prototype,"customBreakpointsPanel",void 0),Cl=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],CustomUiSettings:Sl,CustomFontFamilies:cl,CustomBreakpointsPanel:ds,Loading:ii["a"]}})],Cl);var xl=Cl,wl=xl,Pl=(n("1738"),n("490a")),El=n("71a3"),_l=n("fe57"),Il=Object(ie["a"])(wl,Oo,ko,!1,null,null,null),Dl=Il.exports;$a()(Il,{VCard:hr["a"],VDialog:uo["a"],VProgressCircular:Pl["a"],VTab:El["a"],VTabs:_l["a"]});var Tl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"content-class":"keyboard-shortcuts-help-modal",value:e.open,"max-width":"850"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[n("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[n("v-card-text",[n("table",{staticClass:"styled-table"},[n("thead",[n("tr",[n("th",[e._v("Shortcut")]),n("th",[e._v("Description")])])]),n("tbody",[n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_A)))]),n("td",[e._v("Open add elements panel")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_B)))]),n("td",[e._v("Open design sets modal")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_S)))]),n("td",[e._v("Save")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_Z)))]),n("td",[e._v("Undo")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_Z))+" ")]),n("td",[e._v("Redo")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_C)))]),n("td",[e._v("Copy the active element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_V)))]),n("td",[e._v("Paste copied element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_D)))]),n("td",[e._v("Duplicate the active element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.ESC)))]),n("td",[e._v("de-activate the active element "),n("b",[e._v("or")]),e._v(" close modal")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.BACKSPACE))),n("br"),e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.DELETE))+" ")]),n("td",[e._v("Delete active element")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_OPTION_R))+" ")]),n("td",[e._v("Cycle to the next breakpoint")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_SLASH))),n("br"),e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_QUESTION))+" ")]),n("td",[e._v("Show keyboard shortcuts help modal")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_S))+" ")]),n("td",[e._v('Switch between "scale to fit" and "actual size" content')])])])])])],1)],1)],1)},Al=[],Rl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getKeyboardShortcutValue",value:function(e){var t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),n=e?e[0]:"";return t||2!=e.length||(n=e[1]),n.toUpperCase().split("+").join(" + ")}},{key:"keyboardShortcuts",get:function(){return xi}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Rl.prototype,"open",void 0),Rl=Object(u["a"])([Object(d["a"])({components:{}})],Rl);var Bl=Rl,Fl=Bl,Ml=(n("5834"),Object(ie["a"])(Fl,Tl,Al,!1,null,null,null)),Vl=Ml.exports;$a()(Ml,{VCard:hr["a"],VCardText:co["b"],VDialog:uo["a"]});var Wl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio",style:e.styles},[n("ElementStudioWidthAdjustmentBar",{on:{change:e.adjustWidth}}),n("div",{staticClass:"element-studio-wrapper",attrs:{"data-test-id":"element-studio-wrapper"}},[(e.isProdEnv,n("div",{staticClass:"element-studio__beta-warning"},[e._m(0)])),e.activeItemType&&"element"!==e.activeItemType?e._e():n("ElementStudioElements",{attrs:{value:e.data,width:e.width},on:{input:e.updateData,width:e.updateWidth,active:e.updateActiveItemType}}),e.activeItemType&&"macro"!==e.activeItemType?e._e():n("ElementStudioMacros",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType&&"preset"!==e.activeItemType?e._e():n("ElementStudioPresets",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}})],1)],1)},Ll=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b",[n("a",{attrs:{target:"_blank",href:"https://breakdance.com/documentation/developers/element-studio/"}},[e._v("Element Studio is in alpha. Use at your own risk.")])])}],Nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElementStudioWidthAdjustmentBarAdjustmentHandle",{staticClass:"element-studio-width-adjustment-bar",attrs:{"on-dragging":e.dragging}})},Ul=[],$l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g(e._b({staticClass:"breakdance-element-studio-adjustment-handle",on:{mousedown:e.dragStart}},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Hl=[],zl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastMouseX=0,e}return Object(s["a"])(n,[{key:"draggingFunc",value:function(e){e.preventDefault(),this.onDragging(e,this.lastMouseX),this.lastMouseX=e.clientX}},{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousemove",this.draggingFunc),document.addEventListener("mouseup",this.dragEnd),this.lastMouseX=e.clientX,document.getElementById("iframe").style.pointerEvents="none"}},{key:"dragEnd",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this.draggingFunc),document.removeEventListener("mouseup",this.dragEnd),document.getElementById("iframe").style.pointerEvents="auto"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],zl.prototype,"onDragging",void 0),zl=Object(u["a"])([Object(d["a"])({})],zl);var Gl=zl,ql=Gl,Kl=(n("44c1"),Object(ie["a"])(ql,$l,Hl,!1,null,null,null)),Xl=Kl.exports,Yl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"dragging",value:function(e,t){this.$emit("change",-1*(e.clientX-t))}}]),n}(a["a"]);Yl=Object(u["a"])([Object(d["a"])({components:{ElementStudioWidthAdjustmentBarAdjustmentHandle:Xl}})],Yl);var Ql=Yl,Zl=Ql,Jl=(n("967b"),Object(ie["a"])(Zl,Nl,Ul,!1,null,null,null)),ec=Jl.exports,tc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-top-bar d-flex"},[e.showNewItemDialog?n("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.saveLocations,"item-type":e.itemType},on:{input:e.saveNewItem,close:function(t){e.showNewItemDialog=!1}}}):e._e(),n("div",{staticClass:"d-flex ml-4"},[e.value?e._e():[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:"",disabled:0===e.itemsSlug.length,"data-test-id":"element-studio-open-element"}},"v-btn",i,!1),a),[n("Icon",{staticClass:"mr-2",attrs:{icon:"OpenFolderIcon",size:"18"}}),e._v(" Open "+e._s(e.itemType)+" ")],1)]}}],null,!1,4260211493)},[n("v-list",{staticStyle:{"max-height":"500px",overflow:"auto"}},[n("v-text-field",{staticClass:"breakdance-element-studio-searchbar",staticStyle:{padding:"12px 16px","margin-bottom":"24px"},attrs:{label:"Search "+e.itemType+"s",flat:"",autofocus:""},model:{value:e.availableItemsSearch,callback:function(t){e.availableItemsSearch=t},expression:"availableItemsSearch"}}),e._l(e.availableItemsBySearch,(function(t,a){return n("v-list-item",{key:a,attrs:{dense:""},on:{click:function(n){return e.openItem(t)}}},[n("v-list-item-title",[e._v(" "+e._s(t)+" ")])],1)}))],2)],1),n("v-btn",{staticClass:"ml-2",attrs:{text:"","data-test-id":"element-studio-new-element-button"},on:{click:e.handleNewItem}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"AddFileIcon"}}),e._v(" New "+e._s(e.itemType)+" ")],1)],e.value?[n("div",{staticClass:"d-flex align-center flex-wrap"},[n("div",{staticClass:"mr-2 element-studio-element-name"},[e._v(" "+e._s(e.itemName)+" ")]),n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("div",[e.value.directoryPath&&e.canSaveOrIsAdvancedUser?n("NiceButton",e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),a.click(e)},click:function(t){e.saveOverwrite(!1)}}},"NiceButton",i,!1),[e._v(" Save ")]):!e.value.directoryPath||e.value.onlyForAdvancedUsers?n("NiceButton",e._g(e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),a.click(e)}}},"NiceButton",i,!1),a),[e._v(" Save ")]):e._e()],1)]}}],null,!1,4107073749)},[n("v-list",[e.value.directoryPath?[e.showAdvancedFeatures?n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[n("v-list-item-title",[n("h3",[e._v("Save & Bypass Psalm...")])])],1):e.canSaveOrIsAdvancedUser?n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[n("v-list-item-title",[n("h3",[e._v("Save")])])],1):e._e()]:e._e(),n("v-list-item",{attrs:{dense:""}},[n("v-list-item-title",[n("h3",[e._v("Save A Copy In...")])])],1),e._l(e.saveLocations,(function(t,a){return[e.showSaveLocation(t)?n("v-list-item",{key:a,attrs:{dense:""},on:{click:function(n){return e.saveAs(t)}}},[n("v-list-item-title",[e._v(" "+e._s(t.label)+"  ")])],1):e._e()]}))],2)],1),e.value&&e.value.directoryPath?n("v-dialog",{attrs:{"max-width":"360"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("NiceButton",e._g(e._b({staticClass:"mr-2",attrs:{elevation:"0","data-test-id":"element-studio-delete-button",title:"Delete element","left-icon":"TrashIcon"}},"NiceButton",i,!1),a),[e._v(" Delete ")])]}}],null,!1,2278590123),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"subtitle-1"},[e._v(' Delete "'+e._s(e.itemName)+'" '+e._s(e.itemType)+"? ")]),n("v-card-text",[e._v("This action cannot be undone.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1):e._e(),n("v-btn",{attrs:{icon:"","data-test-id":"element-studio-close-element",title:"Close "+e.itemType},on:{click:e.closeItem}},[n("Icon",{attrs:{icon:"CloseSquareIcon"}})],1)],1)]:e._e()],2),n("v-spacer"),e.value?n("v-btn",{staticClass:"mr-1 element-studio-switch-mode",attrs:{icon:"",title:"Switch mode","data-test-id":"element-studio-topbar-switch-mode"},on:{click:e.switchMode}},[n("Icon",{attrs:{icon:"TableColumnIcon",size:"18"}})],1):e._e(),n("v-btn",{staticClass:"mr-4 element-studio-close-panel",attrs:{icon:"",title:"Close Element Studio Panel"},on:{click:e.closePanel}},[n("Icon",{attrs:{icon:"CloseCircleIcon",size:"18"}})],1),n("v-dialog",{attrs:{value:e.closeItemOrPanelDialog,persistent:"","max-width":"400"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" You have unsaved changes ")]),n("v-card-text",[e._v(" Please save your changes before closing this "+e._s(e.itemType)+", or discard your changes. ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.discardChanges}},[e._v(" Discard my changes ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.closeItemOrPanelDialog=!1}}},[e._v(" I'll save them ")])],1)],1)],1)],1)},nc=[],ac=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,"max-width":"400",persistent:""}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Create new "+e._s(e.itemType)+" ")]),n("v-card-text",{staticClass:"pb-1"},[n("div",[e._v("Please enter the "+e._s(e.itemType)+"'s name.")])]),n("v-card-text",[n("v-text-field",{attrs:{rules:[e.nameIsValid],label:"Name"},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),e.saveLocations.length?n("v-radio-group",{attrs:{mandatory:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select a saving location ")]},proxy:!0}]),model:{value:e.newItemSaveLocation,callback:function(t){e.newItemSaveLocation=t},expression:"newItemSaveLocation"}},[e._l(e.saveLocations,(function(t){return[e.showSaveLocation(t)?n("v-radio",{key:t.directoryPath,attrs:{label:t.label,value:t}}):e._e()]}))],2):[n("b",[e._v("Error: no registered saving locations. Using the "),n("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements"}},[e._v("Breakdance Custom Elements")]),e._v(" plugin will automatically register a saving location.")])]],2),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.closeNewItemDialog}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!0!==e.nameIsValid(e.newItemName)||!e.newItemSaveLocation},on:{click:e.saveNewItem}},[e._v(" Create ")])],1)],1)],1)},ic=[],rc=n("1c93"),oc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newItemDialog=!1,e.newItemName="",e.newItemSaveLocation=!1,e}return Object(s["a"])(n,[{key:"nameIsValid",value:function(e){return Object(rc["f"])(e)}},{key:"showSaveLocation",value:function(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}},{key:"saveNewItem",value:function(){this.$emit("input",Object(C["a"])({},this.newItemSaveLocation,{name:this.newItemName})),this.closeNewItemDialog()}},{key:"closeNewItemDialog",value:function(){this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1,this.$emit("close")}},{key:"showAdvancedFeatures",get:function(){return Object(bl["a"])()||St["b"].isElementStudioPowerUser}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],oc.prototype,"saveLocations",void 0),Object(u["a"])([Object(d["d"])()],oc.prototype,"itemType",void 0),oc=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],oc);var sc=oc,lc=sc,cc=Object(ie["a"])(lc,ac,ic,!1,null,null,null),uc=cc.exports;$a()(cc,{VBtn:Ha["a"],VCard:hr["a"],VCardActions:co["a"],VCardText:co["b"],VCardTitle:co["c"],VDialog:uo["a"],VRadio:Rs["a"],VRadioGroup:Bs["a"],VSpacer:bo["a"],VTextField:mr["a"]});var dc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.deleteDialog=!1,e.availableItemsSearch="",e.closeItemOrPanelDialog=!1,e.showNewItemDialog=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;document.addEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked),this.warnIfUnsavedFunction=Object(Pi["b"])((function(){return e.hasUnsavedChanges}))}},{key:"destroyed",value:function(){document.removeEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked)}},{key:"beforeDestroy",value:function(){Object(Pi["a"])(this.warnIfUnsavedFunction)}},{key:"handleNewItem",value:function(){this.showNewItemDialog=!0}},{key:"discardChanges",value:function(){"panel"===this.closeItemOrPanelDialog&&p["g"].toggleElementStudio(),this.closeItemOrPanelDialog=!1,this.$emit("discardChanges")}},{key:"mainAppSaveButtonClicked",value:function(){this.hasUnsavedChanges&&confirm("Also save your Element Studio ".concat(this.itemType,"?"))&&this.saveOverwrite(!1)}},{key:"openItem",value:function(e){this.availableItemsSearch="",this.$emit("open",e)}},{key:"closeItem",value:function(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="item":this.$emit("reset")}},{key:"closePanel",value:function(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="panel":p["g"].toggleElementStudio()}},{key:"saveNewItem",value:function(e){this.$emit("saveNew",e)}},{key:"saveAs",value:function(e){this.$emit("saveAs",e)}},{key:"saveOverwrite",value:function(e){this.value&&this.value.directoryPath&&this.canSaveOrIsAdvancedUser&&this.$emit("saveOverride",e)}},{key:"showSaveLocation",value:function(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}},{key:"deleteItem",value:function(){this.deleteDialog=!1,this.$emit("delete")}},{key:"switchMode",value:function(){this.$emit("switchMode")}},{key:"availableItemsBySearch",get:function(){var e=this;return this.itemsSlug.filter((function(t){return t.toLowerCase().includes(e.availableItemsSearch.toLowerCase().replace(/ /g,""))}))}},{key:"showAdvancedFeatures",get:function(){return Object(bl["a"])()||p["b"].isElementStudioPowerUser}},{key:"canSaveOrIsAdvancedUser",get:function(){return this.value&&(!this.value.onlyForAdvancedUsers||this.showAdvancedFeatures)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],dc.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"saveLocations",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"hasUnsavedChanges",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"itemType",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"itemName",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"saveInProgress",void 0),Object(u["a"])([Object(d["d"])()],dc.prototype,"itemsSlug",void 0),dc=Object(u["a"])([Object(d["a"])({components:{ElementStudioSaveNewDialog:uc,NiceButton:Io["a"],Icon:ee["a"],Dropdown:Fi["a"]}})],dc);var pc=dc,vc=pc,hc=(n("4e9a"),Object(ie["a"])(vc,tc,nc,!1,null,null,null)),mc=hc.exports;$a()(hc,{VBtn:Ha["a"],VCard:hr["a"],VCardActions:co["a"],VCardText:co["b"],VCardTitle:co["c"],VDialog:uo["a"],VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"],VSpacer:bo["a"],VTextField:mr["a"]});var fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingElement}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.elementsSlug,value:e.currentlyEditingElement,itemType:"element","item-name":e.currentlyEditingElement?e.currentlyEditingElement.element.name:"",hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openElement,switchMode:e.switchMode,delete:e.deleteElement,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingElement}}),e.currentlyEditingElement?n("div",{staticClass:"element-studio-content"},["split-vertical"===e.mode?[n("div",{staticClass:"panel-50 panel-50-top-panel vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),n("div",{staticClass:"panel-50 vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)]:"split-horizontal"===e.mode?[n("div",{staticClass:"d-flex flex-row",staticStyle:{height:"100%"}},[n("div",{staticClass:"panel-50-h panel-50-h-first-panel vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),n("div",{staticClass:"panel-50-h vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)])]:[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1)]],2):e._e()],1)},bc=[],gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column",staticStyle:{height:"100%"}},[e.showNewMacroDialog?n("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.available.saveLocations,"item-type":"macro"},on:{input:e.saveNewMacro,close:function(t){e.showNewMacroDialog=!1}}}):e._e(),n("Dropdown",{attrs:{value:!!e.contextMenu,absolute:!0,"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,transition:!1},on:{input:function(t){e.contextMenu=!1}},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:!0},nativeOn:{click:function(t){return e.handleCreateMacro(t)}}},[n("v-list-item-title",[e._v("Make into a macro")])],1)],1)],1),n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.tab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#content",title:"Content","data-test-id":"element-studio-content-tab"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#design",title:"Design","data-test-id":"element-studio-design-tab"}},[n("Icon",{attrs:{icon:"PaletteIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#html",title:"HTML","data-test-id":"element-studio-html-tab"}},[n("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#css",title:"CSS","data-test-id":"element-studio-css-tab"}},[n("Icon",{attrs:{icon:"Css3Icon",size:"16"}})],1),n("v-tab",{attrs:{href:"#defaultCss",title:"Default CSS","data-test-id":"element-studio-default-css-tab"}},[n("Icon",{attrs:{icon:"CssIcon",size:"16"}})],1),e.nestingRuleTypeIsContainer?n("v-tab",{attrs:{href:"#default-elements",title:"Default Elements","data-test-id":"element-studio-default-elements"}},[n("Icon",{attrs:{icon:"BoxIcon",size:"16"}})],1):e._e(),n("v-tab",{attrs:{href:"#attributes",title:"HTML Attributes","data-test-id":"element-studio-attributes"}},[n("Icon",{attrs:{icon:"AttributesIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#prop-paths",title:"Property Paths","data-test-id":"element-studio-property-paths"}},[n("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#dependencies",title:"Dependencies","data-test-id":"element-studio-dependencies-tab"}},[n("Icon",{attrs:{icon:"DownloadFileIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#actions",title:"Actions","data-test-id":"element-studio-actions-tab"}},[n("Icon",{attrs:{icon:"ActionsIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings","data-test-id":"element-studio-settings-tab"}},[n("Icon",{attrs:{icon:"CogsIcon",size:"16"}})],1)],1)],1),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},["settings"===e.tab?n("div",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"font-weight-bold"},[e._v("Slug")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.element.slug))])],1)],1),n("div",{staticClass:"px-4 pt-2"},[n("div",{staticClass:"d-flex align-center"},[n("v-text-field",{attrs:{label:"Name",value:e.element.name,"data-test-id":"element-studio-name-input",rules:[e.isValidItemName]},on:{input:e.updateElementName}}),e.nameHasChanged?n("v-btn",{staticClass:"ml-3",attrs:{outlined:"",small:""},on:{click:e.updateSlug}},[e._v(" Update slug ")]):e._e()],1),n("v-text-field",{staticClass:"mb-4",attrs:{label:"Class Name",placeholder:"the_best_class",value:e.element.className||"","data-test-id":"element-studio-classname-input","persistent-hint":"",hint:"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS",rules:[e.htmlClassNameRule]},on:{input:e.updateClassName}}),n("v-select",{attrs:{items:e.elementCategories,label:"Category",value:e.cleanElement.category},on:{input:function(t){return e.updateElementValue("category",t)}}}),n("div",{staticClass:"breakdance-element-studio-element-badges"},[n("v-autocomplete",{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.backgroundColor,label:"Badge Background"},on:{input:function(t){return e.updateElementValue("badge.backgroundColor",t)}}}),n("v-autocomplete",{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.textColor,label:"Badge Text"},on:{input:function(t){return e.updateElementValue("badge.textColor",t)}}}),n("v-text-field",{attrs:{label:"Badge Label",value:!!e.cleanElement.badge&&e.cleanElement.badge.label},on:{input:function(t){return e.updateElementValue("badge.label",t)}}}),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.updateElementValue("badge",!1)}}},[e._v("clear badge")])],1),n("h3",[e._v("HTML Tag options")]),n("div",{staticClass:"breakdance-element-studio__html-tags"},[n("v-autocomplete",{attrs:{label:"Default Tag",value:e.cleanElement.htmlTag.default,hint:"Tag of the root element",clearable:"",items:e.defaultTag},on:{input:function(t){return e.updateElementValue("htmlTag.default",t)}}}),n("v-autocomplete",{attrs:{label:"Tag Options",value:e.cleanElement.htmlTag.options,items:e.htmlTags,multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.options",t)}}}),n("v-autocomplete",{attrs:{label:"Get the Tag from a Control's path",value:e.cleanElement.htmlTag.pathToControl||"",items:e.pathsToAllControls,hint:"This will disable the 'Settings -> Html -> Tag' control",clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.pathToControl",t)}}})],1),n("h3",[e._v("UI Icon")]),n("div",{staticClass:"mb-5 d-flex align-center"},[e.showAdvancedFeatures?[n("ToggleInput",{attrs:{value:e.useLocalIcon},on:{input:e.updateUseLocalIcon}}),n("span",{staticClass:"mr-4"},[e._v("Local")])]:e._e(),n("div",{staticClass:"d-flex align-center"},[n("ElementIcon",{staticClass:"mr-2",attrs:{icon:e.cleanElement.uiIcon||"SquareIcon",size:"16"}}),e.useLocalIcon&&e.showAdvancedFeatures?n("ElementStudioIconsAutocomplete",{attrs:{value:e.cleanElement.uiIcon||"SquareIcon"},on:{input:e.updateUiIcon}}):n("v-text-field",{attrs:{label:"SVG code for icon",value:e.cleanElement.uiIcon,"data-test-id":"element-studio-ui-icon-input"},on:{input:e.updateUiIcon}})],1)],2),n("v-text-field",{attrs:{label:"UI Order (number)",value:e.cleanElement.order},on:{input:e.updateUiOrder}}),n("h3",[e._v("Nesting rules")]),n("v-autocomplete",{attrs:{items:e.containerRestrictedElements,label:"Element to be a direct child of",hint:"This element will only be allowed as a direct child of the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADirectChildOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADirectChildOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("v-autocomplete",{staticClass:"mt-4",attrs:{items:e.elementsThisElementIsAllowedToBeInsideOf,label:"Element to be a descendant of",hint:"This element will only be allowed inside the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADescendantOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADescendantOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("v-autocomplete",{staticClass:"mt-4",attrs:{items:e.allElementSlugs,label:"Disallow if others are present",hint:"This element will not be allowed on a page if one of the following elements is already present on the page","persistent-hint":"",value:e.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.notAllowedWhenNodeTypeIsPresentInTree",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("h3",[e._v("Misc options")]),n("v-select",{attrs:{items:e.elementType,label:"Element Type",value:e.cleanElement.nestingRule.type,hint:"Only change to create complex elements","persistent-hint":""},on:{input:function(t){return e.updateElementValue("nestingRule.type",t)}}}),n("v-combobox",{staticClass:"mt-3",attrs:{label:"Required plugins",items:e.requiredPluginItems,"hide-details":"",value:e.cleanElement.settings?e.cleanElement.settings.requiredPlugins:[],multiple:!0},on:{input:function(t){return e.updateElementValue("settings.requiredPlugins",t&&t.length?t:void 0)}}}),n("v-checkbox",{attrs:{label:"Element depends on global scripts to work","input-value":e.cleanElement.settings&&e.cleanElement.settings.dependsOnGlobalScripts,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.dependsOnGlobalScripts",!!t)}}}),n("v-checkbox",{attrs:{label:"Element has dependencies as part of its HTML (only for elements with complex SSR)","input-value":e.cleanElement.settings&&e.cleanElement.settings.withDependenciesInHtml,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.withDependenciesInHtml",!!t)}}}),n("v-checkbox",{attrs:{label:"Experimental Element?","input-value":e.cleanElement.experimental,"hide-details":""},on:{change:function(t){return e.updateElementValue("experimental",!!t)}}}),n("v-checkbox",{attrs:{label:"Bypass Pointer Events",hint:"Use this if clicking on the element doesn't active it, but instead clicks something inside of it","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.bypassPointerEvents},on:{change:function(t){return e.updateElementValue("settings.bypassPointerEvents",!!t)}}}),n("v-checkbox",{attrs:{label:"Share props with SSR children",hint:"Use this if you need to access the properties data from this element in a child SSR element.","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.sharePropsWithSSRChildren},on:{change:function(t){return e.updateElementValue("settings.shareStateWithChildSSR",!!t)}}}),n("div",{staticClass:"pt-4"},[n("h3",[e._v("Add panel rules")]),n("v-checkbox",{attrs:{label:"Always hide element from the Add Panel","input-value":e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide,"hide-details":""},on:{change:function(t){return e.updateElementValue("addPanelRules.alwaysHide",!!t)}}}),e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide?e._e():[n("v-combobox",{attrs:{label:"Allowed post type",items:["breakdance_template"],"hide-details":"",value:e.cleanElement.addPanelRules?e.cleanElement.addPanelRules.allowedPostTypes:[],multiple:!0},on:{input:function(t){return e.updateElementValue("addPanelRules.allowedPostTypes",t&&t.length?t:void 0)}}})]],2),n("ElementStudioDefaultProperties",{staticClass:"my-8",attrs:{elementSlug:e.cleanElement.slug,value:e.cleanElement.defaultProperties},on:{input:function(t){return e.updateElementValue("defaultProperties",t)}}})],1)],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"design"===e.tab,expression:"tab === 'design'"}]},[n("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"design"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"content"===e.tab,expression:"tab === 'content'"}]},[n("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"content"}})],1),"html"===e.tab?n("div",[n("CodeInput",{attrs:{value:e.cleanElement.template,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"html"},on:{input:function(t){return e.updateElementValue("template",t||"")}}})],1):e._e(),"css"===e.tab?n("div",[n("CodeInput",{attrs:{value:e.cleanElement.cssTemplate,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"css"},on:{input:function(t){return e.updateElementValue("cssTemplate",t||"")}}})],1):e._e(),"defaultCss"===e.tab?n("div",[n("div",{staticClass:"px-4 py-2"},[e._v(" Element's class: "),n("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.elementClass))]),n("CopyButton",{attrs:{"value-to-copy":".breakdance "+e.elementClass}})],1),n("CodeInput",{attrs:{value:e.cleanElement.defaultCss,language:"css"},on:{input:function(t){return e.updateElementValue("defaultCss",t||"")}}})],1):e._e(),e.nestingRuleTypeIsContainer?n("div",{directives:[{name:"show",rawName:"v-show",value:"default-elements"===e.tab,expression:"tab === 'default-elements'"}],staticClass:"studio-default-elements-panel"},[n("ElementStudioDefaultElements",{attrs:{value:e.cleanElement.defaultChildren,"parent-element-slug":e.cleanElement.slug},on:{input:function(t){return e.updateElementValue("defaultChildren",t||"")}}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"attributes"===e.tab,expression:"tab === 'attributes'"}],staticClass:"studio-dependencies-panel"},[e._v(" Attributes are added to the container of the element "),n("ElementStudioAttributes",{attrs:{value:e.cleanElement.attributes},on:{input:function(t){return e.updateElementValue("attributes",t)}}}),n("br"),e._v(" Classes are added to the container of the element "),n("ElementStudioAdditionalClasses",{attrs:{value:e.cleanElement.additionalClasses||[]},on:{input:function(t){return e.updateElementValue("additionalClasses",t)}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.tab,expression:"tab === 'prop-paths'"}]},[n("ElementStudioManagePropertyPaths",{attrs:{value:e.cleanElement}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"dependencies"===e.tab,expression:"tab === 'dependencies'"}],staticClass:"studio-dependencies-panel"},[n("ElementStudioDependencies",{attrs:{value:e.cleanElement.dependencies}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"actions"===e.tab,expression:"tab === 'actions'"}]},[n("ElementStudioAction",{attrs:{"action-key":"onPropertyChange",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after one of this element's property changes (a value in a control) ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("control's path")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("design.background.color")]),e._v(": action will only run for that path. "),n("code",[e._v("design.background.*")]),e._v(": action will run for any control below 'background' ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onMovedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element is moved in the canvas ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("element's and moved-on element's type ")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("EssentialElements\\Text")]),e._v(": action will only run if element being moved is of that type, "),n("b",[e._v("OR")]),e._v(" if the element was moved onto an element with that type. ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onAfterDeletedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs AFTER this element was deleted "),n("br")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("deleted element's parent type")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("EssentialElements\\Section")]),e._v(": action will only run if the deleted element was inside a Section element. ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onBeforeDeletingElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs BEFORE this element is deleted ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onMountedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element renders in the canvas ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onCreatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after adding this element to the canvas for the first time ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onActivatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after the element is activated (selected) ")]},proxy:!0}])})],1)])],1)},yc=[],Oc=(n("07ac"),n("3835")),kc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("draggable",{attrs:{value:e.value[this.sectionName]},on:{input:e.handleDrag}},e._l(e.value[this.sectionName],(function(t,a){return n("ControlSectionOrControl",{key:t.slug,attrs:{value:t,index:a,path:e.sectionName+"["+a+"]",parentPath:e.sectionName,twigParentPath:e.section}})})),1),n("div",{staticClass:"text-center py-4"},[n("v-btn",{attrs:{tile:"",text:"","data-test-id":"element-studio-add-control-section"},on:{click:e.addSection}},[e._v(" Add Control Section ")]),n("v-btn",{attrs:{tile:"",text:""},on:{click:e.addPreset}},[e._v(" Add Preset ")]),e.canPaste?n("v-btn",{attrs:{tile:"",text:""},on:{click:e.handlePaste}},[e._v(" Paste ")]):e._e()],1)],1)},jc=[],Sc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showNewPresetDialog?n("ElementStudioSaveNewDialog",{attrs:{"item-type":"preset","save-locations":e.elementStudioData.saveLocations},on:{input:e.saveNewPreset,close:function(t){e.showNewPresetDialog=!1}}}):e._e(),n("div",{class:e.classList},[n("Accordion",{attrs:{expanded:e.accordionState[e.index],disableToggle:e.isPresetSection},on:{toggle:function(t){return e.toggleAccordion(e.index)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"data-test-id":"element-studio-control-accordion"}},["section"!==e.value.options.type||e.isPresetSection?n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2",attrs:{color:"black",small:"",icon:"",title:"Open Twig Code Helper"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"BracketsIcon"}})],1)]}}],null,!1,1714806599),model:{value:e.codeHelpOpen,callback:function(t){e.codeHelpOpen=t},expression:"codeHelpOpen"}},[n("v-card",{staticClass:"element-studio-poppy-card",staticStyle:{width:"400px",height:"300px"}},[n("TwigCodeHelper",{key:e.keyToRerenderCodeHelp,attrs:{control:e.value,twigParentPath:e.twigParentPath,inRepeater:e.isParentARepeater},on:{close:function(t){e.codeHelpOpen=!1}}})],1)],1):e._e(),n("input",{staticClass:"element-studio-control-label-input",attrs:{placeholder:"Label"},domProps:{value:e.value.label},on:{click:function(e){e.stopPropagation()},focusout:e.updateLabelAndSlugOnFocusOut}}),e.isPresetSection?n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.presetSectionSlug,items:e.availablePresetSections,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updatePresetSectionSlug}}):e._e(),"section"!==e.value.options.type?n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.value.options.type,items:e.controlTypes,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updateControlType}}):e._e(),e.isSection?e._e():n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[n("v-card",{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make this control's value available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when this control's value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),"alert_box"===e.value.options.type?[n("ElementStudioAlertBoxOptions",{attrs:{value:e.value.options.alertBoxOptions},on:{input:function(t){return e.updateOptions(t,"alertBoxOptions")}}})]:e._e(),"date_picker"===e.value.options.type?[n("h3",{staticClass:"mb-3"},[e._v("Date picker options")]),n("DropdownInput",{attrs:{value:e.value.options.datePickerOptions?Object.keys(e.value.options.datePickerOptions)[0]:"",items:e.datePickerOptions,clearable:""},on:{input:function(t){var n;return e.updateOptions((n={},n[t]=t,n),"datePickerOptions")}}})]:e._e(),"multiselect"===e.value.options.type||"dropdown"===e.value.options.type||"button_bar"===e.value.options.type?[n("ElementStudioDropdownOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.dropdownOptions},on:{input:function(t){return e.updateOptions(t,"dropdownOptions")},updateDropdownItems:e.updateDropdownItems,updateDropdownItem:e.updateDropdownItem}})]:e._e(),"button_bar"===e.value.options.type?[n("v-switch",{attrs:{label:"Big Button Bar",value:e.value.options.buttonBarOptions&&"big"===e.value.options.buttonBarOptions.size&&"default"===e.value.options.buttonBarOptions.layout,"hide-details":""},on:{change:e.updateButtonBarOptionsSize}}),n("v-switch",{attrs:{label:"Multiline Bar",value:e.value.options.buttonBarOptions&&"multiline"===e.value.options.buttonBarOptions.layout&&"small"===e.value.options.buttonBarOptions.size,"hide-details":""},on:{change:e.updateButtonBarOptionsLayout}})]:e._e(),"trigger_action_button"===e.value.options.type?[n("h3",{staticClass:"mb-3"},[e._v("Trigger action button options")]),n("TextInput",{staticClass:"mr-3 d-inline-block",attrs:{label:"Button Text",value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.text},on:{input:function(t){return e.updateOptions(Object.assign({},e.value.options.triggerActionsButtonOptions,{text:t||""}),"triggerActionsButtonOptions")}}}),n("ElementStudioIconsAutocomplete",{staticClass:"d-inline-block",attrs:{value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.icon},on:{input:function(t){return e.updateOptions(Object.assign({},e.value.options.triggerActionsButtonOptions,{icon:t}),"triggerActionsButtonOptions")}}})]:e._e(),e.isRepeater?[n("ElementStudioRepeaterOptions",{attrs:{control:e.value,value:e.value.options.repeaterOptions},on:{input:function(t){return e.updateOptions(t,"repeaterOptions")}}})]:e._e(),"unit"===e.value.options.type?[n("ElementStudioUnitOptions",{attrs:{value:e.value.options.unitOptions},on:{input:function(t){return e.updateOptions(t,"unitOptions")}}})]:e._e(),"wpmedia"===e.value.options.type?[n("ElementStudioMediaOptions",{attrs:{value:e.value.options.mediaOptions},on:{input:function(t){return e.updateOptions(t,"mediaOptions")}}})]:e._e(),"video"===e.value.options.type?[n("ElementStudioVideoOptions",{attrs:{value:e.value.options.videoOptions},on:{input:function(t){return e.updateOptions(t,"videoOptions")}}})]:e._e(),"unit"===e.value.options.type||"number"===e.value.options.type||"slider"===e.value.options.type?[n("ElementStudioRangeOptions",{attrs:{value:e.value.options.rangeOptions},on:{input:function(t){return e.updateOptions(t,"rangeOptions")}}})]:e._e(),"shadow"===e.value.options.type?[e._v(" Shadow Type "),n("v-select",{staticClass:"pt-3",attrs:{dense:"",items:e.shadowTypes,value:e.value.options.shadowOptions&&e.value.options.shadowOptions.type||"box"},on:{input:e.updateShadowType}})]:e._e(),"breakpoint_dropdown"===e.value.options.type?[n("ElementStudioBreakpointOptions",{attrs:{value:e.value.options.breakpointOptions},on:{input:function(t){return e.updateOptions(t,"breakpointOptions")}}})]:e._e(),"text"===e.value.options.type?[n("v-switch",{attrs:{label:"Multiline",value:e.value.options.textOptions&&e.value.options.textOptions.multiline,"hide-details":""},on:{change:e.updateTextOptionsMultiline}})]:e._e(),"focus_point"===e.value.options.type?[n("ElementStudioFocusPointOptions",{attrs:{value:e.value.options.focusPointOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"focusPointOptions")}}})]:e._e(),"media_size_dropdown"===e.value.options.type?[n("ElementStudioMediaSizeOptions",{attrs:{value:e.value.options.mediaSizeOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"mediaSizeOptions")}}})]:e._e(),"post_chooser"===e.value.options.type?[n("ElementStudioPostChooserOptions",{attrs:{value:e.value.options.postChooserOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"postChooserOptions")}}})]:e._e(),"icon"===e.value.options.type?[n("ElementStudioIconOptions",{attrs:{value:e.value.options.iconOptions},on:{input:function(t){return e.updateOptions(t,"iconOptions")}}})]:e._e(),"color"===e.value.options.type?[n("h3",{staticClass:"mb-2"},[e._v("Color Type")]),n("DropdownInput",{attrs:{value:e.value.options.colorOptions&&e.value.options.colorOptions.type||"solidOnly",items:[{text:"Solid Only",value:"solidOnly"},{text:"Solid and Gradient",value:"solidAndGradient"},{text:"Gradient Only",value:"gradientOnly"}]},on:{input:e.updateColorType}})]:e._e(),e.isSection?e._e():[n("h3",[e._v("Dynamic Property")]),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable dynamic property","input-value":!!e.dynamicPropertyPath,"hide-details":""},on:{change:e.updateDynamicPropertyPaths}}),e.dynamicPropertyPath?[n("h4",{staticClass:"mb-1"},[e._v("Dynamic Property Type")]),n("DropdownInput",{attrs:{items:e.dynamicPathAcceptsItems,value:e.dynamicPropertyPath.accepts},on:{input:function(t){return e.updateDynamicPropertyPaths(!0,t)}}})]:e._e()],"add_registered_children"===e.value.options.type?[n("h3",[e._v("Registered Children options: add extra elements")]),e.availableDescendantElements.length?n("div",{staticClass:"d-flex align-center"},[n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-4 mt-2",attrs:{items:e.availableDescendantElements,value:e.value.options.addRegisteredChildrenOptions&&e.value.options.addRegisteredChildrenOptions.addExtraElementsBySlug,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown",multiple:""},on:{input:e.updateAddExtraElementsBySlug}}),n("IconButton",{attrs:{icon:"TrashIcon"},on:{click:function(t){return e.updateAddExtraElementsBySlug([])}}})],1):n("div",[e._v(" No available extra elements. ")])]:e._e(),"code"===e.value.options.type?[n("h3",[e._v("Code input options")]),n("DropdownInput",{staticClass:"pt-3",attrs:{items:e.codeTypes,value:e.value.options.codeOptions&&e.value.options.codeOptions.language},on:{input:e.updateCodeType}})]:e._e(),"text"===e.value.options.type||"richtext"===e.value.options.type?[n("ElementStudioVariableOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.variableOptions},on:{input:function(t){return e.updateOptions(t,"variableOptions")},updateVariableItems:e.updateVariableItems,updateVariableItem:e.updateVariableItem}})]:e._e(),n("h3",[e._v("Misc Options")]),e.isInContentTab?[n("v-checkbox",{attrs:{label:"See content editable code","hide-details":""},model:{value:e.showContentEditableCode,callback:function(t){e.showContentEditableCode=t},expression:"showContentEditableCode"}}),e.showContentEditableCode?[n("Copyable",{staticClass:"element-studio-inline-helper-code",attrs:{shouldCopy:!1}},[e._v(" "+e._s(e.contentEditableHelperCode)+" ")])]:e._e()]:e._e(),n("div",[e.isInContentTab?e._e():[n("div",{staticClass:"d-flex flex-row"},[n("v-checkbox",{attrs:{disabled:e.canHaveMediaQueries,label:"Enable Media Queries","input-value":e.value.enableMediaQueries,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableMediaQueries")}}})],1)],n("div",{staticClass:"d-flex flex-row"},[n("v-checkbox",{attrs:{label:"Enable Hover","input-value":e.value.enableHover,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableHover")}}})],1),n("h3",[e._v("Layout")]),n("DropdownInput",{staticClass:"pt-3",attrs:{items:e.controlLayouts,value:e.value.options.layout},on:{input:e.updateControlLayout}}),"text"===e.value.options.type||"dropdown"===e.value.options.type||"multiselect"===e.value.options.type?[n("h3",[e._v("Placeholder")]),n("TextInput",{attrs:{value:e.value.options.placeholder},on:{input:e.updatePlaceholder}})]:e._e(),n("h3",[e._v("Keywords")]),n("TextInput",{attrs:{value:e.keywordsValue},on:{input:e.updateKeywords}}),n("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),n("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}})],2)],2)],1),e.isSection?n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[n("v-card",{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[e.isPresetSection?e._e():n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make all control values in this section available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when any child control value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),n("h3",[e._v("Section Layout")]),n("v-select",{staticClass:"pt-3",attrs:{dense:"",items:e.sectionLayouts,value:e.value.options.sectionOptions&&e.value.options.sectionOptions.type},on:{input:e.updateSectionLayoutType}}),n("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),n("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}}),e.spacingBarPresetSlug?[n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable spacing bars","input-value":e.isSpacingBarEnabled(),"hide-details":""},on:{change:e.updateSpacingBar}})]:e._e()],2)],1):e._e(),n("v-spacer"),n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mr-1",attrs:{color:"black",icon:"",small:""}},a),[n("Icon",{attrs:{icon:"EllipsisIcon",size:"18"}})],1)]}}])},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.copy}},[n("v-list-item-title",[e._v("Copy")])],1),e.canPaste?n("v-list-item",{attrs:{dense:""},on:{click:e.handlePaste}},[n("v-list-item-title",[e._v("Paste As Child")])],1):e._e(),e.canReplace?n("v-list-item",{attrs:{dense:""},on:{click:e.handleReplace}},[n("v-list-item-title",[e._v("Replace")])],1):e._e(),e.isSection?n("v-list-item",{attrs:{dense:""},on:{click:e.handleMakePreset}},[n("v-list-item-title",[e._v("Make into a Preset")])],1):e._e()],1)],1),n("v-btn",{staticClass:"mr-3",attrs:{color:"black",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteControl(t)}}},[n("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[n("draggable",{attrs:{value:e.value.children},on:{input:e.handleDrag}},e._l(e.value.children,(function(t,a){return n("ControlSectionOrControl",{key:t.slug,attrs:{value:t,path:e.path+".children["+a+"]",index:a,parentPath:e.path,twigParentPath:e.twigParentPath+(e.isParentARepeater?"["+a+"]":"")+"."+e.value.slug,parentControl:e.value}})})),1),e.controlAcceptsChildren?n("v-btn",{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-control"},on:{click:e.addControl}},[e._v(" Add Control ")]):e._e(),e.controlAcceptsChildren?n("v-btn",{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-preset"},on:{click:e.addPreset}},[e._v(" Add Preset ")]):e._e()]},proxy:!0}])})],1)],1)},Cc=[],xc=(n("fb6a"),n("19a4")),wc=n("310e"),Pc=n.n(wc),Ec=n("628e"),_c=n("b875"),Ic=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[n("v-text-field",e._b({staticClass:"breakdance-dense-input",attrs:{value:e.value,rules:e.rules,clearable:e.clearable,solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)","data-test-id":e.testId},on:{input:e.edit,blur:function(t){return e.$emit("blur",t)}}},"v-text-field",e.inputOptions,!1))],1)},Dc=[],Tc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"edit",value:function(e){this.isNumber&&e?this.$emit("input",parseFloat(e)):this.$emit("input",e)}},{key:"isNumber",get:function(){var e;return"number"===(null===(e=this.inputOptions)||void 0===e?void 0:e.type)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Tc.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Tc.prototype,"inputOptions",void 0),Object(u["a"])([Object(d["d"])()],Tc.prototype,"rules",void 0),Object(u["a"])([Object(d["d"])()],Tc.prototype,"testId",void 0),Object(u["a"])([Object(d["d"])({default:!0})],Tc.prototype,"clearable",void 0),Tc=Object(u["a"])([d["a"]],Tc);var Ac=Tc,Rc=Ac,Bc=(n("cd2c"),Object(ie["a"])(Rc,Ic,Dc,!1,null,null,null)),Fc=Bc.exports;$a()(Bc,{VTextField:mr["a"]});var Mc=n("5624"),Vc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-studio-twig-code-helper"},[e.codeForControl?n("Copyable",{on:{onCopy:e.close}},[e._v(e._s(e.codeForControl))]):[e._v("No code help available for "),n("code",[e._v(e._s(e.control.options.type))]),e._v(" control type")]],2)},Wc=[],Lc=(n("4d63"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-studio-copyable"},[n("textarea",{ref:"input",attrs:{readonly:""},domProps:{value:e.textToCopy}}),e.shouldCopy?n("v-btn",{attrs:{small:""},on:{click:e.copy}},[e._v("Copy")]):e._e()],1)}),Nc=[],Uc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;this.shouldCopy&&Object(ot["a"])((function(){e.$refs.input.select(),document.execCommand("copy")}))}},{key:"copy",value:function(){this.$refs.input.select(),document.execCommand("copy"),this.$emit("onCopy")}},{key:"textToCopy",get:function(){var e,t;return(null===(e=this.$slots)||void 0===e||null===(t=e.default[0])||void 0===t?void 0:t.text)||""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!0})],Uc.prototype,"shouldCopy",void 0),Uc=Object(u["a"])([Object(d["a"])({})],Uc);var $c=Uc,Hc=$c,zc=(n("3865"),Object(ie["a"])(Hc,Lc,Nc,!1,null,null,null)),Gc=zc.exports;$a()(zc,{VBtn:Ha["a"]});var qc=function(e){var t=e.twigPath;return"{{ "+t+" }}"},Kc=function(e){var t=e.twigPath;return"{% if ".concat(t," %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}")},Xc=function(e){var t=e.control,n=e.twigPath;return t.options.items?t.options.items.map((function(e,t){var a=t?"elseif":"if";return"{% ".concat(a," ").concat(n," == '").concat(e.value,"' %}")+"\n  CSS or HTML here\n"})).join("")+"\n{% endif %}":"no items yo"},Yc=function(e){var t=e.control,n=e.twigPath;return t.options.items?t.options.items.map((function(e,t){var a=t?"elseif":"if";return"{% ".concat(a," '").concat(e.value,"' in ").concat(n," %}")+"\n  CSS or HTML here\n"})).join("")+"\n{% endif %}":"no items yo"},Qc=function(e){var t,n,a=e.control,i=e.twigPath,r="text"===(null===a||void 0===a||null===(t=a.options)||void 0===t||null===(n=t.shadowOptions)||void 0===n?void 0:n.type),o=r?"text-shadow":"box-shadow";return"".concat(o,": {{ ").concat(i,".style }};")},Zc=function(e){var t=e.twigPath;return'\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class="some-class-to-wrap-the-icon-svg">\n{{ '.concat(t,".svgCode }}\n</div>\n")},Jc=function(e){var t=e.twigPath;return"\n    {% for item in ".concat(t," %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    ")},eu=function(e){var t=e.twigPath;return"\n  /* could be used for transforms */\n  transform-origin: {{ ".concat(t,".x }}% {{ ").concat(t,".y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ").concat(t,".x }}% {{ ").concat(t,".y }}%;\n  ")},tu=["layout_basic_flex","layout","borders","background","css","size","grid"].concat(Object(k["a"])(ue["h"])),nu=function(e){var t,n,a,i=e.control,r=e.twigPath,o=null===(t=i.options.sectionOptions)||void 0===t||null===(n=t.preset)||void 0===n||null===(a=n.slug)||void 0===a?void 0:a.replace("EssentialElements\\","");return o?tu.includes(o)?"{{ macros.".concat(o,"(").concat(r,") }}"):"effects"===o?"\n    {{ macros.effects(".concat(r,", '%%SELECTOR%%') }}\n    {{ macros.effectsHover(").concat(r,", '%%SELECTOR%%:hover') }}\n    "):"effects_no_hover"===o?"{{ macros.effects(".concat(r,", '%%SELECTOR%%') }}"):"filter"===o?"{{ macros.filters(".concat(r,") }}"):"typography"===o||"typography_with_nothing"===o||"typography_with_align"===o||"typography_with_effects"===o||"typography_with_effects_and_align"===o?"{{ macros.typography(".concat(r,", globalSettings) }}"):"simpleLayout"===o?"{{ macros.simpleLayout(".concat(r,", breakpoint) }}"):"fancy_background"===o?"\n      {{ macros.fancyBackgroundHtml(".concat(r,") }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ").concat(r,", breakpoint) }}\n    "):"typography_with_hoverable_color"===o||"typography_with_align_with_hoverable_color"===o||"typography_with_effects_with_hoverable_color_and_effects"===o||"typography_with_effects_and_align_with_hoverable_color_and_effects"===o?"\n    %%SELECTOR%% {\n      {{ macros.typography(".concat(r,", globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(").concat(r,") }}\n    }\n    "):"typography_with_hoverable_everything"===o||"typography_with_align_with_hoverable_everything"===o||"typography_with_effects_with_hoverable_everything"===o||"typography_with_effects_and_align_with_hoverable_everything"===o?"\n    %%SELECTOR%% {\n      {{ macros.typography(".concat(r,", globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(").concat(r,") }}\n    }\n    "):"AtomV1ButtonContent"===o?"\n    \x3c!-- In order to set default styles for your buttons, use the following macros: --\x3e\n    \x3c!-- You can overwrite these settings using design options  --\x3e\n\n    \x3c!-- Button (Primary) --\x3e\n    {{ macros.atomV1ButtonHtml(".concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, '").concat(r,".text') }}\n\n    \x3c!-- Button (Secondary) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '").concat(r,".text') }}\n\n    \x3c!-- Button (Custom) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '").concat(r,".text') }}\n\n    \x3c!-- Button (Text) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'text', '").concat(r,".text') }}\n\n    \x3c!-- Form Button (Submit) --\x3e\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '").concat(r,".text') }}\n\n    \x3c!-- SSR Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    \x3c!-- SSR Form Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n"):"AtomV1ButtonDesign"===o?"\n      {{ macros.atomV1ButtonCss(".concat(r,", 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    "):"AtomV1CustomButtonDesign"===o?"\n\n      {{ macros.atomV1ButtonButton(".concat(r,", '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    "):"AtomV1IconDesignWithHover"===o?"\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ".concat(r,") }}\n\n    CSS:\n    {{ macros.atomV1IconCss(").concat(r,", 'my-icon-class', '%%SELECTOR%%', true) }}"):"AtomV1IconDesign"===o?"\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ".concat(r,") }}\n\n    CSS:\n    {{ macros.atomV1IconCss(").concat(r,", 'my-icon-class', '%%SELECTOR%%') }}"):"AtomV1FormDesign"===o?"{{ macros.atomV1FormCss(".concat(r,", '%%SELECTOR%%') }}"):"tabs_design"===o?"{{ macros.atomV1TabsCss('%%SELECTOR%%', ".concat(r,", breakpoint, globalSettings) }}"):"WooGlobalStylerOverride"===o?"{{ macros.wooGlobalStyler(".concat(r,", '%%SELECTOR%%', breakpoint, globalSettings) }}"):"pagination"===o?"{{ macros.pagination(".concat(r,", '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}"):"wooPresetInputsDesign"===o||"wooPresetInputsDesignNoSelect2"===o?"\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(".concat(r,") }}\n    }"):"wooProductsListElements"===o?"\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):"wooProductsListLayout"===o?"\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):"wooProductWrapperDesign"===o?"\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):["lightbox_design","lightbox_single_design"].includes(o)?"{{ macros.atomV1LightboxCss(".concat(r,") }}"):"AtomV1SwiperSettings"===o?'\nHTML:\n\n<div class="breakdance-swiper-wrapper">\n  <div class="swiper">\n    <div class="swiper-wrapper">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss('.concat(r,", '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n"):"borders_without_shadows"===o?"\n    {{ macros.borders_without_shadows(".concat(r,") }}\n    "):"no code help for preset section type of ".concat(o):"undefined preset type"},au={trigger_action_button:void 0,border_complex:function(e){var t=e.twigPath;return"{{ macros.border_complex(".concat(t,") }}")},border_radius:function(e){var t=e.twigPath;return"{{ macros.border_radius(".concat(t,") }}")},breakpoint_dropdown:function(e){var t=e.twigPath;return"\n    {% if breakpoint == ".concat(t," %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    ")},button_bar:Xc,dropdown:Xc,code:qc,color:function(e){var t,n=e.control,a=e.twigPath;return"solidAndGradient"===(null===(t=n.options.colorOptions)||void 0===t?void 0:t.type)?"\n        /* Background Color */\n        {{ macros.backgroundColor(".concat(a,") }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(").concat(a,") }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(").concat(a,") }}\n      "):"background-color: {{ ".concat(a," }}")},gradient:function(e){var t=e.twigPath;return"background-image: {{ ".concat(t,".style }}")},shadow:Qc,icon:Zc,number:qc,repeater:Jc,inline_repeater:Jc,richtext:qc,toggle:Kc,spacing_complex:function(e){var t=e.twigPath;return"{{ macros.spacing_complex(".concat(t,", 'margin') }}")},text:qc,url:qc,unit:function(e){var t=e.twigPath;return"font-size: {{ ".concat(t,".style }};")},wpmedia:function(e){var t,n,a=e.control,i=e.twigPath;return(null===(t=a.options)||void 0===t||null===(n=t.mediaOptions)||void 0===n?void 0:n.multiple)?"\n      {% for item in ".concat(i," %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      "):"\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(".concat(i,", content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(").concat(i,", content.content.size, alt, lazyLoad) }}\n    ")},video:function(e){var t=e.twigPath;return"\n      {{ macros.video(".concat(t,") }}\n    ")},focus_point:eu,section:nu,multiselect:Yc,condition:void 0,font_family:void 0,class:void 0,global_colors:void 0,global_block_chooser:void 0,typography:void 0,custom_typography:void 0,typography_preset:void 0,message:void 0,post_chooser:void 0,element_screenshot:void 0,slider:void 0,add_registered_children:void 0,builder_behavior:void 0,alert_box:void 0,date_picker:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},time_picker:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},api_key_input:void 0,link:function(e){var t=e.twigPath;return"\n     {{ macros.linkStart(".concat(t,") }}\n         Link Text\n     {{ macros.linkEnd() }}\n    ")},media_size_dropdown:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},wp_query:function(){return"Use this control in your SSR.php file. For example:\n    \\Breakdance\\WpQueryControl\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);"},conditional_form_field:void 0},iu=function(e,t){var n="";if(Array.isArray(e))n=e.reduce((function(e,t){var n=t.reduce((function(e,t){var n=t.path,a=t.value;return e?"".concat(e," and ").concat(n,' == "').concat(a,'"'):"".concat(n,' == "').concat(a,'"')}),"");return e?"".concat(e," or (").concat(n,")"):"(".concat(n,")")}),"");else{var a=e.path,i=e.value;n="".concat(a,' == "').concat(i,'"')}return"\n      {% if ".concat(n," %}\n      ").concat(t,"\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      ")},ru=n("579b"),ou=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}},{key:"twigPath",get:function(){return this.inRepeater?"item.".concat(this.control.slug):"".concat(this.twigParentPath,".").concat(this.control.slug)}},{key:"codeForControl",get:function(){var e,t,n,a=au[this.control.options.type],i=null===(e=this.control.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t||null===(n=t.codeHelp)||void 0===n?void 0:n.replace("%%TWIG_PATH%%",this.twigPath),r=i||a&&a({control:this.control,twigPath:this.twigPath});if(!r)return!1;if(this.control.options.condition&&(r=iu(this.control.options.condition,r)),this.control.enableHover){var o=r.replace(new RegExp(this.twigPath,"g"),Object(ru["a"])(this.twigPath));r+="\n\n.some-selector:hover {\n"+o+"\n}\n"}return r}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ou.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],ou.prototype,"twigParentPath",void 0),Object(u["a"])([Object(d["d"])()],ou.prototype,"inRepeater",void 0),ou=Object(u["a"])([Object(d["a"])({components:{Copyable:Gc}})],ou);var su=ou,lu=su,cu=(n("833c"),Object(ie["a"])(lu,Vc,Wc,!1,null,null,null)),uu=cu.exports,du=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.label))]),n("Repeater",{attrs:{value:this.internalValue,control:{options:{repeaterOptions:{defaultNewValue:[e.getBlankCondition()],titleTemplate:"OR",buttonName:"Add new OR condition",forceDontProcessDefaultNewValueWhenAddingItemsHack:!0}}}},on:{input:e.emit},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[n("Repeater",{attrs:{value:e.internalValue[a],control:{options:{repeaterOptions:{defaultNewValue:e.getBlankCondition(),forceDontProcessDefaultNewValueWhenAddingItemsHack:!0,titleTemplate:"(AND) "+e.title+" for '{path}'",buttonName:"Add new (AND) "+e.title}}}},on:{input:function(t){return e.updateOrCondition(t,a)}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("div",{staticClass:"element-studio-condition-input"},[r?n("div",{staticClass:"element-studio-condition-input-row"},[n("v-combobox",{attrs:{label:"Path",items:e.paths,value:r.path},on:{input:function(t){return e.updatePath(t,a,i)}}}),n("v-select",{attrs:{label:"Operand","no-data-text":"No data. Select a path first",value:r.operand,items:e.getOperands(r)},on:{input:function(t){return e.updateOperand(t,a,i)}}}),"is set"!==r.operand&&"is not set"!==r.operand?["is one of"!==r.operand&&"is none of"!==r.operand?[n("v-combobox",{attrs:{label:"Value",items:e.getPossibleValues(r),value:r.value},on:{input:function(t){return e.updateValue(t,a,i)}}})]:[n("v-combobox",{attrs:{multiple:"",label:"Values",items:e.getPossibleValues(r),value:e.hasMultipleValues(r)},on:{input:function(t){return e.updateValue(t,a,i)}}})]]:e._e()],2):e._e()])]}}],null,!0)})]}}])})],1)},pu=[],vu=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){this.value&&!Array.isArray(this.value)&&this.emit([[this.value]])}},{key:"getBlankCondition",value:function(){return{path:"",operand:"equals",value:""}}},{key:"getOperands",value:function(e){var t=e.path;if(!t)return[];var n=this.getControl(t),a=["equals","not equals","is one of","is none of","is set","is not set","contains","does not contain"];return"multiselect"===(null===n||void 0===n?void 0:n.options.type)&&(a=["includes"]),"toggle"===(null===n||void 0===n?void 0:n.options.type)&&(a=["is set","is not set"]),a.map((function(e){return{text:e,value:e}}))}},{key:"hasMultipleValues",value:function(e){return Array.isArray(e.value)?e.value:[]}},{key:"getPossibleValues",value:function(e){var t,n=e.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=null===(t=a.options.items)||void 0===t?void 0:t.map((function(e){return String(e.value)}));return i||[]}},{key:"getControl",value:function(e){return Object(Fe["e"])(this.context.element(),e)}},{key:"updatePath",value:function(e,t,n){var a=Object(ze["a"])(this.internalValue);a[t][n].path=e,this.emit(a)}},{key:"updateOperand",value:function(e,t,n){var a=Object(ze["a"])(this.internalValue);a[t][n].operand=e,this.emit(a)}},{key:"updateValue",value:function(e,t,n){var a=Object(ze["a"])(this.internalValue);a[t][n].value=e,this.emit(a)}},{key:"updateOrCondition",value:function(e,t){var n=Object(ze["a"])(this.internalValue);n[t]=e,this.emit(n)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value?Array.isArray(this.value)?this.value:[[this.value]]:[]}},{key:"paths",get:function(){var e=this,t=this.context.getPathsToAllControls().filter((function(e){return!e.includes("settings.animations")}));return this.pathStartsWith?t.filter((function(t){return t.startsWith(e.pathStartsWith)})).map((function(t){return t.replace(e.pathStartsWith,"")})):t}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],vu.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:"Condition"})],vu.prototype,"title",void 0),Object(u["a"])([Object(d["d"])({default:"Only Show Control When Condition Is Met"})],vu.prototype,"label",void 0),Object(u["a"])([Object(d["d"])()],vu.prototype,"pathStartsWith",void 0),Object(u["a"])([Object(d["b"])("context")],vu.prototype,"context",void 0),vu=Object(u["a"])([Object(d["a"])({components:{Repeater:_c["default"]}})],vu);var hu=vu,mu=hu,fu=n("2b5d"),bu=Object(ie["a"])(mu,du,pu,!1,null,null,null),gu=bu.exports;$a()(bu,{VCombobox:fu["a"],VSelect:Fs["a"]});var yu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-unit-options"},[n("h2",{staticClass:"mb-2"},[e._v("Unit Options")]),n("h3",[e._v("Allowed types")]),n("v-autocomplete",{attrs:{label:"Types",value:e.value&&e.value.types,items:e.availableTypes,multiple:!0,"hide-details":""},on:{input:e.updateTypes}}),n("h3",{staticClass:"mb-1"},[e._v("Default Type")]),n("DropdownInput",{attrs:{label:"Default Type",items:e.value&&e.value.types||[],value:e.value&&e.value.defaultType},on:{input:e.updateDefaultType}})],1)},Ou=[],ku=n("8bac"),ju=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.control={options:{repeaterOptions:{titleTemplate:"Type",buttonName:"Add type"}}},e}return Object(s["a"])(n,[{key:"updateTypes",value:function(e){var t=Object(ze["a"])(this.internalValue);this.emit(Object(C["a"])({},t,{types:e}))}},{key:"updateDefaultType",value:function(e){var t=Object(ze["a"])(this.internalValue);this.emit(Object(C["a"])({},t,{defaultType:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"availableTypes",get:function(){return ku["b"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ju.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],ju.prototype,"context",void 0),ju=Object(u["a"])([Object(d["a"])({components:{Repeater:_c["default"],DropdownInput:_o["a"]}})],ju);var Su=ju,Cu=Su,xu=n("c6a6"),wu=Object(ie["a"])(Cu,yu,Ou,!1,null,null,null),Pu=wu.exports;$a()(wu,{VAutocomplete:xu["a"]});var Eu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-range-options"},[n("h3",{staticClass:"mb-2"},[e._v("Range Options")]),n("div",{staticClass:"d-flex align-end"},[n("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Step (fixed to 2 decimals) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.step},on:{input:function(t){return e.updateStep(t.target.value)}}})]),n("div",{staticClass:"flex-grow-1 mx-1 flex-column"},[e._v(" Min (Integer) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.min},on:{input:function(t){return e.updateMin(t.target.value)}}})]),n("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Max (Integer) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.max},on:{input:function(t){return e.updateMax(t.target.value)}}})])])])},_u=[],Iu=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateStep",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{step:e?Object(ve["a"])(e):void 0}))}},{key:"updateMin",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{min:e?parseInt(e):void 0}))}},{key:"updateMax",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{max:e?parseInt(e):void 0}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{min:void 0,max:void 0,step:void 0}}},{key:"inputClass",get:function(){return"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Iu.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Iu.prototype,"context",void 0),Iu=Object(u["a"])([Object(d["a"])({components:{TextInput:wo["a"]}})],Iu);var Du=Iu,Tu=Du,Au=Object(ie["a"])(Tu,Eu,_u,!1,null,null,null),Ru=Au.exports,Bu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-repeater-options"},[n("h3",{staticClass:"mb-2"},[e._v("Repeater Options")]),n("div",[e._v(" Title Template "),n("TextInput",{attrs:{value:e.internalValue.titleTemplate},on:{input:function(t){return e.update(t,"titleTemplate")}}}),e.controlSlugs.length?n("div",{staticClass:"element-studio-repeater-options-variables"},[e._v(" Available variables: "),e._l(e.controlSlugs,(function(t){return n("span",{staticClass:"element-studio-repeater-options-variable",on:{click:function(n){return e.appendVariableToTitle(t)}}},[n("span",[e._v("{")]),e._v(e._s(t)),n("span",[e._v("}")])])}))],2):e._e()],1),n("div",{staticClass:"my-2"},[e._v(" Default Title "),n("TextInput",{attrs:{value:e.internalValue.defaultTitle},on:{input:function(t){return e.update(t,"defaultTitle")}}}),e._v(" Used as a fallback when the title template is blank. ")],1),n("div",[e._v(" Button Name "),n("TextInput",{attrs:{value:e.internalValue.buttonName},on:{input:function(t){return e.update(t,"buttonName")}}}),e._v(' Defaults to "Add Item". ')],1),n("div",[n("v-checkbox",{staticClass:"mb-3",attrs:{label:"Enable gallery mode","hide-details":"","input-value":e.internalValue.galleryMode},on:{change:e.updateGalleryMode}}),e.internalValue.galleryMode?[n("h3",{staticClass:"mb-3"},[e._v("Gallery Media Path")]),n("DropdownInput",{attrs:{value:e.internalValue.galleryMediaPath,items:e.mediaControlSlugs},on:{input:function(t){return e.update(t,"galleryMediaPath")}}})]:e._e()],2)])},Fu=[],Mu={titleTemplate:"",defaultTitle:"",buttonName:""},Vu=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"appendVariableToTitle",value:function(e){var t=this.internalValue.titleTemplate,n=t.includes("{".concat(e,"}"));if(!n){var a="".concat(t," {").concat(e,"}").trim();this.update(a,"titleTemplate")}}},{key:"update",value:function(e,t){this.emit(Object(C["a"])({},this.internalValue,Object(Ft["a"])({},t,null!==e&&void 0!==e?e:"")))}},{key:"updateGalleryMode",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{galleryMode:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||Mu}},{key:"controlSlugs",get:function(){return this.control.children.map((function(e){return e.slug}))}},{key:"mediaControlSlugs",get:function(){return this.control.children.filter((function(e){return"wpmedia"===e.options.type})).map((function(e){return e.slug}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vu.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Vu.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],Vu.prototype,"control",void 0),Vu=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],TextInput:wo["a"]}})],Vu);var Wu=Vu,Lu=Wu,Nu=(n("8a74"),n("ac7c")),Uu=Object(ie["a"])(Lu,Bu,Fu,!1,null,null,null),$u=Uu.exports;$a()(Uu,{VCheckbox:Nu["a"]});var Hu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-dropdown-options"},[n("h2",{staticClass:"mb-2"},[e._v("Dropdown options")]),"dropdown"===e.control.options.type?[this.element.htmlTag.options.length>0?n("NiceButton",{on:{click:e.populateWithHtmlTagOptions}},[e._v("Populate with HTML Tag Options")]):e._e(),n("v-checkbox",{attrs:{"input-value":!!e.internalValue.populate,label:"Populate dropdown dynamically","hide-details":""},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?[n("v-divider",{staticClass:"my-3"}),n("h3",{staticClass:"mb-2"},[e._v("Populate from a Repeater's Input")]),e.internalValue.populate.fetchDataAction?n("div",[e._v(" Populating from server data. To use items instead, clear those fields below. ")]):e.repeaterPaths.length?n("div",[n("v-combobox",{attrs:{label:"Path",items:e.repeaterPaths,value:e.internalValue.populate.path,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),n("v-combobox",{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),n("v-combobox",{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1):n("div",[n("h4",[e._v("No repeaters presenta")])]),n("v-divider",{staticClass:"my-3"}),n("h3",{staticClass:"mb-2"},[e._v("Populate from server data")]),n("v-text-field",{attrs:{label:"Fetch data action route name",value:e.internalValue.populate.fetchDataAction,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchDataAction",t)}}}),n("v-combobox",{attrs:{label:"Fetch context path",items:e.controlPaths,value:e.internalValue.populate.fetchContextPath,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchContextPath",t)}}}),n("h3",[e._v("Refetch data if a control's value changes (specify path)")]),n("Repeater",{attrs:{value:e.internalValue.populate.refetchPaths},on:{input:e.updateRefetchPaths},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[n("v-combobox",{staticClass:"mb-2",attrs:{items:e.controlPaths,value:e.internalValue.populate.refetchPaths[a],"hide-details":""},on:{input:function(t){return e.updateRefetchPath(a,t)}}})]}}],null,!1,3001308231)}),n("v-divider",{staticClass:"my-3"}),n("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the dropdown only if a condition is met","path-starts-with":e.internalValue.populate.path+".",value:e.internalValue.populate.condition},on:{input:e.updateCondition}})]:e._e()]:e._e(),e.internalValue.populate?e._e():[n("h3",{staticClass:"mb-2"},[e._v("Dropdown items")]),n("Repeater",{attrs:{path:e.path,value:e.dropdownItems,control:e.control},on:{input:e.updateDropdownItems},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[e._v(" Label "),n("TextInput",{staticClass:"mb-2",attrs:{value:e.dropdownItems[a].text,testId:"element-studio-control-dropdown-label-input"},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{text:t||""}),a)}}}),e._v(" Value "),n("TextInput",{attrs:{value:e.dropdownItems[a].value,testId:"element-studio-control-dropdown-value-input"},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{value:t||""}),a)}}}),"button_bar"===e.control.options.type?n("div",{staticClass:"breakdance-dropdown-input d-flex mt-2"},[e.dropdownItems[a].icon?n("div",{staticClass:"mr-2 d-flex align-center"},[n("Icon",{attrs:{icon:e.dropdownItems[a].icon,size:"18"}})],1):e._e(),n("ElementStudioIconsAutocomplete",{attrs:{value:e.dropdownItems[a].icon},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{icon:t}),a)}}})],1):e._e()]}}],null,!1,280151685)})]],2)},zu=[],Gu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{label:"Icon",dense:"",solo:"",flat:"",filled:"","hide-details":"",clearable:"",placeholder:"CloseIcon",items:e.iconNames,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},qu=[],Ku=n("e9a4"),Xu=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"iconNames",get:function(){return Ku["iconNames"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Xu.prototype,"value",void 0),Xu=Object(u["a"])([Object(d["a"])({})],Xu);var Yu=Xu,Qu=Yu,Zu=Object(ie["a"])(Qu,Gu,qu,!1,null,null,null),Ju=Zu.exports;$a()(Zu,{VAutocomplete:xu["a"]});var ed={path:"",text:"",value:"",condition:void 0,fetchDataAction:"",fetchContextPath:"",refetchPaths:[]},td=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getControl",value:function(e){return Object(Fe["e"])(this.element,e)}},{key:"updateDropdownItems",value:function(e){this.$emit("updateDropdownItems",e)}},{key:"updateDropdownItem",value:function(e,t){this.$emit("updateDropdownItem",{newItem:e,index:t})}},{key:"updateEnablePopulate",value:function(e){e?this.emit({populate:ed}):this.emit(void 0)}},{key:"updateCondition",value:function(e){var t=Object(ze["a"])(this.populate);t.condition=e,this.emit({populate:t})}},{key:"updatePopulateValue",value:function(e,t){var n=Object(ze["a"])(this.populate);n[e]=t,this.emit({populate:n})}},{key:"updateRefetchPaths",value:function(e){var t=Object(ze["a"])(this.populate);t.refetchPaths=e.map((function(e){return"string"===typeof e?e:""})),this.emit({populate:t})}},{key:"updateRefetchPath",value:function(e,t){var n=Object(ze["a"])(this.populate);n.refetchPaths&&(n.refetchPaths[e]=t,this.emit({populate:n}))}},{key:"populateWithHtmlTagOptions",value:function(){if(this.element.htmlTag.options){var e=this.element.htmlTag.options.map((function(e){return{text:e,value:e}}));this.updateDropdownItems(e)}}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"repeaterPaths",get:function(){return this.context.getPathsToAllControls(["repeater"])}},{key:"controlPaths",get:function(){return this.context.getPathsToAllControls()}},{key:"possibleValues",get:function(){var e,t,n=null===(e=this.internalValue)||void 0===e||null===(t=e.populate)||void 0===t?void 0:t.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=a.children.map((function(e){return e.slug}));return i||[]}},{key:"populate",get:function(){return this.internalValue.populate||ed}},{key:"dropdownItems",get:function(){return this.control.options.items||[{value:"value",text:"Label"}]}},{key:"element",get:function(){return this.context.element()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],td.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],td.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],td.prototype,"path",void 0),Object(u["a"])([Object(d["b"])("context")],td.prototype,"context",void 0),td=Object(u["a"])([Object(d["a"])({components:{NiceButton:Io["a"],ElementStudioIconsAutocomplete:Ju,Icon:ee["a"],DropdownInput:_o["a"],Dropdown:Fi["a"],ElementStudioConditionInput:gu,Repeater:_c["default"],TextInput:wo["a"]}})],td);var nd=td,ad=nd,id=(n("ddc2"),n("ce7e")),rd=Object(ie["a"])(ad,Hu,zu,!1,null,null,null),od=rd.exports;$a()(rd,{VCheckbox:Nu["a"],VCombobox:fu["a"],VDivider:id["a"],VTextField:mr["a"]});var sd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-dropdown-options"},[n("h2",{staticClass:"mb-2"},[e._v("Breakpoint options")]),e._v(" Support Multiple "),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Support Multiple","input-value":e.value&&!!e.value.multiple,"hide-details":""},on:{change:e.updateMultiple}}),e._v(" Enable Never "),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable Never","input-value":e.value&&!!e.value.enableNever,"hide-details":""},on:{change:e.updateEnableNever}})],1)},ld=[],cd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateMultiple",value:function(e){var t=Object(ze["a"])(this.value);t.multiple=e,this.emit(t)}},{key:"updateEnableNever",value:function(e){var t=Object(ze["a"])(this.value);t.enableNever=e,this.emit(t)}},{key:"emit",value:function(e){this.$emit("input",e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],cd.prototype,"value",void 0),cd=Object(u["a"])([Object(d["a"])({components:{}})],cd);var ud=cd,dd=ud,pd=Object(ie["a"])(dd,sd,ld,!1,null,null,null),vd=pd.exports;$a()(pd,{VCheckbox:Nu["a"]});var hd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-variable-options"},[n("h3",[e._v("Variables")]),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable variables","input-value":e.internalValue.enabled,"hide-details":""},on:{change:e.toggleEnabled}}),e.internalValue.enabled?[n("Repeater",{attrs:{path:e.path,value:e.variables,control:e.control},on:{input:e.updateVariableItems},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[e._v(" Label "),n("TextInput",{staticClass:"mb-2",attrs:{value:e.variables[a].label,testId:"element-studio-control-variable-label-input"},on:{input:function(t){return e.updateVariableItem(Object.assign({},e.variables[a],{label:t}),a)}}}),e._v(" Value "),n("TextInput",{attrs:{value:e.variables[a].value,testId:"element-studio-control-variable-value-input"},on:{input:function(t){return e.updateVariableItem(Object.assign({},e.variables[a],{value:t}),a)}}})]}}],null,!1,98037988)}),n("v-checkbox",{attrs:{"input-value":!!e.internalValue.populate,label:"Populate variables based on a Repeater Input"},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?n("div",[n("div",[n("v-combobox",{attrs:{label:"Path",items:e.paths,value:e.internalValue.populate.path},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),n("v-combobox",{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),n("v-combobox",{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1),n("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the variable only if a condition is met","path-starts-with":e.internalValue.populate.path+".",value:e.internalValue.populate.condition},on:{input:e.updateCondition}}),n("v-divider")],1):e._e()]:e._e()],2)},md=[],fd={path:"",text:"",value:"",condition:void 0},bd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.enabled=!1,e}return Object(s["a"])(n,[{key:"getControl",value:function(e){return Object(Fe["e"])(this.element,e)}},{key:"updateVariableItems",value:function(e){this.$emit("updateVariableItems",e)}},{key:"updateVariableItem",value:function(e,t){this.$emit("updateVariableItem",{newItem:e,index:t})}},{key:"updateEnablePopulate",value:function(e){e?this.emit({populate:fd}):this.emit({populate:void 0})}},{key:"updateCondition",value:function(e){var t=Object(ze["a"])(this.populate);t.condition=e,this.emit({populate:t})}},{key:"updatePopulateValue",value:function(e,t){var n=Object(ze["a"])(this.populate);n[e]=t,this.emit({populate:n})}},{key:"toggleEnabled",value:function(e){this.emit({enabled:e})}},{key:"emit",value:function(e){this.$emit("input",Object(C["a"])({},this.internalValue,{},e))}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["repeater"])}},{key:"possibleValues",get:function(){var e,t,n=null===(e=this.internalValue)||void 0===e||null===(t=e.populate)||void 0===t?void 0:t.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=a.children.map((function(e){return e.slug}));return i||[]}},{key:"populate",get:function(){return this.internalValue.populate||fd}},{key:"variables",get:function(){return this.control.options.variableItems||[{value:"value",text:"Label"}]}},{key:"element",get:function(){return this.context.element()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],bd.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],bd.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],bd.prototype,"path",void 0),Object(u["a"])([Object(d["b"])("context")],bd.prototype,"context",void 0),bd=Object(u["a"])([Object(d["a"])({components:{NiceButton:Io["a"],ElementStudioIconsAutocomplete:Ju,Icon:ee["a"],ElementStudioConditionInput:gu,Repeater:_c["default"],TextInput:wo["a"]}})],bd);var gd=bd,yd=gd,Od=(n("a387"),Object(ie["a"])(yd,hd,md,!1,null,null,null)),kd=Od.exports;$a()(Od,{VCheckbox:Nu["a"],VCombobox:fu["a"],VDivider:id["a"]});var jd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options"},[n("div",{staticClass:"mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("WP Media Options")]),n("v-checkbox",{attrs:{label:"Enable gallery mode","input-value":e.internalValue.multiple,"hide-details":""},on:{change:e.updateMultiple}})],1),n("v-checkbox",{attrs:{label:"Allow only certain file types","input-value":e.fileTypesEnabled,"hide-details":""},on:{change:e.updateEnableFileTypes}}),e.fileTypesEnabled?n("v-autocomplete",{staticClass:"mt-2",attrs:{label:"Accepted File Types",value:e.internalValue.acceptedFileTypes,items:e.types,multiple:!0,hint:"All file types are allowed by default."},on:{input:e.updateType}}):e._e()],1)},Sd=[],Cd=n("24ff"),xd={acceptedFileTypes:void 0,multiple:!1},wd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateType",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{acceptedFileTypes:e}))}},{key:"updateMultiple",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{multiple:e}))}},{key:"updateEnableFileTypes",value:function(e){e?this.updateType([]):this.updateType(void 0)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"fileTypesEnabled",get:function(){return Array.isArray(this.internalValue.acceptedFileTypes)}},{key:"types",get:function(){return Cd["d"].types.map((function(e){return e.value}))}},{key:"internalValue",get:function(){return this.value||xd}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],wd.prototype,"value",void 0),wd=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],Repeater:_c["default"]}})],wd);var Pd=wd,Ed=Pd,_d=Object(ie["a"])(Ed,jd,Sd,!1,null,null,null),Id=_d.exports;$a()(_d,{VAutocomplete:xu["a"],VCheckbox:Nu["a"]});var Dd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-size-options"},[n("div",{staticClass:"mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Media Size Options")]),n("v-combobox",{attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,hint:"Will only show an image's available sizes. Use [] when inside a repeater.","persistent-hint":"",clearable:""},on:{input:e.updatePath}}),e.internalValue.imagePropertyPath?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{"input-value":e.internalValue.disableSrcset,label:"Don't add srcset attribute to the Image object","persistent-hint":"","hide-details":""},on:{change:e.toggleSrcset}}):e._e()],1)])},Td=[],Ad=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updatePath",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{imagePropertyPath:e||""}))}},{key:"toggleSrcset",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{disableSrcset:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["wpmedia"])}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])("context")],Ad.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],Ad.prototype,"value",void 0),Ad=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],Repeater:_c["default"]}})],Ad);var Rd=Ad,Bd=Rd,Fd=Object(ie["a"])(Bd,Dd,Td,!1,null,null,null),Md=Fd.exports;$a()(Fd,{VCheckbox:Nu["a"],VCombobox:fu["a"]});var Vd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-icon-options"},[n("div",{staticClass:"mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Icon Options")]),n("v-combobox",{attrs:{clearable:"",multiple:"",value:e.internalValue.suggestions,label:"Suggestions"},on:{input:e.updateSuggestions}})],1)])},Wd=[],Ld=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateSuggestions",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{suggestions:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ld.prototype,"value",void 0),Ld=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],Repeater:_c["default"]}})],Ld);var Nd=Ld,Ud=Nd,$d=Object(ie["a"])(Ud,Vd,Wd,!1,null,null,null),Hd=$d.exports;function zd(e,t){function n(e,n,a,i){var r="";return r="control"===i?"".concat(t,".").concat(n,"_").concat(a,".%%BREAKPOINT%%"):"complex"===i?"".concat(t,".").concat(n,".%%BREAKPOINT%%.").concat(a):"".concat(t,".").concat(n,".").concat(a),{location:"".concat(e,"-").concat(a),cssProperty:"".concat(n,"-").concat(a),affectedPropertyPath:r}}var a=[n("outside","margin","top","complex"),n("outside","margin","bottom","complex"),n("outside","margin","right","complex"),n("outside","margin","left","complex")],i=[n("inside","padding","top","complex"),n("inside","padding","bottom","complex"),n("inside","padding","right","complex"),n("inside","padding","left","complex")],r=[n("outside","margin","top","control"),n("outside","margin","bottom","control")],o=[n("outside","margin","right","control"),n("outside","margin","left","control")],s=[n("inside","padding","top","control"),n("inside","padding","bottom","control")],l=[n("inside","padding","right","control"),n("inside","padding","left","control")],c=[n("outside","margin","top","not_responsive"),n("outside","margin","bottom","not_responsive"),n("outside","margin","right","not_responsive"),n("outside","margin","left","not_responsive"),n("inside","padding","top","not_responsive"),n("inside","padding","bottom","not_responsive"),n("inside","padding","right","not_responsive"),n("inside","padding","left","not_responsive")];switch(e){case"spacing_all":return[].concat(a,i);case"spacing_all_y":return[].concat(r,s);case"spacing_all_x":return[].concat(o,l);case"spacing_margin_all":return a;case"spacing_margin_y":return r;case"spacing_margin_x":return o;case"spacing_padding_all":return i;case"spacing_padding_y":return s;case"spacing_padding_x":return l;case"spacing_all_not_responsive":return c}}$a()($d,{VCombobox:fu["a"]});var Gd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-post-chooser-options"},[n("div",{staticClass:"mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Post Chooser Options")]),n("div",{staticClass:"mt-2"},[n("h4",{staticClass:"mb-1"},[e._v("Post Type")]),n("TextInput",{attrs:{value:e.internalValue.postType},on:{input:function(t){return e.update("postType",t)}}})],1),n("v-checkbox",{attrs:{label:"Multiple","input-value":e.internalValue.multiple,"hide-details":""},on:{change:function(t){return e.update("multiple",t)}}}),n("v-checkbox",{attrs:{label:"Show Thumbnails","input-value":e.internalValue.showThumbnails,"hide-details":""},on:{change:function(t){return e.update("showThumbnails",t)}}})],1)])},qd=[],Kd={multiple:!1,showThumbnails:!1,postType:"post"},Xd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateMultiple",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{multiple:e}))}},{key:"update",value:function(e,t){this.emit(Object(C["a"])({},this.internalValue,Object(Ft["a"])({},e,null!==t&&void 0!==t?t:"")))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||Kd}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Xd.prototype,"value",void 0),Xd=Object(u["a"])([Object(d["a"])({components:{TextInput:wo["a"],DropdownInput:_o["a"],Repeater:_c["default"]}})],Xd);var Yd=Xd,Qd=Yd,Zd=Object(ie["a"])(Qd,Gd,qd,!1,null,null,null),Jd=Zd.exports;$a()(Zd,{VCheckbox:Nu["a"]});var ep=n("3814"),tp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Video Options")]),n("v-autocomplete",{attrs:{label:"Providers",value:e.internalValue.providers,items:e.types,multiple:!0,hint:"All providers are allowed by default."},on:{input:e.updateProviders}})],1)},np=[],ap={providers:[]},ip=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateProviders",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{providers:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"types",get:function(){return xc["f"].types.map((function(e){return e.value}))}},{key:"internalValue",get:function(){return this.value||ap}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ip.prototype,"value",void 0),ip=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],Repeater:_c["default"]}})],ip);var rp=ip,op=rp,sp=Object(ie["a"])(op,tp,np,!1,null,null,null),lp=sp.exports;$a()(sp,{VAutocomplete:xu["a"]});var cp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Alert Box Options")]),n("DropdownInput",{staticClass:"mb-4",attrs:{placeholder:"Style",items:e.styles,value:e.internalValue.style},on:{input:e.updateStyle}}),n("TipTapWrapper",{attrs:{value:e.internalValue.content},on:{input:e.updateContent}})],1)},up=[],dp=n("ef4f"),pp={style:"default",content:""},vp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateStyle",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{style:e}))}},{key:"updateContent",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{content:null!==e&&void 0!==e?e:""}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||pp}},{key:"styles",get:function(){return xc["a"].types.map((function(e){return e.value}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],vp.prototype,"value",void 0),vp=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"],TipTapWrapper:dp["a"]}})],vp);var hp=vp,mp=hp,fp=Object(ie["a"])(mp,cp,up,!1,null,null,null),bp=fp.exports,gp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-focus-point-options mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Focus Point Options")]),n("v-checkbox",{staticClass:"mb-3",attrs:{label:"Enable Grid Mode","hide-details":"","input-value":e.internalValue.gridMode},on:{change:e.updateGridMode}}),n("v-autocomplete",{staticClass:"mb-2",attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,"persistent-hint":"",hint:"Shows an image as background of this input",clearable:"",disabled:e.internalValue.gridMode},on:{input:e.updatePath}}),e.internalValue.gridMode?n("AlertBox",{attrs:{options:{type:"info",content:"Not available when grid mode is enabled."}}}):e._e()],1)},yp=[],Op=n("4992"),kp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updatePath",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{imagePropertyPath:e||""}))}},{key:"updateGridMode",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{gridMode:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["wpmedia"])}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])("context")],kp.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],kp.prototype,"value",void 0),kp=Object(u["a"])([Object(d["a"])({components:{AlertBox:Op["a"],DropdownInput:_o["a"],Repeater:_c["default"]}})],kp);var jp=kp,Sp=jp,Cp=Object(ie["a"])(Sp,gp,yp,!1,null,null,null),xp=Cp.exports;$a()(Cp,{VAutocomplete:xu["a"],VCheckbox:Nu["a"]});var wp=n("f25d"),Pp=n("3666"),Ep=n.n(Pp);function _p(e,t,n,a){return Ip.apply(this,arguments)}function Ip(){return Ip=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_preset",dataToPost:{directoryPath:n,filename:a,preset:Object(wp["f"])(Object(wp["h"])(i),t.section,Object(rc["d"])(i))},decoder:F["v"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Dp(e,t){return"".concat(e,"\\").concat(Ep()(t))}var Tp=n("4837"),Ap=n("a336"),Rp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-hide-control-input"},[n("v-checkbox",{attrs:{"input-value":!!e.value,label:"Hide Control From Specific Elements","hide-details":""},on:{change:e.toggleControl}}),e.value?n("v-combobox",{attrs:{label:"Elements",items:e.items,value:e.value,multiple:""},on:{input:e.updateValue}}):e._e()],1)},Bp=[],Fp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleControl",value:function(e){e?this.$emit("input",[]):this.$emit("remove")}},{key:"updateValue",value:function(e){this.$emit("input",e)}},{key:"items",get:function(){return Object.keys(St["b"].elements)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Fp.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Fp.prototype,"context",void 0),Fp=Object(u["a"])([Object(d["a"])({})],Fp);var Mp=Fp,Vp=Mp,Wp=Object(ie["a"])(Vp,Rp,Bp,!1,null,null,null),Lp=Wp.exports;$a()(Wp,{VCheckbox:Nu["a"],VCombobox:fu["a"]});var Np=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.codeHelpOpen=!1,e.showContentEditableCode=!1,e.showNewPresetDialog=!1,e.accordionState=[!1],e}return Object(s["a"])(n,[{key:"saveNewPreset",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSection){e.next=2;break}return e.abrupt("return");case 2:if(n=Ep()(t.name),a=Dp(t.namespace,n),!this.elementStudioData.presets.find((function(e){return e.slug===a}))){e.next=7;break}return Object(rc["h"])(this.elementStudioData.saveLocations,t,"preset"),e.abrupt("return");case 7:return i=this.value,i.options.sectionOptions=Object(C["a"])({},i.options.sectionOptions,{preset:{slug:a}}),e.t0=Tp["c"],e.next=12,_p({slug:a,section:i},t.directoryPath,n,a);case 12:e.t1=e.sent,e.t2=Object(Ap["a"])((function(e){console.error(e),Se["a"].log.message("Failed to save element, check console")}),(function(){var e=Object(ze["a"])(r.elementStudioData);e.presets.push({slug:a,directoryPath:t.directoryPath}),e.presetSections.push({slug:a,section:i}),r.context.updateElementStudioData(e),r.context.updateControl(r.parentPath,r.index,i)})),(0,e.t0)(e.t1,e.t2);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleAccordion",value:function(e){a["a"].set(this.accordionState,e,!this.accordionState[e])}},{key:"handleDrag",value:function(e){this.context.replaceControls("".concat(this.path,".children"),e)}},{key:"handlePaste",value:function(){if(this.controlAcceptsChildren&&p["g"].clipboard.elementStudio){var e=p["g"].clipboard.elementStudio.copiedControl;e&&this.context.pasteControl("".concat(this.path,".children"),e)}}},{key:"handleReplace",value:function(){if(p["g"].clipboard.elementStudio){var e=p["g"].clipboard.elementStudio.copiedControl;e&&this.context.updateControl(this.parentPath,this.index,e)}}},{key:"handleMakePreset",value:function(){this.showNewPresetDialog=!0}},{key:"copy",value:function(){var e=Object(ze["a"])(this.value);p["g"].copyElementStudioControl(e)}},{key:"updatePresetSectionSlug",value:function(e){var t=Object(ze["a"])(this.context.getPresetSection(e));void 0!==t&&(t.section.options.sectionOptions=Object(C["a"])({},t.section.options.sectionOptions,{type:"popout"}),this.context.updateControl(this.parentPath,this.index,t.section),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(t.section.options.sectionOptions,t.section.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(t.section.options.sectionOptions,t.section.slug))}},{key:"turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement",value:function(e,t){var n,a=this;if(e&&(null===(n=e.preset)||void 0===n?void 0:n.relativePropertyPathsToWhitelistInFlatProps)){var i=t||Object(wp["h"])(t),r=Object(ze["a"])(this.context.element().propertyPathsToWhitelistInFlatProps),o=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((function(e){return"".concat(a.twigParentPath,".").concat(i,".").concat(e)})),s=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((function(e){return"".concat(a.twigParentPath,".").concat(a.value.slug,".").concat(e)}));r?(r=r.filter((function(e){return!o.includes(e)&&!s.includes(e)})),r=[].concat(Object(k["a"])(r),Object(k["a"])(o))):r=o,Object(ot["a"])((function(){return a.context.updateElementValue("propertyPathsToWhitelistInFlatProps",r)}))}}},{key:"turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement",value:function(e,t){var n,a=this;if(e&&(null===(n=e.preset)||void 0===n?void 0:n.relativeDynamicPropertyPaths)){var i=t||Object(wp["h"])(t),r=Object(ze["a"])(this.context.element().dynamicPropertyPaths),o=e.preset.relativeDynamicPropertyPaths.map((function(e){return Object(C["a"])({},e,{path:"".concat(a.twigParentPath,".").concat(i,".").concat(e.path)})})),s=e.preset.relativeDynamicPropertyPaths.map((function(e){return Object(C["a"])({},e,{path:"".concat(a.twigParentPath,".").concat(a.value.slug,".").concat(e.path)})}));r?(r=r.filter((function(e){return!o.some((function(t){return t.path===e.path}))&&!s.some((function(t){return t.path===e.path}))})),r=[].concat(Object(k["a"])(r),Object(k["a"])(o))):r=o,Object(ot["a"])((function(){return a.context.updateElementValue("dynamicPropertyPaths",r)}))}}},{key:"removeDisallowedControlTypes",value:function(e){var t=["class","font_family","global_colors","message"];return!t.includes(e)}},{key:"addControl",value:function(){this.context.addControl(this.path)}},{key:"deleteControl",value:function(){this.context.deleteControl(this.parentPath,this.index)}},{key:"updateControlType",value:function(e){var t=Object(ze["a"])(this.value);if(t.options.type=e,!this.isInContentTab){var n=["code","repeater","inline_repeater","spacing_complex","border_complex","gradient","icon","richtext","shadow","wpmedia","text","focus_point","url"];n.includes(e)?t.options.layout="vertical":t.options.layout="inline"}this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateVariableItems",value:function(e){var t=Object(ze["a"])(this.value);t.options.variableItems=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateVariableItem",value:function(e){var t=e.newItem,n=e.index,a=Object(ze["a"])(this.value);a.options.variableItems||(a.options.variableItems=[]),a.options.variableItems[n]=t,this.context.updateControl(this.parentPath,this.index,a)}},{key:"updateDropdownItems",value:function(e){var t=Object(ze["a"])(this.value);t.options.items=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateDropdownItem",value:function(e){var t=e.newItem,n=e.index,a=Object(ze["a"])(this.value);a.options.items||(a.options.items=[]),a.options.items[n]=t,this.context.updateControl(this.parentPath,this.index,a)}},{key:"updateOptions",value:function(e,t){var n=Object(ze["a"])(this.value),a="options.".concat(t);_.a.set(n,a,e),this.context.updateControl(this.parentPath,this.index,n)}},{key:"updateAddExtraElementsBySlug",value:function(e){var t=Object(ze["a"])(this.value);t.options.addRegisteredChildrenOptions=Object(C["a"])({},t.options.addRegisteredChildrenOptions,{addExtraElementsBySlug:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateCodeType",value:function(e){var t=Object(ze["a"])(this.value);t.options.codeOptions=Object(C["a"])({},t.options.codeOptions,{language:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateShadowType",value:function(e){var t=Object(ze["a"])(this.value);t.options.shadowOptions=Object(C["a"])({},t.options.shadowOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateTextOptionsMultiline",value:function(e){var t=Object(ze["a"])(this.value);t.options.textOptions=Object(C["a"])({},t.options.textOptions,{multiline:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateButtonBarOptionsSize",value:function(e){var t=Object(ze["a"])(this.value);t.options.buttonBarOptions=Object(C["a"])({},t.options.buttonBarOptions,{size:e?"big":"small",layout:"default"}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateButtonBarOptionsLayout",value:function(e){var t=Object(ze["a"])(this.value);t.options.buttonBarOptions=Object(C["a"])({},t.options.buttonBarOptions,{layout:e?"multiline":"default",size:"small"}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"addPreset",value:function(){this.context.addPreset(this.path)}},{key:"updateControlLayout",value:function(e){var t=Object(ze["a"])(this.value);t.options.layout=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateKeywords",value:function(e){var t=Object(ze["a"])(this.value);t.keywords=null===e?void 0:e.split(","),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updatePlaceholder",value:function(e){var t=Object(ze["a"])(this.value);t.options.placeholder=null!==e&&void 0!==e?e:void 0,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateColorType",value:function(e){var t=Object(ze["a"])(this.value);t.options.colorOptions=Object(C["a"])({},t.options.colorOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateConditions",value:function(e){var t=Object(ze["a"])(this.value);t.options.condition=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateHideForElements",value:function(e){var t=Object(ze["a"])(this.value);t.options.hideForElements=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"deleteHideForElements",value:function(){var e=Object(ze["a"])(this.value);delete e.options.hideForElements,this.context.updateControl(this.parentPath,this.index,e)}},{key:"updateSectionLayoutType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accordion",t=Object(ze["a"])(this.value);t.options.sectionOptions=Object(C["a"])({},t.options.sectionOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateLabelAndSlugOnFocusOut",value:function(e){var t=e.target.value,n=Object(ze["a"])(this.value);n.label=t,n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug="slug_cant_start_with_number_".concat(n.slug)),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}},{key:"updateControlBoolean",value:function(e,t){var n=Object(ze["a"])(this.value);n[t]=e,this.context.updateControl(this.parentPath,this.index,n)}},{key:"updateDynamicPropertyPaths",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",a=Object(ze["a"])(this.context.element().dynamicPropertyPaths);a&&(a=a.filter((function(e){return e.path!==t.twigPathWithoutRepeaterIndex}))),e&&(a||(a=[]),a.push({accepts:n,path:this.twigPathWithoutRepeaterIndex})),this.context.updateElementValue("dynamicPropertyPaths",a)}},{key:"isSpacingBarEnabled",value:function(){var e=this.context.element().spacingBars;if(!e||!e.length)return!1;if(!this.spacingBarPresetSlug)return!1;var t=zd(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex).map((function(e){return e.affectedPropertyPath})),n=e.find((function(e){return t.includes(e.affectedPropertyPath)}));return!!n}},{key:"updateSpacingBar",value:function(e){if(this.spacingBarPresetSlug){var t=Object(ze["a"])(this.context.element().spacingBars),n=zd(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex);if(e)t||(t=[]),t=[].concat(Object(k["a"])(t),Object(k["a"])(n));else if(t){var a=n.map((function(e){return e.affectedPropertyPath}));t=t.filter((function(e){return!a.includes(e.affectedPropertyPath)}))}this.context.updateElementValue("spacingBars",t)}}},{key:"updateElementPropertiesNotTiedToControl",value:function(e){var t=this;Object(ot["a"])((function(){return t.updateSpacingBar(!1)})),Object(ot["a"])((function(){return t.updateDynamicPropertyPaths(!1)})),Object(ot["a"])((function(){return t.updatePropertyPathsToWhitelistInFlatProps(!1)})),Object(ot["a"])((function(){return t.updatePropertyPathsToSsrElementWhenValueChanges(!1)})),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e.options.sectionOptions,e.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e.options.sectionOptions,e.slug)}},{key:"updatePropertyPathsToWhitelistInFlatProps",value:function(e){var t=this,n=Object(ze["a"])(this.context.element().propertyPathsToWhitelistInFlatProps);if(e)n||(n=[]),n.push(this.twigPathWithoutRepeaterIndex);else if(n){var a=n.findIndex((function(e){return e===t.twigPathWithoutRepeaterIndex}));a>-1&&n.splice(a,1)}this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",n)}},{key:"updatePropertyPathsToSsrElementWhenValueChanges",value:function(e){var t=this,n=Object(ze["a"])(this.context.element().propertyPathsToSsrElementWhenValueChanges);e?(n||(n=[]),n.push(this.twigPathWithoutRepeaterIndex)):n&&(n=n.filter((function(e){return e!==t.twigPathWithoutRepeaterIndex}))),this.context.updateElementValue("propertyPathsToSsrElementWhenValueChanges",n)}},{key:"canHaveMediaQueries",get:function(){var e;return!!(null===(e=this.parentControl)||void 0===e?void 0:e.enableMediaQueries)}},{key:"parentType",get:function(){var e;return null===(e=this.parentControl)||void 0===e?void 0:e.options.type}},{key:"keyToRerenderCodeHelp",get:function(){var e=Object(Ve["a"])(this.value);return Object(Ue["a"])("".concat(e))}},{key:"isPresetSection",get:function(){return!!this.presetSectionSlug}},{key:"presetSectionSlug",get:function(){var e,t;return null===(e=this.value.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.slug}},{key:"isSection",get:function(){return"section"===this.value.options.type}},{key:"isRepeater",get:function(){return Object(Fe["k"])(this.value.options.type)}},{key:"isParentARepeater",get:function(){return Object(Fe["k"])(this.parentType)}},{key:"controlAcceptsChildren",get:function(){return Object(Fe["a"])(this.value.options.type)}},{key:"isInContentTab",get:function(){return this.path.startsWith("contentSections")}},{key:"spacingBarPresetSlug",get:function(){var e=this;if(this.isSection)return ue["h"].find((function(t){var n,a,i;return t===(null===(n=e.value.options)||void 0===n||null===(a=n.sectionOptions)||void 0===a||null===(i=a.preset)||void 0===i?void 0:i.slug)}))}},{key:"classList",get:function(){return{"element-studio-control-or-control-section":!0,"element-studio-control-section":!0,"element-studio-control":!this.controlAcceptsChildren}}},{key:"dynamicPropertyPath",get:function(){var e=this,t=this.context.element().dynamicPropertyPaths;if(!t)return!1;var n=t.find((function(t){return Object(ke["d"])(t.path)===e.twigPathWithoutRepeaterIndex}));return n}},{key:"twigPathWithoutRepeaterIndex",get:function(){return Object(ke["d"])("".concat(this.twigParentPath).concat(this.isParentARepeater?"[]":"",".").concat(this.value.slug))}},{key:"dynamicPathAcceptsItems",get:function(){return Object(ke["c"])()}},{key:"contentEditableHelperCode",get:function(){return"// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ".concat(this.twigPathForContentEditable,"\n    ")}},{key:"twigPathForContentEditable",get:function(){return this.isRepeater||this.isParentARepeater?"{{ dataContentEditablePropertyPath('".concat(this.twigParentPath,"['~ loop.index0 ~ '].your_control') }}"):"{{ dataContentEditablePropertyPath('".concat(this.twigPathWithoutRepeaterIndex,"') }}")}},{key:"datePickerOptions",get:function(){return Object.keys(xc["e"].props)}},{key:"elementStudioData",get:function(){return this.context.getElementStudioData()}},{key:"canPaste",get:function(){return this.controlAcceptsChildren&&!this.isPresetSection&&p["g"].clipboard.elementStudio&&p["g"].clipboard.elementStudio.copiedControl}},{key:"canReplace",get:function(){if(!p["g"].clipboard.elementStudio||!p["g"].clipboard.elementStudio.copiedControl)return!1;var e=p["g"].clipboard.elementStudio.copiedControl;return!this.isSection||"section"===e.options.type}},{key:"controlTypes",get:function(){var e=this,t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n=[];return xc["b"].sort().filter(this.removeDisallowedControlTypes).map((function(e){return{text:t(e),value:e}})).map((function(t){return e.isInContentTab&&n.includes(t.value)?Object(C["a"])({},t,{disabled:!0}):t}))}},{key:"availablePresetSections",get:function(){return this.context.getPresetSections().map((function(e){return{text:e.slug,value:e.slug}}))}},{key:"availableDescendantElements",get:function(){var e=this;return Object.values(p["b"].elements).filter((function(t){return!!t&&(!t.nestingRule.restrictedToBeADirectChildOf&&Object(Me["j"])(t.nestingRule,e.context.element().nestingRule,e.context.element().slug))})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"codeTypes",get:function(){return xc["c"].props.language.types.map((function(e){return e.value}))}},{key:"shadowTypes",get:function(){return xc["h"].props.type.types.map((function(e){return e.value}))}},{key:"controlLayouts",get:function(){return["inline","vertical"]}},{key:"keywordsValue",get:function(){return this.value.keywords?this.value.keywords.join(","):""}},{key:"sectionLayouts",get:function(){return xc["j"]}},{key:"shouldControlValueBeAddedInAllBreakpoints",get:function(){var e=this.context.element().propertyPathsToWhitelistInFlatProps;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}},{key:"hasSsr",get:function(){return this.context.element().template.includes("%%SSR%%")}},{key:"shouldControlValueCauseSsr",get:function(){var e=this.context.element().propertyPathsToSsrElementWhenValueChanges;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Np.prototype,"path",void 0),Object(u["a"])([Object(d["d"])()],Np.prototype,"parentPath",void 0),Object(u["a"])([Object(d["d"])()],Np.prototype,"index",void 0),Object(u["a"])([Object(d["d"])()],Np.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Np.prototype,"twigParentPath",void 0),Object(u["a"])([Object(d["d"])()],Np.prototype,"parentControl",void 0),Object(u["a"])([Object(d["b"])("context")],Np.prototype,"context",void 0),Np=Object(u["a"])([Object(d["a"])({name:"ControlSectionOrControl",components:{ElementStudioHideControlInput:Lp,ElementStudioSaveNewDialog:uc,ElementStudioFocusPointOptions:xp,ElementStudioVideoOptions:lp,ElementStudioIconsAutocomplete:Ju,IconButton:Bi["a"],InlineRepeater:ep["a"],ElementStudioBreakpointOptions:vd,Icon:ee["a"],ElementStudioIconOptions:Hd,ElementStudioMediaSizeOptions:Md,ElementStudioMediaOptions:Id,ElementStudioPostChooserOptions:Jd,TextInput:wo["a"],Copyable:Gc,ElementStudioDropdownOptions:od,ElementStudioVariableOptions:kd,DropdownInput:_o["a"],ElementStudioRepeaterOptions:$u,ElementStudioRangeOptions:Ru,Dropdown:Fi["a"],CopyButton:Mc["a"],ShittyTextInput:Fc,Repeater:_c["default"],ControlSectionOrControl:Np,draggable:Pc.a,Accordion:Ec["a"],TwigCodeHelper:uu,ElementStudioConditionInput:gu,ElementStudioUnitOptions:Pu,ElementStudioAlertBoxOptions:bp}})],Np);var Up=Np,$p=Up,Hp=(n("589b"),Object(ie["a"])($p,Sc,Cc,!1,null,null,null)),zp=Hp.exports;$a()(Hp,{VAutocomplete:xu["a"],VBtn:Ha["a"],VCard:hr["a"],VCheckbox:Nu["a"],VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"],VSelect:Fs["a"],VSpacer:bo["a"],VSwitch:kl["a"]});var Gp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"handleDrag",value:function(e){this.context.replaceControls(this.sectionName,e)}},{key:"handlePaste",value:function(){if(St["h"].clipboard.elementStudio){var e=St["h"].clipboard.elementStudio.copiedControl;e&&this.context.pasteControl(this.sectionName,e)}}},{key:"addSection",value:function(){this.context.addControl(this.sectionName,"section")}},{key:"addPreset",value:function(){this.context.addPreset(this.sectionName)}},{key:"sectionName",get:function(){return"".concat(this.section,"Sections")}},{key:"canPaste",get:function(){return St["h"].clipboard.elementStudio&&St["h"].clipboard.elementStudio.copiedControl}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Gp.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Gp.prototype,"section",void 0),Object(u["a"])([Object(d["b"])("context")],Gp.prototype,"context",void 0),Gp=Object(u["a"])([Object(d["a"])({components:{ControlSectionOrControl:zp,draggable:Pc.a}})],Gp);var qp=Gp,Kp=qp,Xp=Object(ie["a"])(Kp,kc,jc,!1,null,null,null),Yp=Xp.exports;$a()(Xp,{VBtn:Ha["a"]});var Qp=n("a1a9"),Zp=n("f48c"),Jp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Dependencies "),n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{title}",defaultTitle:"Dependency"}}}},on:{input:function(t){return e.updateDependenciesRoot(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-text-field",{attrs:{label:"Title",value:i.title},on:{input:function(t){return e.updateDependency(t,"["+a+"].title")}}}),n("Accordion",{attrs:{expanded:"scripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("scripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Scripts ("+e._s(i.scripts?i.scripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.scripts,control:{options:{repeaterOptions:{titleTemplate:"URL to script"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].scripts")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-autocomplete",{attrs:{placeholder:"Script",value:r,items:e.jsLocalDependencies},on:{input:function(t){return e.updateDependency(t,"["+a+"].scripts["+i+"]")}}}),!r||e.dependencyIsNotLocal(r,e.jsLocalDependencies)?n("div",[n("div",r?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),n("div",[e._v(" Remember to use "),n("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),n("ShittyTextInput",{attrs:{value:r},on:{input:function(t){return e.updateDependency(t,"["+a+"].scripts["+i+"]")}}})],1):e._e(),n("v-btn",{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"inlineScripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineScripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Inline Scripts ("+e._s(i.inlineScripts?i.inlineScripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.inlineScripts,control:{options:{repeaterOptions:{titleTemplate:"JavaScript"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].inlineScripts")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("div",{staticClass:"element-studio__execute-inline-script-dependencies"},[n("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){return e.executeInlineScript("["+a+"].inlineScripts["+i+"]")}}},[e._v(" Execute code ")])],1),n("CodeInput",{attrs:{value:r,language:"javascript","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"","["+a+"].inlineScripts["+i+"]")}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"styles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("styles")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Styles ("+e._s(i.styles?i.styles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.styles,control:{options:{repeaterOptions:{titleTemplate:"URL to style"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].styles")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-autocomplete",{attrs:{placeholder:"Style",value:r,items:e.cssLocalDependencies},on:{input:function(t){return e.updateDependency(t,"["+a+"].styles["+i+"]")}}}),!r||e.dependencyIsNotLocal(r,e.cssLocalDependencies)?n("div",[n("div",r?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),n("div",[e._v(" Remember to use "),n("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),n("ShittyTextInput",{attrs:{value:r},on:{input:function(t){return e.updateDependency(t,"["+a+"].styles["+i+"]")}}})],1):e._e(),n("v-btn",{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"inlineStyles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineStyles")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Inline Styles ("+e._s(i.inlineStyles?i.inlineStyles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{path:"inlineStyles",value:i.inlineStyles,control:{options:{repeaterOptions:{titleTemplate:"CSS"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].inlineStyles")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("CodeInput",{attrs:{value:r,language:"css","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"","["+a+"].inlineStyles["+i+"]")}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),n("div",{staticClass:"element-studio-dependencies-separator"}),n("Accordion",{attrs:{expanded:"builderCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("builderCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Builder Condition ("+e._s(i.builderCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("CodeInput",{attrs:{value:i.builderCondition,language:"javascript","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"","["+a+"].builderCondition")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",[e._v("Decides if the dependencies are added to the builder")])],2),n("div",{staticClass:"mt-2"},[e._v(" Can run Twig and JS code. ")]),n("div",[e._v(" When left empty the dependencies will always be added. ")]),n("div",[e._v(" If any code is present and the result returns a "),n("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),n("div",[e._v(" If it returns "),n("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"frontendCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("frontendCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Frontend Condition ("+e._s(i.frontendCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("CodeInput",{attrs:{value:i.frontendCondition,language:"x-php","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"","["+a+"].frontendCondition")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",[e._v("Decides if the dependencies are added to the frontend")])],2),n("div",{staticClass:"mt-2"},[e._v(" Can run Twig and PHP code. ")]),n("div",[e._v(" When left empty the dependencies will always be added. ")]),n("div",[e._v(" If any code is present and the result returns a "),n("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),n("div",[e._v(" If it returns "),n("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)})]}}])})],1)},ev=[],tv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},[n("Icon",{staticClass:"mr-2",attrs:{icon:"ChevronDownIcon",rotate:e.open?"90":void 0,size:"12"}}),n("b",[e._t("default")],2)],1)},nv=[],av=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],av.prototype,"open",void 0),av=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"]}})],av);var iv=av,rv=iv,ov=Object(ie["a"])(rv,tv,nv,!1,null,null,null),sv=ov.exports,lv=n("41ae"),cv=F["u"]([F["l"]("id"),F["l"]("parentId"),F["l"]("selector"),F["l"]("parent_selector"),F["l"]("postId"),F["l"]("ssr")]),uv=cv.types.map((function(e){var t=e.value;return t})),dv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.accordionState="",e.index=0,e.conditionInfoOpen=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!St["b"].localDependenciesFiles.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getLocalDependenciesFilesFromWordpress();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLocalDependenciesFilesFromWordpress",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=X["pipe"],e.next=3,Object(B["a"])({action:"breakdance_get_local_dependency_files",decoder:F["g"](M["a"]),resultKey:"localDependencyFiles"});case 3:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){return e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(e){St["b"].setLocalDependenciesFiles(e)})),(0,e.t0)(e.t1,e.t2);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDependenciesRoot",value:function(e){this.context.updateDependency(e)}},{key:"updateDependencies",value:function(e,t){var n=Object(ze["a"])(this.value)||[];_.a.set(n,t,e.map((function(e){return"string"===typeof e?e:""}))),this.context.updateDependency(n)}},{key:"updateDependency",value:function(e,t){var n=Object(ze["a"])(this.value)||[];_.a.set(n,t,e),this.context.updateDependency(n)}},{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"executeInlineScript",value:function(e){var t=_.a.get(this.value,e);t&&Object(lv["a"])(Object(Be["c"])(),{code:t,origin:"Executed inline script from Element Studio"})}},{key:"dependencyIsNotLocal",value:function(e,t){return!t.find((function(t){return"value"in t&&t.value===e}))}},{key:"localDependenciesAsVuetifySelectShape",value:function(e){var t=[];return St["b"].localDependenciesFiles.forEach((function(n){n.files[e].length&&(t.push({header:n.name}),n.files[e].forEach((function(e){t.push({text:e.name,value:e.url})})))})),t}},{key:"tags",get:function(){return uv}},{key:"twigVariables",get:function(){return this.context.getPathsToAllControls()}},{key:"jsLocalDependencies",get:function(){return this.localDependenciesAsVuetifySelectShape("js")}},{key:"cssLocalDependencies",get:function(){return this.localDependenciesAsVuetifySelectShape("css")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],dv.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],dv.prototype,"context",void 0),dv=Object(u["a"])([Object(d["a"])({components:{TextInput:wo["a"],TextWithChevron:sv,CodeInput:Qp["default"],Accordion:Ec["a"],ShittyTextInput:Fc,Repeater:_c["default"]}})],dv);var pv=dv,vv=pv,hv=(n("a435"),Object(ie["a"])(vv,Jp,ev,!1,null,null,null)),mv=hv.exports;$a()(hv,{VAutocomplete:xu["a"],VBtn:Ha["a"],VTextField:mr["a"]});var fv=function(e){var t=Object(ze["a"])(e),n=bv(t);return n.controls.settingsSections=[],n.cssTemplate=n.cssTemplate.split("\n{#%---")[0],n};function bv(e){var t=Object(ze["a"])(e);return Object(Zp["b"])(t.controls).forEach((function(e){t.controls[e]=t.controls[e].filter((function(e){return!e.options.isExternal}))})),t}var gv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Accordion",{attrs:{expanded:e.accordionState===e.actionKey},on:{toggle:e.toggleAccordion},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" "+e._s(e.actionName)+" ("+e._s(e.value&&e.value[e.actionKey]?e.value[e.actionKey].length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("b",[e._t("action-description")],2),n("Repeater",{attrs:{value:e.value[e.actionKey],control:{options:{repeaterOptions:{titleTemplate:"Script",buttonName:"Add script"}}},"default-new-value":{script:""}},on:{input:function(t){return e.updateActions(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("CodeInput",{attrs:{language:"javascript",value:i.script,"twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateAction(t||"",e.actionKey+"["+a+"].script")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.actionInfoOpen},on:{click:function(t){e.actionInfoOpen=!e.actionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.actionInfoOpen}},[e._t("default",[e._v(" Available within the action's code: ")])],2),"onAfterDeletedElement"===e.actionKey?[n("div",{staticClass:"mt-3"},[e._v(" Tags: "),n("code",[e._v("%%PARENT_SELECTOR%%")]),e._v(" and "),n("code",[e._v("%%PARENT_ID%%")]),e._v(" are available. ")])]:[n("div",{staticClass:"mt-3"},[e._v(" You can use Twig to access the element properties. eg. "),n("code",[e._v("{ { design.background.color } }")]),e._v(". ")]),n("div",{staticClass:"mt-3"},[n("code",[e._v("%%SELECTOR%%, %%ID%%")]),e._v(" are also available. ")])]],2),e.withDependencies?n("Repeater",{attrs:{value:i.dependencies,control:{options:{repeaterOptions:{titleTemplate:"Dependency",buttonName:"Add dependency"}}}},on:{input:function(t){return e.updateDependencies(t,a)}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-combobox",{attrs:{items:e.pathsToAllControls,value:r},on:{input:function(t){return e.updateDependency(t,e.actionKey+"["+a+"].dependencies["+i+"]")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.dependencyInfoOpen},on:{click:function(t){e.dependencyInfoOpen=!e.dependencyInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.dependencyInfoOpen}},[e._t("default",[e._t("dependency-description-title")])],2),n("div",{staticClass:"mt-2"},[e._t("dependency-description")],2)],1)]}}],null,!0)}):e._e(),n("v-checkbox",{attrs:{"input-value":i.runForAllChildren,label:"Run for all children",hint:"beware that the Twig code running in the action will be with the child's data, including tags","persistent-hint":""},on:{change:function(t){return e.updateAction(t,e.actionKey+"["+a+"].runForAllChildren")}}})]}}],null,!0)})]},proxy:!0}],null,!0)})],1)},yv=[],Ov=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.index=0,e.actionInfoOpen=!1,e.dependencyInfoOpen=!1,e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(){this.$emit("toggle",this.accordionState===this.actionKey?"":this.actionKey)}},{key:"getValueOrDefault",value:function(e){var t=Object(ze["a"])(this.value);return t?t[e]||(t[e]=[{script:""}]):t=Object(Ft["a"])({},e,[{script:""}]),t}},{key:"updateActions",value:function(e){var t=this.getValueOrDefault(this.actionKey);t[this.actionKey]=e,this.context.updateActions(t)}},{key:"updateAction",value:function(e,t){var n=Object(ze["a"])(this.value);_.a.set(n,t,e),this.context.updateActions(n)}},{key:"updateDependencies",value:function(e,t){var n=this.getValueOrDefault(this.actionKey),a=n[this.actionKey];a||(a=[]),a[t].dependencies=e.map((function(e){return"string"===typeof e?e:""})),n[this.actionKey]=a,this.context.updateActions(n)}},{key:"updateDependency",value:function(e,t){var n=Object(ze["a"])(this.value);_.a.set(n,t,e),this.context.updateActions(n)}},{key:"actionName",get:function(){return _.a.lowerCase(this.actionKey)}},{key:"tags",get:function(){return uv}},{key:"twigVariables",get:function(){return this.context.getPathsToAllControls()}},{key:"pathsToAllControls",get:function(){var e=this.context.element().controls;return[e.designSections.length?"design":null,e.contentSections.length?"content":null].concat(Object(k["a"])(this.context.getPathsToAllControls([],[]))).filter(Boolean)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ov.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Ov.prototype,"actionKey",void 0),Object(u["a"])([Object(d["d"])()],Ov.prototype,"accordionState",void 0),Object(u["a"])([Object(d["d"])({default:!0})],Ov.prototype,"withDependencies",void 0),Object(u["a"])([Object(d["b"])("context")],Ov.prototype,"context",void 0),Ov=Object(u["a"])([Object(d["a"])({components:{TextWithChevron:sv,CodeInput:Qp["default"],ShittyTextInput:Fc,Repeater:_c["default"],Accordion:Ec["a"]}})],Ov);var kv=Ov,jv=kv,Sv=(n("d55e"),Object(ie["a"])(jv,gv,yv,!1,null,null,null)),Cv=Sv.exports;$a()(Sv,{VCheckbox:Nu["a"],VCombobox:fu["a"]});var xv=n("c881"),wv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{defaultNewValue:{name:"",template:""},titleTemplate:"HTML Attribute",buttonName:"Add new HTML attribute"}}}},on:{input:function(t){return e.updateAttributes(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Attribute Name")]),n("v-text-field",{attrs:{value:i.name,rules:[e.htmlAttributeNameRule]},on:{input:function(t){return e.updateName(a,t)}}}),n("b",[e._v("Attribute Value")]),"template"in i?n("CodeInput",{attrs:{value:i.template,language:"html"},on:{input:function(t){return e.updateTemplateValue(a,t)}}}):"propertyPath"in i?n("v-text-field",{attrs:{value:i.template},on:{input:function(t){return e.updatePropertyPathValue(a,t)}}}):"rawValue"in i?n("v-text-field",{attrs:{value:i.template},on:{input:function(t){return e.updateRawValue(a,t)}}}):e._e()]}}])})},Pv=[],Ev=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateAttributes",value:function(e){this.$emit("input",e)}},{key:"updateName",value:function(e,t){var n=Object(ze["a"])(this.value);!0===this.htmlAttributeNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}},{key:"updateTemplateValue",value:function(e,t){var n=Object(ze["a"])(this.value);n[e].template=null!==t&&void 0!==t?t:"",this.$emit("input",n)}},{key:"updatePropertyPathValue",value:function(e,t){var n=Object(ze["a"])(this.value);n[e].propertyPath=t,this.$emit("input",n)}},{key:"updateRawValue",value:function(e,t){var n=Object(ze["a"])(this.value);n[e].rawValue=t,this.$emit("input",n)}},{key:"htmlAttributeNameRule",value:function(e){return il["a"].validateHtmlAttributeName(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Ev.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Ev.prototype,"context",void 0),Ev=Object(u["a"])([Object(d["a"])({components:{CodeInput:Qp["default"],Repeater:_c["default"],Dropdown:Fi["a"],Accordion:Ec["a"],draggable:Pc.a}})],Ev);var _v=Ev,Iv=_v,Dv=Object(ie["a"])(Iv,wv,Pv,!1,null,null,null),Tv=Dv.exports;$a()(Dv,{VTextField:mr["a"]});var Av=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Class .{name}",buttonName:"Add Class",defaultNewValue:{name:"my-class",template:"yes"}}}}},on:{input:function(t){return e.updateClasses(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Class Name")]),n("v-text-field",{attrs:{value:i.name,rules:[e.htmlClassNameRule]},on:{input:function(t){return e.updateName(a,t)}}}),n("b",[e._v("Class Condition Twig Template")]),n("CodeInput",{attrs:{value:i.template,language:"html"},on:{input:function(t){return e.updateValue(a,t)}}}),n("div",{staticClass:"mt-2"},[e._v(" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. ")]),n("div",[e._v(" (the returned value is trimmed for spaces and newlines) ")])]}}])})},Rv=[],Bv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateClasses",value:function(e){this.$emit("input",e)}},{key:"updateName",value:function(e,t){var n=Object(ze["a"])(this.value);!0===this.htmlClassNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}},{key:"updateValue",value:function(e,t){var n=Object(ze["a"])(this.value);n[e].template=null!==t&&void 0!==t?t:"",this.$emit("input",n)}},{key:"htmlClassNameRule",value:function(e){return il["a"].validateHtmlClassName(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],Bv.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Bv.prototype,"context",void 0),Bv=Object(u["a"])([Object(d["a"])({components:{CodeInput:Qp["default"],Repeater:_c["default"],Dropdown:Fi["a"],Accordion:Ec["a"],draggable:Pc.a}})],Bv);var Fv=Bv,Mv=Fv,Vv=Object(ie["a"])(Mv,Av,Rv,!1,null,null,null),Wv=Vv.exports;$a()(Vv,{VTextField:mr["a"]});var Lv=n("dc3b"),Nv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[e._v(" Looks Good "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.looksGood,clearable:""},on:{input:function(t){return e.updateValueForKey("looksGood",t)}}}),n("br"),e._v(" Options Are Good "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsGood,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsGood",t)}}}),n("br"),e._v(" Options Work "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsWork,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsWork",t)}}}),n("br"),e._v(" Dynamic Behavior Works "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.dynamicBehaviorWorks,clearable:""},on:{input:function(t){return e.updateValueForKey("dynamicBehaviorWorks",t)}}}),n("br"),n("br"),n("v-textarea",{staticStyle:{border:"1px solid var(--gray500)"},attrs:{filled:"",value:e.value.notes},on:{input:e.updateNotes}}),n("br")],1)],1)},Uv=[],$v=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateValueForKey",value:function(e,t){var n=Object(ze["a"])(this.value);n[e]=t,this.emit(n)}},{key:"updateNotes",value:function(e){var t=Object(ze["a"])(this.value);t.notes="string"===typeof e?e:"",this.emit(t)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"dropdownItems",get:function(){return["yes","no","unknown","sort of"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],$v.prototype,"value",void 0),$v=Object(u["a"])([Object(d["a"])({components:{DropdownInput:_o["a"]}})],$v);var Hv=$v,zv=Hv,Gv=n("a844"),qv=Object(ie["a"])(zv,Nv,Uv,!1,null,null,null),Kv=qv.exports;$a()(qv,{VCard:hr["a"],VCardText:co["b"],VTextarea:Gv["a"]});var Xv=n("dbcc"),Yv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("InlineRepeater",{attrs:{value:e.value||[]},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-combobox",{attrs:{value:i,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updatePropertyPathByIndex(a,t)}}})]}}])})},Qv=[],Zv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateElementValue",value:function(e){var t=e.map((function(e){return"string"===typeof e?e:""}));this.$emit("input",t)}},{key:"updatePropertyPathByIndex",value:function(e,t){var n=Object(ze["a"])(this.value);t&&this.pathRules(t)&&(n[e]=t.trim(),this.updateElementValue(n))}},{key:"pathRules",value:function(e){return Object(Fe["n"])(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Zv.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Zv.prototype,"allPaths",void 0),Zv=Object(u["a"])([Object(d["a"])({components:{InlineRepeater:ep["a"],Repeater:_c["default"],DropdownInput:_o["a"],CodeInput:Qp["default"],Dropdown:Fi["a"],Accordion:Ec["a"],draggable:Pc.a}})],Zv);var Jv=Zv,eh=Jv,th=Object(ie["a"])(eh,Yv,Qv,!1,null,null,null),nh=th.exports;$a()(th,{VCombobox:fu["a"]});var ah=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Accordion",{attrs:{expanded:"dynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Dynamic Property Paths")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioDynPropPaths",{attrs:{value:e.value.dynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"dynamicPropertyPaths")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"propertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("propertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Property paths to whitelist in flat props")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToWhitelistInFlatProps,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"dynamic-prop-paths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamic-prop-paths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Property paths to SSR the element when value changes ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToSsrElementWhenValueChanges,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToSsrElementWhenValueChanges")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"spacing-bars"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("spacing-bars")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Spacing Bars")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioSpacingBars",{attrs:{value:e.value.spacingBars}})]},proxy:!0}])})],1)},ih=[],rh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{path} - {accepts}",buttonName:"Add new Dynamic Property Path",defaultNewValue:{accepts:"string",path:""}}}}},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Dynamic Property Path")]),n("v-combobox",{attrs:{value:i.path,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updateDynamicPropertyPath(a,t)}}}),n("b",{staticClass:"d-block pt-2"},[e._v("Accepts:")]),n("DropdownInput",{attrs:{items:e.getDynamicPathAcceptsItems,value:i.accepts},on:{input:function(t){return e.updateValue(a,t)}}})]}}])})},oh=[],sh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateElementValue",value:function(e){this.$emit("input",e)}},{key:"updateDynamicPropertyPath",value:function(e,t){var n=Object(ze["a"])(this.value);this.pathRules(t)&&(n[e].path=t.trim(),this.updateElementValue(n))}},{key:"pathRules",value:function(e){return Object(Fe["n"])(e)}},{key:"updateValue",value:function(e,t){var n=Object(ze["a"])(this.value);n[e].accepts=t,this.updateElementValue(n)}},{key:"getDynamicPathAcceptsItems",get:function(){return Object(ke["c"])()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],sh.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:function(){return[]}})],sh.prototype,"allPaths",void 0),sh=Object(u["a"])([Object(d["a"])({components:{Repeater:_c["default"],DropdownInput:_o["a"],CodeInput:Qp["default"],Dropdown:Fi["a"],Accordion:Ec["a"],draggable:Pc.a}})],sh);var lh=sh,ch=lh,uh=Object(ie["a"])(ch,rh,oh,!1,null,null,null),dh=uh.exports;$a()(uh,{VCombobox:fu["a"]});var ph=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Spacing bar",buttonName:"Add new spacing bar"}}}},on:{input:function(t){return e.updateSpaceBars(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value,i=t.index;return[n("ElementStudioSpacingBar",{attrs:{value:a},on:{input:function(t){return e.updateSpaceBar(t,i)}}})]}}])})},vh=[],hh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mt-4"},[e._v("Location")]),n("DropdownInput",{attrs:{items:e.cssProperties,value:e.newSpaceBar.cssProperty},on:{input:e.updateLocationAndProperty}}),n("div",{staticClass:"mt-4"},[e._v("Affected property path")]),n("v-combobox",{attrs:{items:e.pathsToAllControls,placeholder:"design.spacing.%%BREAKPOINT%%.top"},model:{value:e.newSpaceBar.affectedPropertyPath,callback:function(t){e.$set(e.newSpaceBar,"affectedPropertyPath",t)},expression:"newSpaceBar.affectedPropertyPath"}}),n("NiceButton",{on:{click:e.saveNewSpaceBar}},[e._v("Save")])],1)},mh=[],fh=n("e7ff"),bh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newSpaceBar=e.value||{},e}return Object(s["a"])(n,[{key:"updateLocationAndProperty",value:function(e){this.newSpaceBar.cssProperty=e,this.newSpaceBar.location=this.propertiesLocationsKeyPair[e]}},{key:"saveNewSpaceBar",value:function(){var e=this;Object(Tp["c"])(M["j"].decode(this.newSpaceBar),Object(Ap["a"])((function(e){Se["a"].log.message("Error saving new space bar, please fill out all fields"),Object(fh["a"])(e)}),(function(){e.$emit("input",e.newSpaceBar)})))}},{key:"pathsToAllControls",get:function(){return this.context.getPathsToAllControls()}},{key:"propertiesLocationsKeyPair",get:function(){var e=M["k"].types.map((function(e){return e.value})),t=M["i"].types.map((function(e){return e.value}));return t.reduce((function(t,n,a){return Object(C["a"])({},t,Object(Ft["a"])({},n,e[a]))}),{})}},{key:"cssProperties",get:function(){return Object.keys(this.propertiesLocationsKeyPair)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],bh.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],bh.prototype,"context",void 0),bh=Object(u["a"])([Object(d["a"])({components:{NiceButton:Io["a"],DropdownInput:_o["a"]}})],bh);var gh=bh,yh=gh,Oh=Object(ie["a"])(yh,hh,mh,!1,null,null,null),kh=Oh.exports;$a()(Oh,{VCombobox:fu["a"]});var jh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateSpaceBar",value:function(e,t){var n=Object(ze["a"])(this.value);n[t]=e,this.updateSpaceBars(n)}},{key:"updateSpaceBars",value:function(e){this.context.updateElementValue("spacingBars",e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],jh.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],jh.prototype,"context",void 0),jh=Object(u["a"])([Object(d["a"])({components:{ElementStudioSpacingBar:kh,NiceButton:Io["a"],TextInput:wo["a"],InlineRepeater:ep["a"],Repeater:_c["default"],DropdownInput:_o["a"],CodeInput:Qp["default"],Dropdown:Fi["a"],Accordion:Ec["a"],draggable:Pc.a}})],jh);var Sh=jh,Ch=Sh,xh=(n("70e8"),Object(ie["a"])(Ch,ph,vh,!1,null,null,null)),wh=xh.exports,Ph=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.accordionState="",e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"updateElementValuePropPath",value:function(e,t){this.context.updateElementValue(t,e)}},{key:"allPathsWithDesignAndContent",get:function(){return[this.context.element().controls.designSections.length?"design":null,this.context.element().controls.contentSections.length?"content":null].concat(Object(k["a"])(this.context.getPathsToAllControls([],[]))).filter(Boolean)}},{key:"allPaths",get:function(){return this.context.getPathsToAllControls()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ph.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Ph.prototype,"context",void 0),Ph=Object(u["a"])([Object(d["a"])({components:{ElementStudioSpacingBars:wh,ElementStudioPropertyPaths:nh,ElementStudioDynPropPaths:dh,Accordion:Ec["a"]}})],Ph);var Eh=Ph,_h=Eh,Ih=Object(ie["a"])(_h,ah,ih,!1,null,null,null),Dh=Ih.exports,Th=n("b4c8"),Ah=n.n(Th),Rh=n("f1cd"),Bh=n.n(Rh);function Fh(e){St["b"].setTwigMacros(e),Object(ye["b"])(Object(ye["c"])(e),ye["a"]),St["h"].forceUpdateEntireCanvas()}var Mh=E["debounce"](Oe["a"].registerAllStoreActions,500),Vh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab=Object(hl["a"])("element-studio-tab-".concat(e.type))||"content",e.actionsAccordionState="",e.nameHasChanged=!1,e.useLocalIcon=!!Ku["iconNames"].find((function(t){return t===e.element.uiIcon}))||!e.element.uiIcon||!1,e.contextMenu=!1,e.showNewMacroDialog=!1,e.savedCssSelection="",e.elementStudioContext={replaceControls:function(t,n){var a=Object(ze["a"])(e.element);E["set"](a.controls,t,n),e.emit(a)},pasteControl:function(t,n){var a=Object(ze["a"])(e.element),i=E["get"](a.controls,t);i.push(n),E["set"](a.controls,t,i),e.emit(a)},addControl:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a=Object(ze["a"])(e.element),i={slug:"section"===n?"new_section":"new_control",label:"section"===n?"New Section":"New Control",keywords:[],options:{type:n},enableMediaQueries:!1,enableHover:!1,children:[]};(t.startsWith("contentSections")||"text"===n||"number"===n)&&(i.options.layout="vertical");var r=e.cleanElement.controls,o=E["get"](r,t);Array.isArray(o)?o.push(i):o.children.push(i),E["set"](r,t,o),a.controls=e.mergeElementControlsWithExternalControls(r),e.emit(a)},addPreset:function(t){var n=Object(ze["a"])(e.element),a=Object(ze["a"])(e.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(a){a.section.options.sectionOptions=Object(C["a"])({},a.section.options.sectionOptions,{type:"popout"});var i=e.cleanElement.controls,r=E["get"](i,t);Array.isArray(r)?r.push(a.section):r.children.push(a.section),E["set"](i,t,r),n.controls=e.mergeElementControlsWithExternalControls(i),e.emit(n)}},deleteControl:function(t,n){var a=Object(ze["a"])(e.element),i=e.parentControls(t);Array.isArray(i)?i.splice(n,1):i.children.splice(n,1),E["set"](a.controls,t,i),e.emit(a)},updateControl:function(t,n,a){var i=Object(ze["a"])(e.element),r=e.parentControls(t);Array.isArray(r)?r.splice(n,1,a):r.children.splice(n,1,a),E["set"](i.controls,t,r),e.emit(i)},updateDependency:function(t){e.updateElementValue("dependencies",t)},updateActions:function(t){e.updateElementValue("actions",t),Mh()},getPresetSection:function(t){return e.available.presetSections.find((function(e){return e.slug===t}))},getPresetSections:function(){return e.available.presetSections},getPathsToAllControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["section"],a=Object(rc["e"])(e.element.controls.contentSections,t,n,"content"),i=Object(rc["e"])(e.element.controls.designSections,t,n,"design");return[].concat(Object(k["a"])(a),Object(k["a"])(i))},element:function(){return e.element},updateElementValue:e.updateElementValue,getElementStudioData:function(){return e.available},updateElementStudioData:function(t){e.update(t)}},e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("contextmenu",this.handleRightClickInCodeInput);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){document.removeEventListener("contextmenu",this.handleRightClickInCodeInput)}},{key:"onElementSlugChange",value:function(){this.nameHasChanged=!0}},{key:"handleRightClickInCodeInput",value:function(e){var t,n=null===(t=window.getSelection())||void 0===t?void 0:t.toString();!n||"css"!==this.tab&&"html"!==this.tab||(e.preventDefault(),this.contextMenu={x:e.clientX,y:e.clientY})}},{key:"handleCreateMacro",value:function(){var e;this.savedCssSelection=(null===(e=window.getSelection())||void 0===e?void 0:e.toString())||"",this.showNewMacroDialog=!0}},{key:"saveNewMacro",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,o,s,l,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.savedCssSelection){e.next=2;break}return e.abrupt("return");case 2:if(this.contextMenu=!1,a=null===(n=this.savedCssSelection)||void 0===n?void 0:n.toString(),i=Object(wp["d"])(t.namespace,t.name),r=Object(ye["j"])(a,{selector:"{{ selector }}",id:"{{ id }}",postId:"{{ postId }}"}).replace("macros.","_self."),o="{% macro ".concat(i,"() %}\n\n").concat(r," \n\n{% endmacro %}"),s=Ep()(t.name),l=Dp(t.namespace,t.name),!this.available.macros.find((function(e){return e.slug===l}))){e.next=12;break}return Object(rc["h"])(this.available.saveLocations,t,"macro"),e.abrupt("return");case 12:return e.t0=Tp["c"],e.next=15,Object(B["a"])({action:"breakdance_save_macro",dataToPost:{directoryPath:t.directoryPath,filename:s,macro:o},decoder:F["v"]});case 15:e.t1=e.sent,e.t2=Object(Ap["a"])((function(e){console.error(e),Se["a"].log.message("Failed to save element, check console")}),(function(){var e="{{ macros.".concat(i,"() }}");Se["a"].log.message("New macro created: ".concat(e,". ")),Bh()(e);var n=Object(ze["a"])(c.available);n.macros.push({slug:l,directoryPath:t.directoryPath}),c.elementStudioContext.updateElementStudioData(n);var a=Object(ze["a"])(St["b"].twigMacros);a.push({macro:o,slug:l}),Fh(a)})),(0,e.t0)(e.t1,e.t2);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateSlug",value:function(){if(window.confirm("Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?")){var e=Object(rc["b"])(Object(rc["d"])(this.element.slug),this.element.name);this.updateElementValue("slug",e)}}},{key:"updateUiOrder",value:function(e){var t=Number(e);Number.isNaN(t)?this.updateElementValue("order",0):this.updateElementValue("order",t)}},{key:"updateUiIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SquareIcon";this.updateElementValue("uiIcon",e)}},{key:"updateUseLocalIcon",value:function(e){this.useLocalIcon=e,e||this.updateUiIcon("")}},{key:"updateClassName",value:function(e){!0===this.htmlClassNameRule(e)&&this.updateElementValue("className",e||!1)}},{key:"htmlClassNameRule",value:function(e){return!e||il["a"].validateHtmlClassName(e)}},{key:"isValidItemName",value:function(e){return Object(rc["f"])(e)}},{key:"updateElementName",value:function(e){if(!0===Object(rc["f"])(e)){var t=Object(ze["a"])(this.element);t.name=e,this.emit(t)}}},{key:"updateElementValue",value:function(e,t){var n=Object(ze["a"])(this.element),a=Object(ru["h"])(t);E["set"](n,e,a),this.emit(n)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"updateTab",value:function(e){Object(hl["b"])("element-studio-tab-".concat(this.type),e),this.tab=e}},{key:"mergeElementControlsWithExternalControls",value:function(e){var t=this,n=Object(ze["a"])(e);return Object(Zp["b"])(this.element.controls).forEach((function(e){t.element.controls[e].forEach((function(t){t.options.isExternal&&n[e].push(t)}))})),n}},{key:"parentControls",value:function(e){return Object(ze["a"])(E["get"](this.element.controls,e))}},{key:"update",value:function(e){this.$emit("update",e)}},{key:"toggleActionAccordion",value:function(e){this.actionsAccordionState=e}},{key:"showAdvancedFeatures",get:function(){return Object(bl["a"])()||St["b"].isElementStudioPowerUser}},{key:"requiredPluginItems",get:function(){return M["h"].types.map((function(e){return e.value}))}},{key:"tags",get:function(){return uv}},{key:"pathsToAllControls",get:function(){return this.elementStudioContext.getPathsToAllControls()}},{key:"nestingRuleTypeIsContainer",get:function(){return Object(Me["g"])(this.cleanElement.nestingRule.type).length>0||"container-restricted"===this.cleanElement.nestingRule.type}},{key:"cleanElement",get:function(){return fv(this.element)}},{key:"elementCategories",get:function(){return St["b"].builderElementCategories.map((function(e){return{text:e.label,value:e.slug}}))}},{key:"badgeColors",get:function(){return Object.entries(Ah.a).map((function(e){var t=Object(Oc["a"])(e,1),n=t[0],a=n.replace(/brand_/g,"brand").replace(/_dark|_light|breakdance_/g,"");return{text:a,value:"var(--".concat(a,")")}}))}},{key:"elementType",get:function(){return M["g"].types.map((function(e){return e.value}))}},{key:"containerRestrictedElements",get:function(){return Object.values(St["b"].elements).filter((function(e){return"container-restricted"===(null===e||void 0===e?void 0:e.nestingRule.type)&&(null===e||void 0===e?void 0:e.slug)!==ue["a"]})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"elementsThisElementIsAllowedToBeInsideOf",get:function(){var e=this;return Object.values(St["b"].elements).filter((function(t){return t&&Object(Me["j"])(e.element.nestingRule,t.nestingRule,t.slug)})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"allElementSlugs",get:function(){return Object.values(St["b"].elements).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"elementClass",get:function(){return".".concat(Object(Fe["b"])(this.element))}},{key:"htmlTags",get:function(){var e=this;return["section","div","span","p","h1","h2","h3","h4","h5","h6","footer","header","nav","aside","figure","ul","ol","li","a","article","main","details","summary","img"].filter((function(t){return t!==e.cleanElement.htmlTag.default}))}},{key:"defaultTag",get:function(){return[].concat(Object(k["a"])(this.htmlTags),[this.cleanElement.htmlTag.default])}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vh.prototype,"element",void 0),Object(u["a"])([Object(d["d"])({default:"primary"})],Vh.prototype,"type",void 0),Object(u["a"])([Object(d["d"])()],Vh.prototype,"available",void 0),Object(u["a"])([Object(d["h"])("element.name")],Vh.prototype,"onElementSlugChange",null),Object(u["a"])([Object(d["e"])("context")],Vh.prototype,"elementStudioContext",void 0),Vh=Object(u["a"])([Object(d["a"])({components:{Dropdown:Fi["a"],ElementStudioSaveNewDialog:uc,TextInput:wo["a"],ElementStudioIconsAutocomplete:Ju,ElementStudioManagePropertyPaths:Dh,ElementStudioPropertyPaths:nh,Accordion:Ec["a"],ElementIcon:Xv["a"],ToggleInput:vl["a"],Icon:ee["a"],ElementStudioAttributes:Tv,ElementStudioAdditionalClasses:Wv,ElementStudio:gm,ElementStudioDefaultElements:xv["default"],CopyButton:Mc["a"],ElementStudioAction:Cv,ElementStudioDependencies:mv,ElementStudioControls:Yp,CodeInput:Qp["default"],ElementStudioDefaultProperties:Lv["a"],ElementStudioProjectManagement:Kv}})],Vh);var Wh=Vh,Lh=Wh,Nh=(n("f426"),Object(ie["a"])(Lh,gc,yc,!1,null,null,null)),Uh=Nh.exports;$a()(Nh,{VAutocomplete:xu["a"],VBtn:Ha["a"],VCheckbox:Nu["a"],VCombobox:fu["a"],VList:Li["a"],VListItem:Ni["a"],VListItemContent:Ui["a"],VListItemSubtitle:Ui["b"],VListItemTitle:Ui["c"],VSelect:Fs["a"],VTab:El["a"],VTabs:_l["a"],VTextField:mr["a"]});var $h={className:!1,uiIcon:!1,category:"other",badge:!1,htmlTag:{default:"div",options:[],pathToControl:!1},template:"Blank Element",attributes:!1,cssTemplate:"%%SELECTOR%% { }",defaultCss:" ",defaultProperties:!1,defaultChildren:!1,controls:{contentSections:[],designSections:[],settingsSections:[]},dependencies:!1,actions:!1,nestingRule:{type:"final"},spacingBars:!1,dynamicPropertyPaths:!1,settings:!1,addPanelRules:!1,experimental:!1,order:0,additionalClasses:!1,projectManagement:!1,propertyPathsToWhitelistInFlatProps:!1,propertyPathsToSsrElementWhenValueChanges:!1},Hh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedElement=!1,e.currentlyEditingElement=!1,e.saveInProgress=!1,e.throttledUpdateElement=_.a.throttle(Fe["p"],500),e.mode=Object(hl["a"])("element-studio-mode")||"split-horizontal",e}return Object(s["a"])(n,[{key:"updateCurrentlyEditingElement",value:function(e){this.currentlyEditingElement=Object(ze["a"])(e),!1===this.lastSavedElement&&(this.lastSavedElement=Object(ze["a"])(e))}},{key:"updateAvailableElementsAndStore",value:function(e){var t=e.element.slug;this.lastSavedElement&&t!==this.lastSavedElement.element.slug&&Object(rc["d"])(t)===Object(rc["d"])(this.lastSavedElement.element.slug)&&this.deleteElementFromServer(this.lastSavedElement);var n=!!this.value.elements.find((function(e){return e.slug===t}));if(!n&&e.directoryPath){var a=Object(ze["a"])(this.value);a.elements.push({slug:t,directoryPath:e.directoryPath}),this.$emit("input",a)}this.lastSavedElement=e}},{key:"updateData",value:function(e){this.$emit("input",e)}},{key:"updateElement",value:function(e){if(this.currentlyEditingElement&&this.lastSavedElement&&this.lastSavedElement.element){var t=e.slug!==this.lastSavedElement.element.slug,n=this.currentlyEditingElement.directoryPath;t&&this.currentlyEditingElement.directoryPath&&(n=Object(wp["c"])({directoryPath:Object(wp["g"])(this.currentlyEditingElement.directoryPath),elementName:this.currentlyEditingElement.element.name})),this.currentlyEditingElement={directoryPath:n,element:e,onlyForAdvancedUsers:this.currentlyEditingElement.onlyForAdvancedUsers},this.throttledUpdateElement(e)}}},{key:"deleteElementFromStore",value:function(e){var t=this.value.elements.findIndex((function(t){return t.slug===e}));p["b"].deleteElement(e),-1!==t&&this.value.elements.splice(t,1)}},{key:"deleteElement",value:function(){var e=this;this.currentlyEditingElement&&this.deleteElementFromServer(this.currentlyEditingElement,(function(){e.currentlyEditingElement=!1}))}},{key:"deleteElementFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:function(){},t.element){e.next=3;break}return e.abrupt("return");case 3:return e.t0=X["pipe"],e.next=6,Object(B["a"])({action:"breakdance_delete_element",dataToPost:{directoryPath:t.directoryPath},decoder:F["l"]("success"),resultKey:"data"});case 6:e.t1=e.sent,e.t2=Object(Y["fold"])((function(){Se["a"].log.message("Failed to delete element")}),(function(){t.element?(a.deleteElementFromStore(t.element.slug),n()):Se["a"].log.message("Failed to delete element")})),(0,e.t0)(e.t1,e.t2);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedElement&&this.lastSavedElement.element&&this.updateElement(this.lastSavedElement.element),this.resetCurrentlyEditingElement()}},{key:"resetCurrentlyEditingElement",value:function(){this.currentlyEditingElement=!1,this.lastSavedElement=!1,this.$emit("active",null)}},{key:"switchMode",value:function(){switch(this.mode){case"split-vertical":this.mode="split-horizontal",this.$emit("width",750);break;case"split-horizontal":this.$emit("width",600),this.mode="normal";break;case"normal":this.$emit("width",600),this.mode="split-vertical";break}Object(hl["b"])("element-studio-mode",this.mode)}},{key:"openElement",value:function(e){var t=Object(ze["a"])(p["b"].element(e)),n=this.value.elements.find((function(t){return t.slug===e}));if(n){var a=this.value.saveLocations.find((function(e){return n.directoryPath.startsWith(e.directoryPath)})),i=!!(null===a||void 0===a?void 0:a.onlyForAdvancedUsers);this.updateCurrentlyEditingElement({element:t,directoryPath:n.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","element")}}},{key:"saveAs",value:function(e){if(this.currentlyEditingElement){var t=e.namespace,n=e.directoryPath,a=e.onlyForAdvancedUsers;this.saveToServer(this.currentlyEditingElement.element,Object(wp["c"])({directoryPath:n,elementName:this.currentlyEditingElement.element.name}),t,!1,a)}}},{key:"saveNewItem",value:function(e){var t=Object(rc["b"])(e.namespace,e.name);if(this.value.elements.find((function(e){return e.slug===t})))Object(rc["h"])(this.value.saveLocations,e,"element");else{var n=Object(C["a"])({},Object(ze["a"])($h),{slug:t,name:e.name});this.saveToServer(n,Object(wp["c"])({directoryPath:e.directoryPath,elementName:e.name}),e.namespace,!1,e.onlyForAdvancedUsers),this.$emit("active","element")}}},{key:"saveOverride",value:function(e){this.currentlyEditingElement&&this.currentlyEditingElement.directoryPath&&this.saveToServer(this.currentlyEditingElement.element,this.currentlyEditingElement.directoryPath,Object(rc["d"])(this.currentlyEditingElement.element.slug),e,this.currentlyEditingElement.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,r,o,s,l,c=this,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],r=u.length>4?u[4]:void 0,this.saveInProgress=!0,o=a||Object(rc["d"])(t.slug),s=fv(t),l=t.slug||Object(rc["b"])(o,t.name),e.t0=X["pipe"],e.next=9,Object(B["a"])({action:"breakdance_save_element",dataToPost:Object(C["a"])({},Object(wp["b"])(s,o),{directoryPath:n,bypassPsalm:i?"yes":"no"}),decoder:F["v"]});case 9:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){console.error(e),Se["a"].log.message("Failed to save element, check console")}),(function(){var e={element:Object(C["a"])({},Object(ze["a"])(t),{slug:l,name:t.name.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")}),directoryPath:n,onlyForAdvancedUsers:r};c.updateCurrentlyEditingElement(e),c.updateAvailableElementsAndStore(e),Object(Fe["p"])(e.element)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"elementsSlug",get:function(){return this.value.elements.map((function(e){return e.slug}))}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingElement||!this.lastSavedElement)&&!_.a.isEqual(this.lastSavedElement.element,this.currentlyEditingElement.element)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Hh.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Hh.prototype,"width",void 0),Hh=Object(u["a"])([Object(d["a"])({components:{ElementStudioTabsAndPanels:Uh,ElementStudioWidthAdjustmentBar:ec,ElementStudioTopbar:mc}})],Hh);var zh=Hh,Gh=zh,qh=Object(ie["a"])(Gh,fc,bc,!1,null,null,null),Kh=qh.exports,Xh=F["s"]({slug:F["r"],directoryPath:F["r"]}),Yh=F["u"]([F["l"]("element"),F["l"]("macro"),F["l"]("preset")]),Qh=F["s"]({directoryPath:F["r"],namespace:F["r"],type:Yh,label:F["r"],onlyForAdvancedUsers:F["h"]}),Zh=F["s"]({slug:F["r"],section:xc["d"]}),Jh=F["s"]({elements:F["g"](Xh),macros:F["g"](Xh),presets:F["g"](Xh),saveLocations:F["g"](Qh),presetSections:F["g"](Zh)}),em=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingMacro,"element-studio__hide-the-close-button":!e.currentlyEditingMacro,"element-studio__hide-the-switch-mode-button":!0}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.macrosSlug,value:e.currentlyEditingMacro,itemType:"macro","item-name":e.currentMacroName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openMacro,delete:e.deleteMacro,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingMacro}}),e.currentlyEditingMacro?n("div",{staticClass:"element-studio-content"},[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.activeTab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#macro",title:"Macro"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings"}},[n("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[n("CodeInput",{directives:[{name:"show",rawName:"v-show",value:"macro"===e.activeTab,expression:"activeTab === 'macro'"}],attrs:{value:e.currentlyEditingMacro.macroData.macro,language:"twig"},on:{input:e.updateMacroValue}}),"settings"===e.activeTab?n("div",{staticClass:"pa-4"},[n("v-text-field",{attrs:{value:e.currentMacroName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updateMacroName}})],1):e._e()],1)])]):e._e()],1)},tm=[],nm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedMacro=!1,e.currentlyEditingMacro=!1,e.saveInProgress=!1,e.activeTab="macro",e.throttledUpdateElement=_.a.debounce(e.updateMacroAndRecompileTwigTemplates,1e3),e}return Object(s["a"])(n,[{key:"isValidItemName",value:function(e){return Object(rc["f"])(e)}},{key:"updateCurrentlyEditingMacro",value:function(e){this.currentlyEditingMacro=Object(ze["a"])(e),!1===this.lastSavedMacro&&(this.lastSavedMacro=Object(ze["a"])(e))}},{key:"updateTab",value:function(e){this.activeTab=e}},{key:"updateMacroName",value:function(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.slug=Dp(Object(rc["d"])(this.currentlyEditingMacro.macroData.slug),e))}},{key:"updateMacroAndRecompileTwigTemplates",value:function(e){var t=Object(ze["a"])(p["b"].twigMacros),n=t.findIndex((function(t){return t.slug===e.slug}));if(-1===n){t.push(e);var a=Object(ze["a"])(this.value);a.macros.push(e),this.$emit("input",a)}else t[n].macro=e.macro;this.lastSavedMacro&&this.lastSavedMacro.directoryPath&&e.slug!==this.lastSavedMacro.macroData.slug&&e.directoryPath===this.lastSavedMacro.directoryPath&&this.deleteMacroFromServer(this.lastSavedMacro),Fh(t)}},{key:"deleteMacroAndRecompileTwigTemplates",value:function(e){var t=Object(ze["a"])(p["b"].twigMacros),n=t.findIndex((function(t){return t.slug===e})),a=this.value.macros.findIndex((function(t){return t.slug===e}));if(-1!==n&&t.splice(n,1),-1!==a){var i=Object(ze["a"])(this.value);i.macros.splice(a,1),this.$emit("input",i)}Fh(t)}},{key:"updateMacroValue",value:function(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.macro=e,this.throttledUpdateElement(this.currentlyEditingMacro.macroData))}},{key:"deleteMacro",value:function(){var e=this;this.currentlyEditingMacro&&this.deleteMacroFromServer(this.currentlyEditingMacro,(function(){e.currentlyEditingMacro=!1}))}},{key:"deleteMacroFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(){},e.t0=X["pipe"],e.next=4,Object(B["a"])({action:"breakdance_delete_macro",dataToPost:{directoryPath:t.directoryPath,filename:Object(rc["c"])(t.macroData.slug)},decoder:F["l"]("success"),resultKey:"data"});case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(){Se["a"].log.message("Failed to delete element")}),(function(){n(),a.deleteMacroAndRecompileTwigTemplates(t.macroData.slug)})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedMacro&&this.lastSavedMacro.macroData&&this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData),this.resetCurrentlyEditingMacro()}},{key:"resetCurrentlyEditingMacro",value:function(){this.currentlyEditingMacro=!1,this.lastSavedMacro=!1,this.$emit("active",null)}},{key:"openMacro",value:function(e){var t,n=Object(ze["a"])(this.value.macros.find((function(t){return t.slug===e})));if(n){var a=null===(t=p["b"].twigMacros.find((function(t){return t.slug===e})))||void 0===t?void 0:t.macro;if(a){var i=this.value.saveLocations.find((function(e){return n.directoryPath.startsWith(e.directoryPath)})),r=!!(null===i||void 0===i?void 0:i.onlyForAdvancedUsers);this.updateCurrentlyEditingMacro({macroData:Object(C["a"])({},n,{macro:a}),directoryPath:n.directoryPath,onlyForAdvancedUsers:r}),this.$emit("active","macro")}}}},{key:"saveAs",value:function(e){if(this.currentlyEditingMacro){var t=Object(rc["c"])(this.currentlyEditingMacro.macroData.slug);this.saveToServer(this.currentlyEditingMacro.macroData.macro,e.directoryPath,t,Dp(e.namespace,t),e.onlyForAdvancedUsers)}}},{key:"saveNewItem",value:function(e){var t=Object(wp["d"])(e.namespace,e.name),n=Ep()(e.name),a=Dp(e.namespace,e.name);this.value.macros.find((function(e){return e.slug===a}))?Object(rc["h"])(this.value.saveLocations,e,"macro"):(this.saveToServer("{% macro ".concat(t,"() %}\n  {# Your code here #} \n{% endmacro %}"),e.directoryPath,n,a,e.onlyForAdvancedUsers),this.$emit("active","macro"))}},{key:"saveOverride",value:function(){this.currentlyEditingMacro&&this.currentlyEditingMacro.directoryPath&&this.saveToServer(this.currentlyEditingMacro.macroData.macro,this.currentlyEditingMacro.directoryPath,Object(rc["c"])(this.currentlyEditingMacro.macroData.slug),this.currentlyEditingMacro.macroData.slug,this.currentlyEditingMacro.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i,r){var o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=X["pipe"],e.next=4,Object(B["a"])({action:"breakdance_save_macro",dataToPost:{directoryPath:n,filename:a,macro:t},decoder:F["v"]});case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){console.error(e),Se["a"].log.message("Failed to save element, check console")}),(function(){var e={macroData:{macro:t,slug:i,directoryPath:n},directoryPath:n,onlyForAdvancedUsers:r};o.updateCurrentlyEditingMacro(e),o.updateMacroAndRecompileTwigTemplates(e.macroData),o.lastSavedMacro=e})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i,r){return e.apply(this,arguments)}return t}()},{key:"macrosSlug",get:function(){return this.value.macros.map((function(e){return e.slug}))}},{key:"currentMacroName",get:function(){return this.currentlyEditingMacro?Object(rc["c"])(this.currentlyEditingMacro.macroData.slug):""}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingMacro||!this.lastSavedMacro)&&!_.a.isEqual(this.lastSavedMacro.macroData,this.currentlyEditingMacro.macroData)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],nm.prototype,"value",void 0),nm=Object(u["a"])([Object(d["a"])({components:{TextInput:wo["a"],Icon:ee["a"],CodeInput:Qp["default"],ElementStudioTabsAndPanels:Uh,ElementStudioWidthAdjustmentBar:ec,ElementStudioTopbar:mc}})],nm);var am=nm,im=am,rm=Object(ie["a"])(im,em,tm,!1,null,null,null),om=rm.exports;$a()(rm,{VTab:El["a"],VTabs:_l["a"],VTextField:mr["a"]});var sm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingPreset,"element-studio__hide-the-close-button":!e.currentlyEditingPreset,"element-studio__hide-the-switch-mode-button":!0}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.presetsSlug,value:e.currentlyEditingPreset,itemType:"preset","item-name":e.currentPresetName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openPreset,delete:e.deletePreset,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingPreset}}),e.currentlyEditingPreset?n("div",{staticClass:"element-studio-content"},[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.activeTab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#preset",title:"Preset"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#code-help",title:"Code Help"}},[n("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#prop-paths",title:"Property Paths"}},[n("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings"}},[n("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[n("ControlSectionOrControl",{directives:[{name:"show",rawName:"v-show",value:"preset"===e.activeTab,expression:"activeTab === 'preset'"}],attrs:{value:e.currentPresetWithoutPresetSlug?e.currentPresetWithoutPresetSlug.presetData.preset.section:[],index:0,path:"control",parentPath:"presetSection",twigParentPath:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"code-help"===e.activeTab,expression:"activeTab === 'code-help'"}]},[e._m(0),n("CodeInput",{attrs:{language:"twig",value:e.codeHelpValue,placeholder:e.codeHelpPlaceholder},on:{input:e.updateCodeHelp}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.activeTab,expression:"activeTab === 'prop-paths'"}]},[n("Accordion",{attrs:{expanded:"relativePropertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativePropertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Relative Property Paths To Whitetlist In Flatprops ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.presetRelativePropertyPathsToWhitelistInFlatProps,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativePropertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}],null,!1,3695337097)}),n("Accordion",{attrs:{expanded:"relativeDynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativeDynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Relative Dynamic Property Paths ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioDynPropPaths",{attrs:{value:e.relativeDynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativeDynamicPropertyPaths")}}})]},proxy:!0}],null,!1,63984396)})],1),"settings"===e.activeTab?n("div",{staticClass:"pa-4"},[n("v-text-field",{attrs:{value:e.currentPresetName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updatePresetSlug}}),n("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),n("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},lm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio__presets-code-help"},[n("div",[n("b",[e._v("Code Help")])]),n("pre",[e._v("%%TWIG_PATH%%")]),e._v(" will be replaced with the correct path in the element. ")])}],cm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedPreset=!1,e.currentlyEditingPreset=!1,e.saveInProgress=!1,e.activeTab="preset",e.accordionState="",e.autoRefresh=!0,e.elementStudioContext=e.reactiveContext(),e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"reactiveContext",value:function(){var e=this;return{replaceControls:function(t,n){if(e.currentlyEditingPreset){var a=Object(ze["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t);_.a.set(a.presetData.preset,i,n),e.updateCurrentlyEditingPreset(a)}},pasteControl:function(t,n){if(e.currentlyEditingPreset){var a=Object(ze["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=_.a.get(a.presetData.preset,i);r.push(n),_.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a)}},addControl:function(t){if(e.currentlyEditingPreset){var n=Object(ze["a"])(e.currentlyEditingPreset),a=e.getCorrectPathForPresetFromContextPath(t),i=e.getParentControlOrControls(a);i&&(Array.isArray(i)?i.push(Object(ru["e"])()):i.children.push(Object(ru["e"])()),_.a.set(n.presetData.preset,a,i),e.updateCurrentlyEditingPreset(n))}},addPreset:function(t){if(e.currentlyEditingPreset){var n=Object(ze["a"])(e.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(n){n.section.options.sectionOptions=Object(C["a"])({},n.section.options.sectionOptions,{type:"popout"});var a=Object(ze["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=e.getParentControlOrControls(i);r&&(Array.isArray(r)?r.push(n.section):r.children.push(n.section),_.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a))}}},deleteControl:function(t,n){if(e.currentlyEditingPreset){var a=Object(ze["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=e.getParentControlOrControls(i);r&&(Array.isArray(r)?r.splice(n,1):r.children.splice(n,1),_.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a))}},updateControl:function(t,n,a){if(e.currentlyEditingPreset){var i=Object(ze["a"])(e.currentlyEditingPreset);if("presetSection"===t)i.presetData.preset.section=a;else{var r=e.getCorrectPathForPresetFromContextPath(t),o=e.getParentControlOrControls(r);if(!o)return;Array.isArray(o)?o.splice(n,1,a):o.children.splice(n,1,a),_.a.set(i.presetData.preset,r,o)}e.updateCurrentlyEditingPreset(i)}},getPresetSection:function(t){return e.value.presetSections.find((function(e){return e.slug===t}))},getPresetSections:function(){return e.value.presetSections},getPathsToAllControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["section"];if(e.currentlyEditingPreset)return Object(rc["e"])(e.currentlyEditingPreset.presetData.preset.section.children,t,n,"")},element:Fe["h"],updateDependency:function(){},updateActions:function(){},updateElementValue:function(){},getElementStudioData:function(){return e.value},updateElementStudioData:function(t){e.$emit("input",t)}}}},{key:"updateAutoRefresh",value:function(e){this.autoRefresh=e,e&&this.currentlyEditingPreset&&this.updateCurrentlyEditingPreset(this.currentlyEditingPreset)}},{key:"getCorrectPathForPresetFromContextPath",value:function(e){return e.replace("control","section")}},{key:"getParentControlOrControls",value:function(e){if(this.currentlyEditingPreset)return Object(ze["a"])(_.a.get(this.currentlyEditingPreset.presetData.preset,e))}},{key:"updateCodeHelp",value:function(e){if(this.currentlyEditingPreset){var t=Object(ze["a"])(this.currentlyEditingPreset);_.a.set(t,"presetData.preset.section.options.sectionOptions.preset.codeHelp",e),this.updateCurrentlyEditingPreset(t)}}},{key:"updateElementValuePropPath",value:function(e,t){if(this.currentlyEditingPreset){var n=Object(ze["a"])(this.currentlyEditingPreset);_.a.set(n,"presetData.preset.section.options.sectionOptions.preset[".concat(t,"]"),e),this.currentlyEditingPreset=n}}},{key:"isValidItemName",value:function(e){return Object(rc["f"])(e)}},{key:"updateCurrentlyEditingPreset",value:function(e){var t=this;if(e.presetData.preset=this.getPresetWithRestoredSectionSlug(e.presetData.preset),this.currentlyEditingPreset=Object(ze["a"])(e),!1===this.lastSavedPreset&&(this.lastSavedPreset=Object(ze["a"])(e)),this.autoRefresh){var n=Object.values(St["b"].elements).map((function(e){return e?(e.controls.designSections=e.controls.designSections.map(t.updateSectionWithCurrentPresetSection),e.controls.contentSections=e.controls.contentSections.map(t.updateSectionWithCurrentPresetSection),e.controls.settingsSections=e.controls.settingsSections.map(t.updateSectionWithCurrentPresetSection),e):e})).filter((function(e){return void 0!==e}));St["b"].addElements(n)}}},{key:"updateSectionWithCurrentPresetSection",value:function(e){var t,n;if((null===(t=e.options.sectionOptions)||void 0===t||null===(n=t.preset)||void 0===n?void 0:n.slug)&&this.currentlyEditingPreset&&e.options.sectionOptions.preset.slug===this.currentlyEditingPreset.presetData.slug)return Object(ze["a"])(this.currentlyEditingPreset.presetData.preset.section);if(e.children.length){var a=Object(ze["a"])(e);return a.children=a.children.map(this.updateSectionWithCurrentPresetSection),a}return e}},{key:"filterOutCurrentSection",value:function(e,t){var n,a,i=this;if(!(null===(n=e.options.sectionOptions)||void 0===n||null===(a=n.preset)||void 0===a?void 0:a.slug)||e.options.sectionOptions.preset.slug!==t){if(e.children.length){var r=Object(ze["a"])(e);return r.children=r.children.map((function(e){return i.filterOutCurrentSection(e,t)})).filter((function(e){return!!e})),r}return e}}},{key:"getPresetWithRestoredSectionSlug",value:function(e){return this.currentlyEditingPreset?(_.a.set(e,"section.options.sectionOptions.preset.slug",this.currentlyEditingPreset.presetData.slug),e):e}},{key:"updateTab",value:function(e){this.activeTab=e}},{key:"updatePresetSlug",value:function(e){if(this.currentlyEditingPreset){var t=Object(ze["a"])(this.currentlyEditingPreset);t.presetData.slug=Dp(Object(rc["d"])(this.currentlyEditingPreset.presetData.slug),e),this.updateCurrentlyEditingPreset(t)}}},{key:"updatePreset",value:function(e){var t=Object(ze["a"])(e),n=this.value.presets.findIndex((function(e){return e.slug===t.slug})),a=this.value.presetSections.findIndex((function(e){return e.slug===t.preset.slug})),i=Object(ze["a"])(this.value);-1===n&&-1===a?(i.presets.push(t),i.presetSections.push(t.preset)):(i.presets[n]=t,i.presetSections[a].section=t.preset.section),this.$emit("input",i),this.lastSavedPreset&&this.lastSavedPreset.directoryPath&&t.slug!==this.lastSavedPreset.presetData.slug&&t.directoryPath===this.lastSavedPreset.directoryPath&&this.deletePresetFromServer(this.lastSavedPreset)}},{key:"deletePresetAndRecompileTwigTemplates",value:function(e){var t=this,n=Object(rc["c"])(e),a=Object(ze["a"])(this.value.presetSections),i=a.findIndex((function(e){return e.slug===n})),r=this.value.presets.findIndex((function(t){return t.slug===e}));if(-1!==i&&a.splice(i,1),-1!==r){var o=Object(ze["a"])(this.value);o.presets.splice(r,1),this.$emit("input",o)}if(this.autoRefresh){var s=Object.values(St["b"].elements).map((function(n){return n?(n.controls.designSections=n.controls.designSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n.controls.contentSections=n.controls.contentSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n.controls.settingsSections=n.controls.settingsSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n):n})).filter((function(e){return void 0!==e}));St["b"].addElements(s)}}},{key:"deletePreset",value:function(){var e=this;this.currentlyEditingPreset&&this.deletePresetFromServer(this.currentlyEditingPreset,(function(){e.currentlyEditingPreset=!1}))}},{key:"deletePresetFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(){},e.t0=X["pipe"],e.next=4,Object(B["a"])({action:"breakdance_delete_preset",dataToPost:{directoryPath:t.directoryPath,filename:Object(rc["c"])(t.presetData.slug)},decoder:F["l"]("success"),resultKey:"data"});case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(){Se["a"].log.message("Failed to delete element")}),(function(){n(),a.deletePresetAndRecompileTwigTemplates(t.presetData.slug)})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedPreset&&this.lastSavedPreset.presetData&&(this.updateCurrentlyEditingPreset(this.lastSavedPreset),this.updatePreset(this.lastSavedPreset.presetData)),this.resetCurrentlyEditingPreset()}},{key:"resetCurrentlyEditingPreset",value:function(){this.currentlyEditingPreset=!1,this.lastSavedPreset=!1,this.$emit("active",null)}},{key:"openPreset",value:function(e){var t=Object(ze["a"])(this.value.presets.find((function(t){return t.slug===e})));if(t){var n=this.value.presetSections.find((function(t){return t.slug===e}));if(n){var a=this.value.saveLocations.find((function(e){return t.directoryPath.startsWith(e.directoryPath)})),i=!!(null===a||void 0===a?void 0:a.onlyForAdvancedUsers);this.updateCurrentlyEditingPreset({presetData:Object(C["a"])({},t,{preset:n}),directoryPath:t.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","preset")}else Se["a"].log.message("".concat(e," couldn't be found"))}}},{key:"saveAs",value:function(e){this.currentlyEditingPreset&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,e.directoryPath,this.currentPresetName,Dp(e.namespace,this.currentPresetName),e.onlyForAdvancedUsers)}},{key:"saveNewItem",value:function(e){var t=Ep()(e.name),n=Dp(e.namespace,e.name);this.value.presets.find((function(e){return e.slug===n}))?Object(rc["h"])(this.value.saveLocations,e,"preset"):(this.saveToServer({slug:n,section:Object(ru["f"])()},e.directoryPath,t,n,e.onlyForAdvancedUsers),this.$emit("active","preset"))}},{key:"saveOverride",value:function(){this.currentlyEditingPreset&&this.currentlyEditingPreset.directoryPath&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,this.currentlyEditingPreset.directoryPath,this.currentPresetName,this.currentlyEditingPreset.presetData.slug,this.currentlyEditingPreset.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i,r){var o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=X["pipe"],e.next=4,_p(t,n,a,i);case 4:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){console.error(e),Se["a"].log.message("Failed to save element, check console")}),(function(){var e={presetData:{preset:Object(ze["a"])(t),slug:i,directoryPath:n},directoryPath:n,onlyForAdvancedUsers:r};o.updateCurrentlyEditingPreset(e),o.updatePreset(e.presetData),o.lastSavedPreset=e})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i,r){return e.apply(this,arguments)}return t}()},{key:"codeHelpValue",get:function(){var e,t;return this.currentlyEditingPreset&&(null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.codeHelp)||""}},{key:"codeHelpPlaceholder",get:function(){if(!this.currentlyEditingPreset)return"";var e=Object(wp["d"])(Object(rc["d"])(this.currentlyEditingPreset.presetData.slug),this.currentPresetName);return"{{ macros.".concat(e,"(%%TWIG_PATH%%) }}")}},{key:"presetsSlug",get:function(){return this.value.presets.map((function(e){return e.slug}))}},{key:"allPaths",get:function(){return this.reactiveContext().getPathsToAllControls([],[])}},{key:"presetRelativePropertyPathsToWhitelistInFlatProps",get:function(){var e,t;return this.currentlyEditingPreset?null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.relativePropertyPathsToWhitelistInFlatProps:[]}},{key:"relativeDynamicPropertyPaths",get:function(){var e,t;return this.currentlyEditingPreset?null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.relativeDynamicPropertyPaths:[]}},{key:"currentPresetWithoutPresetSlug",get:function(){var e,t;if(!this.currentlyEditingPreset)return!1;var n=Object(ze["a"])(this.currentlyEditingPreset);return(null===(e=n.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.slug)&&(n.presetData.preset.section.options.sectionOptions.preset.slug=void 0),n}},{key:"currentPresetName",get:function(){return this.currentlyEditingPreset?Object(rc["c"])(this.currentlyEditingPreset.presetData.slug):""}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingPreset||!this.lastSavedPreset)&&!_.a.isEqual(this.lastSavedPreset.presetData,this.currentlyEditingPreset.presetData)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],cm.prototype,"value",void 0),Object(u["a"])([Object(d["e"])("context")],cm.prototype,"elementStudioContext",void 0),cm=Object(u["a"])([Object(d["a"])({components:{ToggleInput:vl["a"],ElementStudioDynPropPaths:dh,ElementStudioPropertyPaths:nh,Accordion:Ec["a"],ControlSectionOrControl:zp,TextInput:wo["a"],Icon:ee["a"],CodeInput:Qp["default"],ElementStudioTabsAndPanels:Uh,ElementStudioWidthAdjustmentBar:ec,ElementStudioTopbar:mc}})],cm);var um=cm,dm=um,pm=(n("c703"),Object(ie["a"])(dm,sm,lm,!1,null,null,null)),vm=pm.exports;$a()(pm,{VTab:El["a"],VTabs:_l["a"],VTextField:mr["a"]});var hm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.data={elements:[],macros:[],presets:[],saveLocations:[],presetSections:[]},e.width=600,e.activeItemType=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Tp["c"],e.next=3,Object(B["a"])({action:"breakdance_load_element_studio",decoder:Jh});case 3:e.t1=e.sent,e.t2=Object(Ap["a"])((function(e){return e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(e){t.data=e})),(0,e.t0)(e.t1,e.t2);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateData",value:function(e){this.data=Object(ze["a"])(e)}},{key:"updateActiveItemType",value:function(e){this.activeItemType=e}},{key:"updateWidth",value:function(e){this.width=e}},{key:"adjustWidth",value:function(e){this.width+=e}},{key:"styles",get:function(){return{width:"".concat(this.width,"px")}}},{key:"isProdEnv",get:function(){return!Object(bl["a"])()}}]),n}(a["a"]);hm=Object(u["a"])([Object(d["a"])({components:{ElementStudioPresets:vm,ElementStudioMacros:om,ElementStudioElements:Kh,ElementStudioWidthAdjustmentBar:ec,ElementStudioTopbar:mc}})],hm);var mm=hm,fm=mm,bm=(n("716d"),Object(ie["a"])(fm,Wl,Ll,!1,null,null,null)),gm=bm.exports,ym=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},[n("Add",{directives:[{name:"show",rawName:"v-show",value:"add"===e.panelState,expression:"panelState === 'add'"}]}),"selectors"===e.panelState?n("SelectorsPanel"):"structure"===e.panelState?n("StructurePanel"):e._e(),"elementproperties"===e.panelState?n("ElementPropertiesPanel",{key:e.activeElementId}):"history"===e.panelState?n("HistoryAndRevisionsPanel"):"globalSettings"===e.panelState?n("GlobalSettingsPanel"):e._e()],1)},Om=[],km=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-properties-panel vscroll-wrap vscroll-scroll",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[n("Titlebar"),n("TabsAndControls")]:[n("BlankSidebarContent")]],2)},jm=[],Sm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-titlebar"},[n("div",{staticClass:"properties-panel-titlebar-title truncate"},[e._v(" "+e._s(e.elementTitle)+" ")]),e.elementBadge?n("ElementBadge",{staticClass:"ml-1",attrs:{value:e.elementBadge}}):e._e(),n("v-spacer"),n("IconButton",{staticClass:"properties-panel-duplicate-button",attrs:{icon:"DuplicateIcon",size:"16",small:!0},on:{click:e.duplicateElement}}),n("IconButton",{staticClass:"properties-panel-delete-button",attrs:{icon:"TrashIcon",size:"16",small:!0},on:{click:e.remove}})],1)},Cm=[],xm=n("ea59"),wm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchEnabled=!1,e}return Object(s["a"])(n,[{key:"duplicateElement",value:function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)}},{key:"remove",value:function(){null!==p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})}},{key:"elementTitle",get:function(){return p["g"].activeElement?p["b"].element(p["g"].activeElement.data.type).name:"No Active Element"}},{key:"elementBadge",get:function(){return!!p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type).badge}}]),n}(a["a"]);wm=Object(u["a"])([Object(d["a"])({components:{Dropdown:Fi["a"],IconButton:Bi["a"],ElementBadge:xm["a"]}})],wm);var Pm=wm,Em=Pm,_m=(n("3c84"),Object(ie["a"])(Em,Sm,Cm,!1,null,null,null)),Im=_m.exports;$a()(_m,{VSpacer:bo["a"]});var Dm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-7 d-flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e._m(0),n("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},Tm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blank-sidebar-text"},[n("p",[e._v(" Add an element to your page or click an existing element to edit it. ")])])}],Am=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleAdd",value:function(){Object(J["i"])("add")}}]),n}(a["a"]);Am=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ga}})],Am);var Rm=Am,Bm=Rm,Fm=(n("a416"),Object(ie["a"])(Bm,Dm,Tm,!1,null,null,null)),Mm=Fm.exports,Vm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.hasSearchParameters?e._e():n("DesignContentSettingsTabs",{attrs:{value:e.tab,controls:e.controls},on:{input:e.updateTab}}),n("div",{staticClass:"vscroll-scroll"},[e.hasSearchParameters&&!e.noSearchResults?n("v-sheet",[""!==e.searchBoxState.query?n("div",{staticClass:"control-tree-search-term"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.contentSections,path:"content",linear:!0}}),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.designSections,path:"design",linear:!0}}),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.settingsSections,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"controls"},on:{input:e.clearQuery}})],1):n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasContentControls?n("v-tab-item",{attrs:{value:"content",transition:!1,"reverse-transition":!1}},[n("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}})],1):e._e(),e.hasDesignControls?n("v-tab-item",{attrs:{value:"design",transition:!1,"reverse-transition":!1}},[n("DesignTabContent",{attrs:{controls:e.designSections,path:"design"}})],1):e._e(),e.hasSettingsControls?n("v-tab-item",{attrs:{value:"settings",transition:!1,"reverse-transition":!1}},[n("ControlsTree",{attrs:{controls:e.settingsSections,path:"settings"}})],1):e._e()],1)],1),n("SearchBox",{attrs:{value:e.searchBoxState,location:"element","include-settings-toggle":!0},on:{input:e.updateSearchBoxState}})],1)},Wm=[],Lm=n("67d1"),Nm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-search-box-wrap"},[n("div",{staticClass:"properties-panel-search-box-inner-wrap"},[n("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),n("TextInput",{staticClass:"properties-panel-search-text-input",attrs:{value:e.value.query,placeholder:e.placeholder,"data-test-id":"elements-panel-search"},on:{input:e.editQuery}}),n("div",{staticClass:"properties-panel-search-actions"},[e.value.query?n("div",{staticClass:"properties-panel-search-modified",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e(),n("SearchFilter",{attrs:{value:e.value.modifiedOnly},on:{input:e.editModified}},[e._v("modified")]),e.includeSettingsToggle?n("SearchFilter",{attrs:{value:e.value.includeSettings},on:{input:e.editSettings}},[n("Icon",{attrs:{icon:"GearIcon",size:"12"}})],1):e._e()],1)],1)])},Um=[],$m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"properties-panel-search-modified":!0,"properties-panel-search-modified-on":this.value},on:{click:e.toggle}},[e._t("default")],2)},Hm=[],zm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggle",value:function(){this.$emit("input",!this.value)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],zm.prototype,"value",void 0),zm=Object(u["a"])([d["a"]],zm);var Gm=zm,qm=Gm,Km=(n("ae8b"),Object(ie["a"])(qm,$m,Hm,!1,null,null,null)),Xm=Km.exports,Ym=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"emit",value:function(e){this.$emit("input",e)}},{key:"editQuery",value:function(e){"string"===typeof e?this.emit(Object(C["a"])({},this.value,{query:e.trim().toLowerCase()})):this.emit(Object(C["a"])({},this.value,{query:""}))}},{key:"clearQuery",value:function(){this.emit(Object(C["a"])({},this.value,{query:"",modifiedOnly:!1}))}},{key:"editModified",value:function(e){this.emit(Object(C["a"])({},this.value,{modifiedOnly:e}))}},{key:"editSettings",value:function(e){this.emit(Object(C["a"])({},this.value,{includeSettings:e}))}},{key:"placeholder",get:function(){return"Search"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ym.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Ym.prototype,"includeSettingsToggle",void 0),Object(u["a"])([Object(d["d"])()],Ym.prototype,"location",void 0),Ym=Object(u["a"])([Object(d["a"])({components:{SearchFilter:Xm,TextInput:wo["a"],Icon:ee["a"]}})],Ym);var Qm=Ym,Zm=Qm,Jm=(n("8814"),Object(ie["a"])(Zm,Nm,Um,!1,null,null,null)),ef=Jm.exports,tf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabsRow",[e.hasContentControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"content","data-test-id":"element-properties-tab-content"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"PenIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("content")}}},[n("v-list-item-title",[e._v("Reset Content")])],1)],1)]},proxy:!0}],null,!1,855652120)}):e._e(),e.hasDesignControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"design","data-test-id":"element-properties-tab-design"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"PaletteIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("design")}}},[n("v-list-item-title",[e._v("Reset Design")])],1)],1)]},proxy:!0}],null,!1,1825965438)}):e._e(),e.hasSettingsControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"settings","data-test-id":"element-properties-tab-settings"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"GearIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("settings")}}},[n("v-list-item-title",[e._v("Reset Settings")])],1)],1)]},proxy:!0}],null,!1,325617522)}):e._e(),n("SavePreset",{attrs:{open:e.savePresetDialogOpen},on:{"update:dialog":function(t){e.savePresetDialogOpen=t}}})],1)},nf=[],af=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList,on:{click:function(t){return e.$emit("input",e.id)},contextmenu:e.openContextMenu}},[e.hasIconSlot?n("div",{staticClass:"breakdance-tab__icon"},[e._t("icon")],2):e._e(),e.hasIconSlot?e._e():n("div",{staticClass:"breakdance-tab__label"},[e._t("default")],2),e.hasContextMenuSlot?n("div",{staticClass:"breakdance-tab__context-menu"},[n("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[e._t("contextmenu")],2)],1):e._e()])},rf=[],of=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.contextMenu=!1,e.contextMenuX=0,e.contextMenuY=0,e}return Object(s["a"])(n,[{key:"openContextMenu",value:function(e){var t=this;this.hasContextMenuSlot&&(e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((function(){t.contextMenu=!0})))}},{key:"classList",get:function(){var e;return e={"breakdance-tab":!0},Object(Ft["a"])(e,"breakdance-tab--id-".concat(this.id),!0),Object(Ft["a"])(e,"breakdance-tab--active",this.value===this.id),e}},{key:"hasContextMenuSlot",get:function(){return!!this.$slots.contextmenu}},{key:"hasIconSlot",get:function(){return!!this.$slots.icon}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],of.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],of.prototype,"id",void 0),of=Object(u["a"])([Object(d["a"])({components:{Dropdown:Fi["a"]}})],of);var sf=of,lf=sf,cf=(n("7d1e"),Object(ie["a"])(lf,af,rf,!1,null,null,null)),uf=cf.exports,df=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-tabs-row"},[e._t("default")],2)},pf=[],vf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);vf=Object(u["a"])([Object(d["a"])({})],vf);var hf=vf,mf=hf,ff=(n("6ded"),Object(ie["a"])(mf,df,pf,!1,null,null,null)),bf=ff.exports,gf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:e.open},on:{input:function(t){return e.$emit("update:dialog",!1)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save Design Settings As Preset ")]},proxy:!0},{key:"text",fn:function(){return[n("TextInput",{attrs:{size:"md",placeholder:"Present name"},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}}),n("WPMediaInput",{staticClass:"mt-6",model:{value:e.newPresetScreenshot,callback:function(t){e.newPresetScreenshot=t},expression:"newPresetScreenshot"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{staticStyle:{"margin-right":"auto"},attrs:{text:""},on:{click:function(t){e.open=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{outlined:""},on:{click:e.exportPreset}},[e._v("Export To JSON")]),n("v-btn",{attrs:{dark:"",color:"blue",loading:e.saveInProgress},on:{click:e.savePreset}},[e._v("Save")])]},proxy:!0}])})},yf=[],Of=n("75e4");function kf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",a=new Blob([e],{type:n}),i=document.createElement("a");i.download=t,i.href=(window.webkitURL||window.URL).createObjectURL(a),i.dataset.downloadurl=[n,i.download,i.href].join(":"),i.click()}var jf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newPresetName="",e.newPresetScreenshot=null,e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"saveToLibrary",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,n=Object(ze["a"])(p["b"].presetsForElements),n.push(t),e.t0=X["pipe"],e.next=6,ji["g"]("presets_for_elements",n);case 6:e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){e.forEach((function(e){return Se["a"].log.message(e.msg)}))}),(function(){p["b"].setPresetsForElements(n)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"makePreset",value:function(){var e=p["g"].activeElement;if(!e)return!1;if(!this.newPresetName||!this.newPresetScreenshot)return Se["a"].log.message("Presets must have a name and a screenshot."),!1;var t=Object(ze["a"])(this.context.getControlValue("design"));if(!t)return Se["a"].log.message("Unable to save blank design settings as preset."),!1;var n={availableForType:e.data.type,designPropertiesData:t,label:this.newPresetName,screenshotUrl:this.newPresetScreenshot};return n}},{key:"savePreset",value:function(){var e=this.makePreset();e&&(this.saveToLibrary(e),this.clearAndClose())}},{key:"exportPreset",value:function(){var e=this.makePreset();e&&(kf(Object(Ve["a"])(e)||"","preset.json"),this.clearAndClose())}},{key:"clearAndClose",value:function(){this.newPresetName="",this.newPresetScreenshot=null,this.$emit("update:dialog",!1)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],jf.prototype,"open",void 0),Object(u["a"])([Object(d["b"])("context")],jf.prototype,"context",void 0),jf=Object(u["a"])([Object(d["a"])({components:{WPMediaInput:Of["a"],TextInput:wo["a"],Dialog:ia["a"]}})],jf);var Sf=jf,Cf=Sf,xf=Object(ie["a"])(Cf,gf,yf,!1,null,null,null),wf=xf.exports;$a()(xf,{VBtn:Ha["a"]});var Pf=n("a427"),Ef=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.savePresetDialogOpen=!1,e}return Object(s["a"])(n,[{key:"setTab",value:function(e){this.$emit("input",e)}},{key:"resetToDefault",value:function(e){!1!==p["g"].activeElement&&If(p["g"].activeElement.id,e)}},{key:"hasContentControls",get:function(){return this.controls.contentSections.length>0}},{key:"hasDesignControls",get:function(){return this.controls.designSections.length>0}},{key:"hasSettingsControls",get:function(){return this.controls.settingsSections.length>0}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"content"})],Ef.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Ef.prototype,"controls",void 0),Object(u["a"])([Object(d["b"])("context")],Ef.prototype,"context",void 0),Ef=Object(u["a"])([Object(d["a"])({components:{TabsRow:bf,Tab:uf,Icon:ee["a"],SavePreset:wf}})],Ef);var _f=Ef;function If(e,t){var n=Object(Re["m"])(p["d"].document.tree,e);if(n){var a=p["b"].element(n.data.type).defaultProperties,i=_.a.get(a,t,Pf["a"]);p["d"].throttledPropertyChanged({elementId:n.id,path:t,value:Object(ze["a"])(i),meta:{snapshotLabel:"Reset ".concat(Object(Le["b"])(n.data.type)," ").concat(_.a.capitalize(t))}})}}var Df=_f,Tf=Object(ie["a"])(Df,tf,nf,!1,null,null,null),Af=Tf.exports;$a()(Tf,{VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"]});var Rf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["custom"===e.mode?[n("ControlsTree",{attrs:{controls:e.controls,path:e.path}}),e.presets.length>0?n("div",{staticClass:"design-tab-design-settings-go-back-to-presets-link",on:{click:function(t){return e.changeMode("presets")}}},[e._v(" presets  ")]):e._e()]:[n("div",{staticClass:"design-tab-presets-browser-content"},[n("div",{staticClass:"design-tab-design-settings-customize-link",attrs:{"data-test-id":"element-design-customize"},on:{click:function(t){return e.changeMode("custom")}}},[e._v(" customize  ")])])]],2)},Bf=[],Ff=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.presets,(function(t,a){return n("div",{key:a,staticClass:"breakdance-presets-in-design-tab-preset",on:{click:function(n){return e.applyPreset(t)}}},[e._v(" "+e._s(t.label)+" "),n("img",{attrs:{src:t.screenshotUrl.url}})])})),0)},Mf=[];function Vf(e){p["g"].activeElement&&p["g"].activeElement.data.type===e.availableForType||p["d"].addElement({elementSlug:e.availableForType}),p["g"].activeElement&&p["g"].activeElement.data.type===e.availableForType&&p["d"].throttledPropertyChanged({elementId:p["g"].activeElement.id,path:"design",value:Object(ze["a"])(e.designPropertiesData),meta:{snapshotLabel:'Apply preset "'.concat(e.label,'" to ').concat(Object(Le["b"])(p["g"].activeElement.data.type))}})}var Wf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"applyPreset",value:function(e){Vf(e),this.$emit("presetApplied")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],Wf.prototype,"presets",void 0),Wf=Object(u["a"])([d["a"]],Wf);var Lf=Wf,Nf=Lf,Uf=(n("ad64"),Object(ie["a"])(Nf,Ff,Mf,!1,null,null,null)),$f=Uf.exports,Hf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mode="custom",e}return Object(s["a"])(n,[{key:"changeMode",value:function(e){this.mode=e}},{key:"presets",get:function(){return p["g"].activeElement?p["b"].presetsForElements.filter((function(e){return e.availableForType===p["g"].activeElement.data.type})):[]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Hf.prototype,"controls",void 0),Object(u["a"])([Object(d["d"])()],Hf.prototype,"path",void 0),Hf=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Lm["default"],PresetsInDesignTab:$f}})],Hf);var zf=Hf,Gf=zf,qf=(n("8ac3"),Object(ie["a"])(Gf,Rf,Bf,!1,null,null,null)),Kf=qf.exports,Xf=n("62c5");n("466d");function Yf(e,t,n,a){var i=new RegExp(n.trim().replace(" ","|"),"si"),r=function(e,n){return!(i&&!"".concat(e.label).match(i)&&!"".concat(e.slug).match(i)&&!"".concat(e.keywords).match(i))&&!(t&&!Object(Pf["d"])(n,e,a))};return{contentSections:Zf(e.contentSections,r,"content",t),designSections:Zf(e.designSections,r,"design",t),settingsSections:Zf(e.settingsSections,r,"settings",t)}}function Qf(e,t,n,a,i){var r=new RegExp(n.trim().replace(" ","|"),"si"),o=function(e,n){return!(r&&!"".concat(e.label).match(r)&&!"".concat(e.slug).match(r)&&!"".concat(e.keywords).match(r))&&!(t&&!Object(Pf["d"])(n,e,a))};return Zf(e,o,i,t)}function Zf(e,t,n,a){var i=Object(ze["a"])(e);return i.filter((function(e){var i=t(e,"".concat(n,".").concat(e.slug));return"section"===e.options.type?!(!i||a)||(e.children=Zf(e.children,t,"".concat(n,".").concat(e.slug),a),e.children.length>0):i}))}var Jf=function e(t,n){return t.forEach((function(t){n=e(t.children,n+("section"===t.options.type?0:1))})),n},eb=n("f223"),tb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-search-empty-state"},[n("svg",{staticClass:"properties-panel-search-empty-state-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[n("path",{attrs:{d:"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5","stroke-width":"6.250005"}}),n("path",{attrs:{d:"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75","stroke-width":"6.250005"}})])]),n("h5",[e._v("No "+e._s(e.label)+" found.")]),n("v-btn",{staticClass:"mt-4",attrs:{text:"",outlined:"",small:""},on:{click:e.clearSearch}},[e._v("Clear Search")])],1)},nb=[],ab=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"clearSearch",value:function(){this.$emit("input")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"element"})],ab.prototype,"label",void 0),ab=Object(u["a"])([Object(d["a"])({components:{Dropdown:Fi["a"],IconButton:Bi["a"]}})],ab);var ib=ab,rb=ib,ob=Object(ie["a"])(rb,tb,nb,!1,null,null,null),sb=ob.exports;$a()(ob,{VBtn:Ha["a"]});var lb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,includeSettings:!1,query:""},e.editingElementControlsTreeContext=ub,e.searchString="",e}return Object(s["a"])(n,[{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:"",includeSettings:!1})}},{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"updateTab",value:function(e){this.elementId&&p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{elementPropertiesPanelActiveTab:Object(C["a"])({},p["g"].panelState.elementPropertiesPanelActiveTab,Object(Ft["a"])({},this.elementId,e))}))}},{key:"element",get:function(){return p["g"].activeElement}},{key:"elementId",get:function(){return p["g"].activeElementId}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}},{key:"noSearchResults",get:function(){return Jf(this.controlsFilteredBySearchParams.contentSections,0)+Jf(this.controlsFilteredBySearchParams.designSections,0)+Jf(this.controlsFilteredBySearchParams.settingsSections,0)===0}},{key:"controlsFilteredBySearchParams",get:function(){var e=this.searchBoxState.includeSettings?{designSections:[],contentSections:[],settingsSections:this.controls.settingsSections}:Object(C["a"])({},this.controls,{settingsSections:[]});return Yf(this.searchBoxState.modifiedOnly?this.controls:e,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingElementControlsTreeContext)}},{key:"controls",get:function(){var e=this.element.data.type,t=p["b"].element(e).controls;return Object(Xf["a"])(t,p["b"].permission)}},{key:"contentSections",get:function(){return this.controls.contentSections}},{key:"designSections",get:function(){return this.controls.designSections}},{key:"settingsSections",get:function(){return this.controls.settingsSections}},{key:"hasContentControls",get:function(){return this.controls.contentSections.length>0}},{key:"hasDesignControls",get:function(){return this.controls.designSections.length>0}},{key:"hasSettingsControls",get:function(){return this.controls.settingsSections.length>0}},{key:"tab",get:function(){return this.elementId&&p["g"].panelState.elementPropertiesPanelActiveTab[this.elementId]?p["g"].panelState.elementPropertiesPanelActiveTab[this.elementId]:this.hasContentControls?"content":this.hasDesignControls?"design":this.hasSettingsControls?"settings":""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],lb.prototype,"value",void 0),Object(u["a"])([Object(d["e"])("context")],lb.prototype,"editingElementControlsTreeContext",void 0),lb=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Lm["default"],SearchBox:ef,DesignContentSettingsTabs:Af,DesignTabContent:Kf,Icon:ee["a"],SearchBoxEmptyState:sb}})],lb);var cb=lb,ub={dynamicAccepts:function(e){if(!p["g"].activeElement)return!1;var t=p["b"].element(p["g"].activeElement.data.type).dynamicPropertyPaths;if(!t)return!1;var n=Object(ke["d"])(e).replace(".".concat(p["g"].currentBreakpoint.id,"["),"["),a=t.find((function(e){return Object(ke["d"])(e.path)===n}));return(null===a||void 0===a?void 0:a.accepts)||!1},getControlValue:function(e){return _.a.get(p["g"].activeElement,"data.properties.".concat(e))},setControlValue:function(e,t,n,a){p["g"].activeElementId&&p["d"].throttledPropertyChanged(Object(ru["b"])({elementId:p["g"].activeElementId,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},getControls:function(e){if(p["g"].activeElement){var t=Object(Fe["o"])(e);return t?Object(Fe["g"])(p["b"].element(p["g"].activeElement.data.type),t.prefix):void 0}},setAccordionState:function(e,t){p["g"].activeElementId&&Object(eb["f"])(p["g"].activeElementId,e,t)},getAccordionState:function(e){return!!p["g"].activeElementId&&Object(eb["b"])(p["g"].activeElementId,e)}},db=cb,pb=(n("7d62"),n("8dd9")),vb=n("c671"),hb=n("aac8"),mb=Object(ie["a"])(db,Vm,Wm,!1,null,null,null),fb=mb.exports;$a()(mb,{VSheet:pb["a"],VTabItem:vb["a"],VTabsItems:hb["a"]});var bb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"elementIsActive",get:function(){return!!p["g"].activeElement}}]),n}(a["a"]);bb=Object(u["a"])([Object(d["a"])({components:{Titlebar:Im,TabsAndControls:fb,BlankSidebarContent:Mm}})],bb);var gb=bb,yb=gb,Ob=Object(ie["a"])(yb,km,jm,!1,null,null,null),kb=Ob.exports,jb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-add-panel"},[n("PanelHeader",{on:{close:e.close}},[e._v(" Add ")]),"success"===e.state?[n("div",{staticClass:"breakdance-add-panel__selection-wrapper"},[n("button",{staticClass:"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active"},[e._v(" Elements ")]),n("button",{staticClass:"breakdance-add-panel__panel-selection",on:{click:e.openDesignLibrary}},[e._v(" Library ")])]),n("ElementsList")]:"loading"===e.state?[n("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"100%"}},[n("v-progress-circular",{attrs:{indeterminate:"",size:100,color:"var(--gray300)"}})],1)]:[n("div",{staticClass:"d-flex justify-center align-center pa-4",staticStyle:{height:"100%","font-size":"var(--text-md)","font-weight":"500",color:"var(--gray700)"}},[e._v(" error: failed to load elements ")])]],2)},Sb=[],Cb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-add-panel__element-list"},[n("div",{staticClass:"breakdance-add-panel-search d-flex"},[e.isAddPanelOpen?n("SearchInput",{attrs:{tabindex:"0",placeholder:e.isElementStudioOpen?"Search "+e.elementsCount+" elements":"Search elements",value:e.searchString,autofocus:!0,"data-test-id":"breakdance-add-panel-search"},on:{input:e.handleSearch,keydown:[e.resetSelectedSearchItemIndex,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelectedSearchItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.nextOrPreviousSelectedSearchElement(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.goToSelectedSearchElement("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.goToSelectedSearchElement("next"))}]}}):e._e(),e.advancedSearchAvailable?[n("v-btn",{staticClass:"ml-2",attrs:{"x-small":"",text:"",outlined:e.hasSearchParams},on:{click:function(t){e.advancedSearchDialogOpen=!0}}},[e._v("advanced")]),n("v-dialog",{attrs:{width:"220"},model:{value:e.advancedSearchDialogOpen,callback:function(t){e.advancedSearchDialogOpen=t},expression:"advancedSearchDialogOpen"}},[n("v-card",[n("v-card-text",[n("br"),n("h4",[e._v("Internal Element Project Management Tool")]),n("v-btn",{attrs:{small:""},on:{click:e.dumpSearchResults}},[e._v("dump search results")]),n("div",{staticClass:"d-flex align-center justify-space-between"},[e._v(" Has Dynamic Stuff "),n("v-switch",{model:{value:e.advancedSearchHasDynamicStuff,callback:function(t){e.advancedSearchHasDynamicStuff=t},expression:"advancedSearchHasDynamicStuff"}})],1),e._v(" Looks Good: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchLooksGood,callback:function(t){e.advancedSearchLooksGood=t},expression:"advancedSearchLooksGood"}}),n("br"),e._v(" Options Good: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsGood,callback:function(t){e.advancedSearchOptionsGood=t},expression:"advancedSearchOptionsGood"}}),n("br"),e._v(" Options Work: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsWork,callback:function(t){e.advancedSearchOptionsWork=t},expression:"advancedSearchOptionsWork"}}),n("br"),e._v(" Dynamic Behavior Works: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchDynamicBehaviorWorks,callback:function(t){e.advancedSearchDynamicBehaviorWorks=t},expression:"advancedSearchDynamicBehaviorWorks"}}),n("br")],1)],1)],1)]:e._e()],2),n("div",{staticClass:"breakdance-add-panel__item-wrapper"},[e.hasSearchParams?e._e():e._l(e.elementCategories,(function(t,a){return n("div",{key:a},[e.elementsInActiveCategory(t.slug).length?n("Accordion",{attrs:{expanded:e.openCategoriesIndex.includes(a)},on:{toggle:function(t){return e.chooseCategory(a)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"breakdance-add-panel__item-title",attrs:{tabindex:"0","data-test-id":"elements-category-"+t.label.replace(/ /g,"-").toLowerCase()},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chooseCategory(a)}}},[e._v(" "+e._s(t.label)+" ")])]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"breakdance-add-panel__item-element-wrapper"},e._l(e.elementsInActiveCategory(t.slug),(function(e,t){return n("AddElement",{key:t,attrs:{element:e}})})),1)]},proxy:!0}],null,!0)}):e._e()],1)})),e.hasSearchParams?n("div",{staticClass:"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search"},[e.searchResultsCount?e._e():n("div",{staticClass:"breakdance-add-panel__no-results-for-search"},[e._v(" no results ")]),e._l(e.elementsForSearch,(function(t,a){return n("AddElement",{key:t.slug,attrs:{element:t,isSelected:e.selectedSearchElementIndex===a}})}))],2):e._e()],2)])},xb=[],wb=n("14a0"),Pb=n("e4b2"),Eb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{on:{click:function(t){e.isOpen=!0}}},[e._v("Open Website Dialog")]),n("v-dialog",{model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("h1",[e._v(" use the below HTML code on breakdance.com to display a list of elements. ")]),n("p",[e._v(" this is currently used at https://breakdance.com/features/elements ")]),n("div",{staticClass:"all-elements"},e._l(e.elementCategories,(function(t){return n("div",{key:t.categoryLabel,staticClass:"element-category-wrapper"},[n("div",{staticClass:"element-category"},[n("h3",{staticClass:"element-category-label"},[e._v(" "+e._s(t.categoryLabel)+" ")])]),n("div",{staticClass:"elements"},e._l(t.elements,(function(t){return n("div",{key:t.element,staticClass:"element"},[n("div",{staticClass:"element-title"},[e._v(" "+e._s(t.element)+" ")]),t.icon&&e.elementIconIsLocal(t.icon)?n("div",{staticClass:"element-icon"},[n("RawIcon",{attrs:{icon:t.icon}})],1):n("div",{staticClass:"element-icon",domProps:{innerHTML:e._s(t.icon)}})])})),0)])})),0)])],1)],1)},_b=[],Ib=n("647a"),Db=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isOpen=!1,e}return Object(s["a"])(n,[{key:"elementIconIsLocal",value:function(e){return Ku["iconNames"].find((function(t){return t===e}))}},{key:"elementCategories",get:function(){var e=Object.values(p["b"].elements);return p["b"].builderElementCategories.map((function(t){return{categoryLabel:t.label,elements:e.filter((function(e){return!0!==e.experimental})).filter((function(e){return!e.addPanelRules||!e.addPanelRules.alwaysHide})).filter((function(e){return e.category===t.slug})).map((function(e){return{element:e.name,icon:e.uiIcon}})).sort((function(e,t){return e.element.localeCompare(t.element)}))}})).filter((function(e){return 0!==e.elements.length}))}}]),n}(a["a"]);Db=Object(u["a"])([Object(d["a"])({components:{RawIcon:Ib["a"]}})],Db);var Tb=Db,Ab=Tb,Rb=Object(ie["a"])(Ab,Eb,_b,!1,null,null,null),Bb=Rb.exports;$a()(Rb,{VBtn:Ha["a"],VCard:hr["a"],VDialog:uo["a"]});var Fb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.openCategoriesIndex=[0,1],e.searchString="",e.selectedSearchElementIndex=0,e.advancedSearchAvailable=!1,e.advancedSearchDialogOpen=!1,e.advancedSearchHasDynamicStuff=!1,e.advancedSearchLooksGood=!1,e.advancedSearchOptionsGood=!1,e.advancedSearchOptionsWork=!1,e.advancedSearchDynamicBehaviorWorks=!1,e}return Object(s["a"])(n,[{key:"addSelectedSearchItem",value:function(){var e,t=null===(e=this.elementsForSearch[this.selectedSearchElementIndex])||void 0===e?void 0:e.slug;t&&Object(Fe["l"])(this.elementsForSearch[this.selectedSearchElementIndex])&&p["d"].addElement({elementSlug:t})}},{key:"goToSelectedSearchElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t="next"===e?this.selectedSearchElementIndex+1:this.selectedSearchElementIndex-1;t===this.searchResultsCount?t=0:-1===t&&(t=this.searchResultsCount-1),this.selectedSearchElementIndex=t,this.scrollToActive()}},{key:"nextOrPreviousSelectedSearchElement",value:function(e){""!==this.searchString&&e.preventDefault(),this.goToSelectedSearchElement(e.shiftKey?"prev":"next")}},{key:"handleSearch",value:function(e){var t;this.searchString!==e&&(null===(t=document.querySelector(".breakdance-add-panel"))||void 0===t||t.scrollTo({top:0}));this.searchString=e}},{key:"resetSearchWhenPanelOpens",value:function(){this.isAddPanelOpen&&this.handleSearch("")}},{key:"resetSelectedSearchItemIndex",value:function(e){var t=["Enter","Tab","ShiftLeft","ShiftRight","ArrowUp","ArrowDown"];t.includes(e.code)||(this.selectedSearchElementIndex=0)}},{key:"chooseCategory",value:function(e){this.searchString="";var t=this.openCategoriesIndex.findIndex((function(t){return t===e}));-1===t?this.openCategoriesIndex=[].concat(Object(k["a"])(this.openCategoriesIndex),[e]):this.openCategoriesIndex.splice(t,1)}},{key:"elementsInActiveCategory",value:function(e){return this.elements.filter((function(t){return t.category===e}))}},{key:"scrollToActive",value:function(){Object(ot["a"])((function(){var e;null===(e=document.querySelector(".breakdance-add-panel__element--selected"))||void 0===e||e.scrollIntoView({block:"center"})}))}},{key:"dumpSearchResults",value:function(){console.log(this.elementsForSearch.map((function(e){return e.name})).join("\n"))}},{key:"mounted",value:function(){var e=this;_a["b"].register("a d v",(function(){return e.advancedSearchAvailable=!0}))}},{key:"beforeDestroy",value:function(){_a["b"].unbind("a d v")}},{key:"updateAdvancedSearchValue",value:function(e,t){this[e]=t}},{key:"searchResultsCount",get:function(){return Object.keys(this.elementsForSearch).length}},{key:"isAddPanelOpen",get:function(){var e;return"add"===(null===(e=this.panelContext)||void 0===e?void 0:e.state)}},{key:"elementsCount",get:function(){return this.elements.length}},{key:"elementCategories",get:function(){return p["b"].builderElementCategories}},{key:"elements",get:function(){return Object.values(p["b"].elements).filter((function(e){return!!p["g"].settings.showExperimentalElements||!0!==e.experimental})).filter((function(e){return!Object(Fe["m"])(e.addPanelRules,e.settings)})).filter((function(e){return Object(Fe["l"])(e)})).sort((function(e,t){return e.order<t.order?-1:e.order>t.order?1:0}))}},{key:"elementsForSearch",get:function(){var e=this,t=Object(Fe["i"])(this.elements,this.searchString),n=t.filter((function(t){var n=t.projectManagement?t.projectManagement:void 0;return!Object.values({looksGood:e.advancedSearchLooksGood?(null===n||void 0===n?void 0:n.looksGood)==e.advancedSearchLooksGood:void 0,optionsGood:e.advancedSearchOptionsGood?(null===n||void 0===n?void 0:n.optionsGood)==e.advancedSearchOptionsGood:void 0,optionsWork:e.advancedSearchOptionsWork?(null===n||void 0===n?void 0:n.optionsWork)==e.advancedSearchOptionsWork:void 0,dynamicBehaviorWorks:e.advancedSearchDynamicBehaviorWorks?(null===n||void 0===n?void 0:n.dynamicBehaviorWorks)==e.advancedSearchDynamicBehaviorWorks:void 0,hasDynamicStuff:e.advancedSearchHasDynamicStuff?t.dependencies||t.actions:void 0}).includes(!1)}));return n}},{key:"advancedSearchDropdownItems",get:function(){return["yes","no","unknown","sort of"]}},{key:"hasSearchParams",get:function(){return!!(this.searchString||this.advancedSearchLooksGood||this.advancedSearchOptionsGood||this.advancedSearchOptionsWork||this.advancedSearchDynamicBehaviorWorks||this.advancedSearchHasDynamicStuff)}},{key:"isElementStudioOpen",get:function(){return p["g"].panelState.elementStudioOpen}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])({from:"panelContext",default:{}})],Fb.prototype,"panelContext",void 0),Object(u["a"])([Object(d["h"])("isAddPanelOpen")],Fb.prototype,"resetSearchWhenPanelOpens",null),Fb=Object(u["a"])([Object(d["a"])({components:{SearchInput:Pb["a"],TextInput:wo["a"],Accordion:Ec["a"],AddElement:wb["a"],DropdownInput:_o["a"],WebsiteDialog:Bb}})],Fb);var Mb=Fb,Vb=Mb,Wb=(n("d899"),Object(ie["a"])(Vb,Cb,xb,!1,null,null,null)),Lb=Wb.exports;$a()(Wb,{VBtn:Ha["a"],VCard:hr["a"],VCardText:co["b"],VDialog:uo["a"],VSwitch:kl["a"]});var Nb,Ub=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{fullscreen:e.fullscreen,width:e.fullscreen?null:960,"content-class":"design-library-dialog"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("header",{staticClass:"design-library-header"},[n("TopBarSection",[n("IconButton",{attrs:{icon:"HouseIcon",size:"18"},on:{click:e.goHome}})],1),n("TopBarSection",{attrs:{"border-left":!0,"border-right":!0}},[n("DesignProviderDropdown",{attrs:{providers:e.providers},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1),n("span",{staticClass:"beta-warning"},[e._v(" beta ")]),n("TopBarSection",{staticClass:"design-library-breakpoint-chooser ml-auto mr-auto",attrs:{"border-left":!0,"border-right":!0}},[n("BreakpointsSelection",{model:{value:e.breakpoint,callback:function(t){e.breakpoint=t},expression:"breakpoint"}})],1),n("TopBarSection",{staticClass:"ml-auto pr-2",attrs:{"border-right":!0}},[n("NiceButton",{attrs:{disabled:!e.canImportAll,"left-icon":"ArrowDownToLine"},on:{click:e.importAll}},[e._v(" Import Page ")])],1),n("TopBarSection",[n("IconButton",{attrs:{icon:e.fullscreen?"DownLeftAndUpRightToCenter":"UpRightAndDownLeftFromCenter",size:"18"},on:{click:e.toggleFullscreen}})],1),n("TopBarSection",{attrs:{"border-left":!0}},[n("IconButton",{attrs:{icon:"CloseIcon",size:"18"},on:{click:e.close}})],1)],1),n("div",{staticClass:"design-library-contents"},[n("DesignLibrarySidebar",{attrs:{items:e.sidebarItems},on:{select:e.onPostSelected}}),n("div",{ref:"iframeWrapper",staticClass:"design-library-iframe-wrapper"},[e.reliesOnGlobalSettings?[n("div",{staticClass:"design-library-global-settings-warning"},[n("div",{staticClass:"design-library-global-settings-warning-text"},[e._v(" This design relies on global settings. It won't look the same unless you import them. ")]),n("NiceButton",{on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Import Global Settings ")])],1),e.importGlobalSettingsScreen?n("div",{staticClass:"design-library-import-global-settings-panel"},[e.loadingExternalGlobalSettings?n("div",[n("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[n("span",[e._v("Your existing global settings will be overwritten with the global settings from this library website.")]),n("div",[n("v-btn",{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Cancel ")]),n("v-btn",{attrs:{dark:"",color:"blue"},on:{click:e.importGlobalSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()]:e._e(),n("div",{staticClass:"design-library-iframe-inner-wrapper",style:e.iframeWrapperStyles},[e.selectedProvider?n("iframe",{ref:"iframe",staticClass:"design-library-iframe",style:e.iframeStyles,attrs:{src:e.iframeUrl},on:{load:e.onProviderLoaded}}):e._e()]),e.previewLoaded?n("v-overlay",{attrs:{value:e.loading,absolute:""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):e._e(),!e.previewLoaded&&e.selectedProvider?n("DesignLibrarySkeleton"):e._e()],2)],1)])},$b=[],Hb=n("af0c"),zb=n("0fdf"),Gb=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},qb=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"design-library-skeleton-loader"},[n("span",{staticClass:"design-library-skeleton-header"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})]),n("span",{staticClass:"design-library-skeleton-hero"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})]),n("div",{staticClass:"design-library-skeleton-button"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})])])}],Kb=Object(d["a"])(Nb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]))||Nb,Xb=Kb,Yb=(n("71d3"),Object(ie["a"])(Xb,Gb,qb,!1,null,null,null)),Qb=Yb.exports,Zb=function(e){var t=Object(Ge["a"])(),n="Library:".concat(t);de["a"].transaction((function(){e.forEach((function(e){var t=Object(Me["b"])(St["c"].document.tree,null,Object(Me["f"])(e));Object(Tp["c"])(t,Object(Ap["a"])((function(){}),(function(t){if("TOP_LEVEL"!==t){var a={nodeId:void 0};St["c"].pasteCopiedElementMutation({element:e,placeToAddId:t.place.id,placeToAddIndex:t.index||t.place.children.length,pointer:a}),a.nodeId&&Oe["a"].run.onCreatedElement({elementId:a.nodeId,transactionKey:n})}})))}))}),"Import from design library",n)},Jb=n("e1bd"),eg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"design-library-sidebar"},[n("header",{staticClass:"design-library-sidebar-header"},[n("SearchInput",{attrs:{placeholder:"Search Pages",autofocus:!0},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),n("v-treeview",{attrs:{hoverable:"",activatable:"","open-on-click":"",items:e.treeItems,"open-all":!!e.searchQuery},on:{"update:active":function(t){return e.$emit("select",t)}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.children?n("Icon",{attrs:{icon:i?"FolderOpenIcon":"FolderIcon"}}):e._e()]}}])})],1)},tg=[],ng=n("60624"),ag=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchQuery="",e}return Object(s["a"])(n,[{key:"filteredItems",get:function(){var e=this.searchQuery;if(!e)return this.items;var t=new ng["a"](this.items,{keys:["name"],threshold:.2});return t.search(e.trim()).map((function(e){return e.item}))}},{key:"treeItems",get:function(){var e=[],t=this.filteredItems.reduce((function(t,n){return n.tags.length?n.tags.forEach((function(e){t[e]=t[e]||[],t[e].push(n)})):e.push(n),t}),Object.create(null)),n=Object.keys(t).map((function(e){return{id:e,name:e,children:t[e]}}));return[].concat(e,Object(k["a"])(n))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],ag.prototype,"items",void 0),ag=Object(u["a"])([Object(d["a"])({components:{SearchInput:Pb["a"],Icon:ee["a"]}})],ag);var ig=ag,rg=ig,og=(n("7da6"),n("eb2a")),sg=Object(ie["a"])(rg,eg,tg,!1,null,null,null),lg=sg.exports;$a()(sg,{VTreeview:og["a"]});var cg=n("5dfa"),ug=n("25f2"),dg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser"},a),[n("div",{staticClass:"document-chooser-text"},[n("h2",[e._v("Design Set")]),n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.value&&e.value.name)+" ")])]),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"300",height:"350"}},[n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.providers,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":e.value&&t.url===e.value.url},attrs:{link:""},on:{click:function(n){return e.chooseProvider(t)}}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.name)+" ")]),t.type?n("div",{staticClass:"previewable-item-type"},[e._v(" "+e._s(t.type)+" ")]):e._e()])],1)]}))],2)],1)],1)},pg=[],vg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e}return Object(s["a"])(n,[{key:"chooseProvider",value:function(e){this.$emit("input",e),this.open=!1}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],vg.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],vg.prototype,"providers",void 0),vg=Object(u["a"])([Object(d["a"])({components:{Icon:ee["a"],Dropdown:Fi["a"],TopBarSection:Ji}})],vg);var hg=vg,mg=hg,fg=Object(ie["a"])(mg,dg,pg,!1,null,null,null),bg=fg.exports;$a()(fg,{VCard:hr["a"],VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"]});var gg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.selectedProvider=null,e.selectedPostId=null,e.providerElements=[],e.reliesOnGlobalSettings=!1,e.providerPosts=[],e.breakpoint={id:zt["a"],label:"",minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:zt["b"]},e.canvasSize={width:0,height:0},e.loading=!1,e.previewLoaded=!1,e.fullscreen=!1,e.loadingDesignSetData=!1,e.loadingExternalGlobalSettings=!1,e.importGlobalSettingsScreen=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){St["h"].hasFullAccess&&_a["b"].register(xi.CMD_B,this.open)}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_A),this.unbindListeners()}},{key:"onDialogOpen",value:function(){this.isOpen?this.modalOpened():this.unbindListeners()}},{key:"onProviderChange",value:function(e,t){this.providerElements=[],this.selectedPostId=null,this.providerPosts=[],this.reliesOnGlobalSettings=!1,this.getDesignSetData(),e.url!==(null===t||void 0===t?void 0:t.url)&&(this.previewLoaded=!1)}},{key:"modalOpened",value:function(){this.selectedProvider||(this.selectedProvider=this.providers[0]),this.calculateSizeAfterTransition(),window.addEventListener("message",this.handleIframeMessage,!1),window.addEventListener("resize",this.setCanvasSize)}},{key:"toggleImportGlobalSettingsScreen",value:function(){this.importGlobalSettingsScreen=!this.importGlobalSettingsScreen}},{key:"unbindListeners",value:function(){window.removeEventListener("message",this.handleIframeMessage,!1),window.removeEventListener("resize",this.setCanvasSize)}},{key:"calculateSizeAfterTransition",value:function(){var e=this,t=400;setTimeout((function(){return e.setCanvasSize()}),t)}},{key:"setCanvasSize",value:function(){var e=this.$refs.iframeWrapper;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;this.canvasSize={width:n,height:a}}}},{key:"reloadIframe",value:function(){var e=this.$refs.iframe;e?(e.src+="",this.loading=!0):this.selectedProvider=this.providers[0]}},{key:"goHome",value:function(){this.selectedPostId=null,this.reloadIframe()}},{key:"toggleFullscreen",value:function(){this.fullscreen=!this.fullscreen,this.calculateSizeAfterTransition()}},{key:"handleIframeMessage",value:function(e){if("string"===typeof e.data){var t=e.data.split(/,([\s\S]*)/),n=Object(Oc["a"])(t,2),a=n[0],i=n[1];"breakdanceGetElements"===a&&this.getElements(i),"breakdanceImportElement"===a&&this.importElement(i),"breakdanceBeforeLeave"===a&&this.navigatedAway()}}},{key:"onPostSelected",value:function(e){var t=Object(Oc["a"])(e,1),n=t[0];this.loading=!0,this.selectedPostId=n||null,this.reloadIframe()}},{key:"onProviderLoaded",value:function(){this.previewLoaded=!0,this.loading=!1,this.setCanvasSize()}},{key:"getElements",value:function(e){this.loading=!1;var t=Object(Hb["a"])(e,F["g"](zb["d"]));this.providerElements=Object(Tp["c"])(t,Object(Ap["a"])((function(){return[]}),(function(e){return e})))}},{key:"navigatedAway",value:function(){this.loading=!0}},{key:"importElement",value:function(e){var t=Object(Hb["a"])(e,zb["d"]),n=Object(Tp["c"])(t,Object(Ap["a"])((function(){return null}),(function(e){return e})));n&&(Zb([n]),this.close(),this.$nextTick((function(){Object(Jb["b"])()})))}},{key:"importAll",value:function(){Zb(this.providerElements),this.close(),this.$nextTick((function(){Object(Jb["b"])()}))}},{key:"close",value:function(){St["h"].setDesignLibraryModalState(!1)}},{key:"open",value:function(){St["h"].setDesignLibraryModalState(!0)}},{key:"getDesignSetData",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null===(t=this.selectedProvider)||void 0===t?void 0:t.url,this.loadingDesignSetData=!0,e.t0=Tp["c"],e.next=5,Object(B["a"])({action:(null===(n=this.selectedProvider)||void 0===n?void 0:n.isLocal)?"breakdance_get_design_set":"breakdance_get_external_design_set",decoder:cg["b"],friendlyName:"Design Set Data",dataToPost:{url:a}});case 5:e.t1=e.sent,e.t2=Object(Ap["a"])((function(){i.providerPosts=[]}),(function(e){i.providerPosts=e.posts,i.reliesOnGlobalSettings=e.reliesOnGlobalSettings})),(0,e.t0)(e.t1,e.t2),this.loadingDesignSetData=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"importGlobalSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingExternalGlobalSettings=!0,r=null===(t=this.selectedProvider)||void 0===t?void 0:t.url,e.t0=Tp["c"],e.next=5,Object(B["a"])({action:(null===(n=this.selectedProvider)||void 0===n?void 0:n.isLocal)?"breakdance_get_global_settings_for_design_library":"breakdance_get_external_global_settings",decoder:zb["c"],friendlyName:'Global Settings for "'.concat(r,'"'),dataToPost:{url:r}});case 5:e.t1=e.sent,e.t2=Object(Ap["a"])((function(){return null}),(function(e){return e&&e.globalSettings})),o=(0,e.t0)(e.t1,e.t2),o||Se["a"].log.errorMessage('Error importing Global Settings for "'.concat((null===(s=this.selectedProvider)||void 0===s?void 0:s.name)||(null===(l=this.selectedProvider)||void 0===l?void 0:l.url),'"')),this.loadingExternalGlobalSettings=!1,this.importGlobalSettingsScreen=!1,St["d"].setGlobalSettings(o),St["h"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!1),Se["a"].log.message('Imported Global Settings from "'.concat((null===(a=this.selectedProvider)||void 0===a?void 0:a.name)||(null===(i=this.selectedProvider)||void 0===i?void 0:i.url),'"'));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentSiteUrl",get:function(){var e;return null===(e=St["b"].neededData)||void 0===e?void 0:e.homeUrl}},{key:"customProviders",get:function(){return St["b"].designLibrary.customDesignSets}},{key:"providers",get:function(){var e=[];return this.currentSiteUrl&&e.push({name:"This Website",isLocal:!0,url:this.currentSiteUrl}),e.push({name:"Fancy Sections",url:"https://breakdancedemos.com/supa/",type:"Sections"},{name:"Element Demos",url:"https://breakdancedemos.com/elements/",type:"Sections"}),e.push.apply(e,Object(k["a"])(this.customProviders.map((function(e){return{name:e,url:e}})))),e}},{key:"sidebarItems",get:function(){return this.providerPosts}},{key:"isOpen",get:function(){return St["h"].panelState.designLibraryModalOpen},set:function(e){St["h"].setDesignLibraryModalState(e)}},{key:"selectedPost",get:function(){var e=this;return this.providerPosts.find((function(t){return t.id===e.selectedPostId}))}},{key:"iframeUrl",get:function(){var e;if(!this.selectedProvider)return null;var t=(null===(e=this.selectedPost)||void 0===e?void 0:e.url)||this.selectedProvider.url,n=new URL(t);return n.searchParams.append("breakdance","design-library"),n.toString()}},{key:"previewWidth",get:function(){return this.breakpoint.id===zt["a"]?"100%":this.breakpoint.defaultPreviewWidth}},{key:"minWidth",get:function(){return Object(zt["g"])(St["d"])}},{key:"iframeWrapperStyles",get:function(){return{width:"100%"===this.previewWidth?"100%":"".concat(this.previewWidth,"px")}}},{key:"iframeStyles",get:function(){var e=this,t=function(t){var n=Math.min(1,e.canvasSize.width/t);return{width:"".concat(t,"px"),transform:"scale(".concat(n,")"),height:"".concat(e.canvasSize.height*(1/n),"px")}};return"100%"===this.previewWidth?this.canvasSize.width<this.minWidth?t(this.minWidth):{width:"100%",minWidth:"".concat(this.minWidth,"px")}:t(this.previewWidth)}},{key:"canImportAll",get:function(){return this.providerElements.length}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("isOpen")],gg.prototype,"onDialogOpen",null),Object(u["a"])([Object(d["h"])("selectedProvider")],gg.prototype,"onProviderChange",null),gg=Object(u["a"])([Object(d["a"])({components:{LoadingSpinner:ug["a"],Icon:ee["a"],IconButton:Bi["a"],NiceButton:Io["a"],DesignLibrarySidebar:lg,DesignLibrarySkeleton:Qb,TopBarSection:Ji,DropdownInput:_o["a"],BreakpointsSelection:Hi,DesignProviderDropdown:bg}})],gg);var yg=gg,Og=yg,kg=(n("7df9"),n("a797")),jg=Object(ie["a"])(Og,Ub,$b,!1,null,null,null),Sg=jg.exports;$a()(jg,{VBtn:Ha["a"],VDialog:uo["a"],VOverlay:kg["a"],VProgressCircular:Pl["a"]});var Cg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"breakdance-panel-header d-flex align-center",attrs:{tile:""}},[n("div",{staticClass:"breakdance-panel-header-title"},[e._t("default")],2),n("v-spacer"),e._t("right"),e.backInsteadOfClose?n("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"ChevronDownIcon",rotate:"90",size:"12",small:""},on:{click:e.close}}):n("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"CloseIcon",size:"16",small:""},on:{click:e.close}})],2)},xg=[],wg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(d["g"]);Object(u["a"])([Object(d["d"])({default:!1})],wg.prototype,"backInsteadOfClose",void 0),wg=Object(u["a"])([Object(d["a"])({components:{IconButton:Bi["a"]}})],wg);var Pg=wg,Eg=Pg,_g=(n("5c31"),Object(ie["a"])(Eg,Cg,xg,!1,null,null,null)),Ig=_g.exports;$a()(_g,{VSheet:pb["a"],VSpacer:bo["a"]});var Dg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){Object(J["b"])("add")}},{key:"openDesignLibrary",value:function(){St["h"].setDesignLibraryModalState(!0)}},{key:"state",get:function(){return St["b"].elementsLoadingState}}]),n}(a["a"]);Dg=Object(u["a"])([Object(d["a"])({components:{DesignLibraryModal:Sg,PanelHeader:Ig,ElementsList:Lb}})],Dg);var Tg=Dg,Ag=Tg,Rg=(n("27bd"),Object(ie["a"])(Ag,jb,Sb,!1,null,null,null)),Bg=Rg.exports;$a()(Rg,{VProgressCircular:Pl["a"]});var Fg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll global-settings-panel"},[n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{on:{close:e.close}},[e._v(" Global Settings "),n("BrowseModeToggle",{attrs:{"panel-to-open":"globalSettings"}}),n("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?n("GlobalSettingsPanelControlsViewMode",{attrs:{"is-loading":e.isLoading}}):"history"===e.viewMode?n("GlobalSettingsPanelHistoryViewMode"):e._e()],1)])},Mg=[],Vg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PanelHeaderButton",{attrs:{enabled:e.isBrowseModeEnabled},on:{click:e.toggleBrowseMode}},[e._v("browse")])},Wg=[],Lg=n("8532"),Ng=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"breakdance-panel-header-button":!0,"breakdance-panel-header-button--enabled":e.enabled},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},Ug=[],$g=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(d["g"]);Object(u["a"])([Object(d["d"])({default:!0})],$g.prototype,"enabled",void 0),$g=Object(u["a"])([Object(d["a"])({components:{}})],$g);var Hg=$g,zg=Hg,Gg=(n("f03d"),Object(ie["a"])(zg,Ng,Ug,!1,null,null,null)),qg=Gg.exports,Kg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleBrowseMode",value:function(){Object(Lg["e"])(this.panelToOpen)}},{key:"isBrowseModeEnabled",get:function(){return"browse"===St["h"].mode}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"globalSettings"})],Kg.prototype,"panelToOpen",void 0),Kg=Object(u["a"])([Object(d["a"])({components:{PanelHeaderButton:qg}})],Kg);var Xg=Kg,Yg=Xg,Qg=Object(ie["a"])(Yg,Vg,Wg,!1,null,null,null),Zg=Qg.exports,Jg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.isLoading?n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):[e.hasSearchParameters?e._e():n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controls,path:"settings"}})],1),e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"vscroll-scroll"},[""!==e.searchBoxState.query?n("div",{staticClass:"control-tree-search-term"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"settings"},on:{input:e.clearQuery}})],1):e._e(),n("SearchBox",{attrs:{value:e.searchBoxState,location:"settings"},on:{input:e.updateSearchBoxState}})]],2)},ey=[],ty=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,query:""},e.editingGlobalSettingsControlsTreeContext=ay,e}return Object(s["a"])(n,[{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}},{key:"controls",get:function(){return St["b"].globalSettingsControlsAndTemplate.controls}},{key:"controlsFilteredBySearchParams",get:function(){return Qf(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingGlobalSettingsControlsTreeContext,"settings")}},{key:"noSearchResults",get:function(){return 0===Jf(this.controlsFilteredBySearchParams,0)}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],ty.prototype,"isLoading",void 0),Object(u["a"])([Object(d["e"])("context")],ty.prototype,"editingGlobalSettingsControlsTreeContext",void 0),ty=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Lm["default"],SearchBox:ef,Icon:ee["a"],SearchBoxEmptyState:sb}})],ty);var ny=ty,ay={dynamicAccepts:function(){return!1},getControlValue:function(e){return _.a.get(St["d"].globalSettings,e)},setControlValue:function(e,t,n,a){St["d"].throttledGlobalSettingsPropertyChange(Object(ru["d"])({path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},getControls:function(){return St["b"].globalSettingsControlsAndTemplate.controls},setAccordionState:function(e,t){Object(eb["g"])(e,t)},getAccordionState:function(e){return Object(eb["c"])(e)}},iy=ny,ry=n("a722"),oy=Object(ie["a"])(iy,Jg,ey,!1,null,null,null),sy=oy.exports;$a()(oy,{VLayout:ry["a"],VProgressCircular:Pl["a"],VSheet:pb["a"]});var ly=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},cy=[],uy=n("fd0f"),dy=F["s"]({id:F["u"]([F["n"],F["r"]]),date:F["r"],author:F["u"]([F["r"],F["l"](!1)])}),py=F["j"]([dy,F["s"]({globalSettings:zb["c"]})]),vy=F["g"](py),hy=F["j"]([dy,F["s"]({selectors:uy["a"]})]),my=F["g"](hy),fy=F["j"]([dy,F["s"]({tree:zb["a"]})]),by=F["s"]({revisions:F["g"](fy)}),gy=F["u"]([by,F["s"]({unsupported:F["r"]})]);function yy(){return Oy.apply(this,arguments)}function Oy(){return Oy=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Tp["c"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_global_settings_revisions",decoder:vy});case 3:return e.t1=e.sent,e.t2=Object(Y["mapLeft"])((function(){return null})),e.t3=Ap["e"],e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}var ky=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-revisions-list vscroll-wrap vscroll-scroll"},[e.isLoading?n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.revisionsNotSupportedMessage?n("div",{staticClass:"breakdance-revisions-list__not-found"},[n("p",[e._v(e._s(e.revisionsNotSupportedMessage))])]):e.revisions.length?n("div",{staticClass:"breakdance-revisions-list__items"},e._l(e.revisions,(function(t,a){return n("RevisionItem",{key:t.revisionData.id,attrs:{revision:t.revisionData,selected:t.isSelected},on:{click:function(n){return e.onRevisionSelected(t,a)}}})})),1):n("div",{staticClass:"breakdance-revisions-list__not-found"},[n("h2",[e._v("No revisions found")]),n("p",[e._v("Save any changes to create a new revision")])])],1)},jy=[],Sy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"revisions-item",class:{"revisions-item--selected":e.selected},on:{click:function(t){return e.$emit("click",e.revision)}}},[n("span",{staticClass:"revisions-item__date"},[e._v(e._s(e.revision.date))]),e.revision.author?[n("span",[e._v(e._s(e.revision.author))])]:e._e()],2)},Cy=[],xy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return{}}})],xy.prototype,"revision",void 0),Object(u["a"])([Object(d["d"])({default:!1})],xy.prototype,"selected",void 0),xy=Object(u["a"])([Object(d["a"])({})],xy);var wy=xy,Py=wy,Ey=(n("cef0"),Object(ie["a"])(Py,Sy,Cy,!1,null,null,null)),_y=Ey.exports,Iy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"onRevisionSelected",value:function(e,t){this.$emit("revisionSelected",e,t)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Iy.prototype,"isLoading",void 0),Object(u["a"])([Object(d["d"])({default:[]})],Iy.prototype,"revisions",void 0),Object(u["a"])([Object(d["d"])({default:null})],Iy.prototype,"revisionsNotSupportedMessage",void 0),Iy=Object(u["a"])([Object(d["a"])({components:{RevisionItem:_y}})],Iy);var Dy=Iy,Ty=Dy,Ay=(n("07f2"),Object(ie["a"])(Ty,ky,jy,!1,null,null,null)),Ry=Ay.exports;$a()(Ay,{VLayout:ry["a"],VProgressCircular:Pl["a"]});var By=n("7c7f"),Fy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.remoteRevisions=null,e.selectedIndex=null,e.unsubscribeFromStore=function(){},e.currentUnsavedRevision=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadRemoteRevisions();case 2:St["d"].settingsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var n=Object(By["c"])(e);"global"===n&&"global/restoreGlobalSettingsRevision"!==e.type&&"global/setSelectors"!==e.type&&("global/setGlobalSettings"===e.type?t.currentUnsavedRevision=null:t.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),t.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.unsubscribeFromStore()}},{key:"loadRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,yy();case 3:this.remoteRevisions=e.sent,this.selectedIndex=null,this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch",value:function(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}},{key:"findSelectedIndexBasedOnStoreDataMatch",value:function(){var e=Object(ze["a"])(St["d"].globalSettings);return this.revisions.findIndex((function(t){return Object(E["isEqual"])(t.globalSettings,e)}))}},{key:"setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData",value:function(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}},{key:"isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData",value:function(){if(null===this.remoteRevisions||0===this.remoteRevisions.length)return!1;var e=Object(Oc["a"])(this.remoteRevisions,1),t=e[0],n=Object(ze["a"])(St["d"].globalSettings);return Object(E["isEqual"])(t.globalSettings,n)}},{key:"setCurrentUnsavedRevisionFromCurrentStoreData",value:function(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",globalSettings:Object(ze["a"])(St["d"].globalSettings)}}},{key:"onRevisionSelected",value:function(e,t){this.selectedIndex=t,de["a"].transaction((function(){return St["d"].restoreGlobalSettingsRevision(e.revisionData)}),"Restore Global Settings From Revision")}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(St["h"].unsavedChangesPresent){e.next=5;break}return e.next=3,this.loadRemoteRevisions();case 3:this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{isSelected:n===e.selectedIndex,revisionData:t}}))}},{key:"revisions",get:function(){var e,t=null!==(e=this.remoteRevisions)&&void 0!==e?e:[];return this.currentUnsavedRevision?[this.currentUnsavedRevision].concat(Object(k["a"])(t)):t}},{key:"unsavedChangesPresent",get:function(){return St["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],Fy.prototype,"updateRevisionsAfterSaving",null),Fy=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Ry}})],Fy);var My=Fy,Vy=My,Wy=Object(ie["a"])(Vy,ly,cy,!1,null,null,null),Ly=Wy.exports,Ny=n("2064"),Uy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.storedData=null,e.isStoringData=!1,e.isLoadingData=!1,e}return Object(s["a"])(n,[{key:"toggleViewMode",value:function(){St["h"].setPanelState(Object(C["a"])({},St["h"].panelState,{globalSettingsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"}))}},{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!St["h"].panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings){e.next=6;break}return St["h"].setPanelState(Object(C["a"])({},St["h"].panelState,{globalSettingsPanelActiveViewMode:"controls"})),e.next=4,this.loadSettings();case 4:e.next=7;break;case 6:St["h"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"storeSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isStoringData=!0,e.next=3,Object(Ny["b"])();case 3:return t=e.sent,this.storedData=Object(ze["a"])(St["d"].globalSettings),this.isStoringData=!1,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingData=!0,e.next=3,Object(Ny["a"])();case 3:return t=e.sent,this.storedData=Object(ze["a"])(St["d"].globalSettings),this.isLoadingData=!1,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestPanelClosingConfirmation",value:function(){St["h"].requestClosingConfirmation({subject:"globalSettings",confirmationDefinition:{title:"You have unsaved changes to your Global Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestPanelClosingConfirmation():St["h"].noClosingConfirmationIsNeededFor("globalSettings")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=11;break}return St["h"].setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),e.next=4,this.loadSettings();case 4:if(!e.sent){e.next=8;break}this.close(),e.next=9;break;case 8:this.requestPanelClosingConfirmation();case 9:e.next=20;break;case 11:if("save"!==t){e.next=20;break}return St["h"].setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),e.next=15,this.storeSettings();case 15:if(!e.sent){e.next=19;break}this.close(),e.next=20;break;case 19:this.requestPanelClosingConfirmation();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){Object(J["b"])("globalSettings")}},{key:"viewMode",get:function(){return St["h"].panelState.globalSettingsPanelActiveViewMode}},{key:"isLoading",get:function(){return this.isStoringData||this.isLoadingData}},{key:"unsavedChangesPresent",get:function(){return St["d"].settingsHasUnsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=St["h"].closingConfirmations.globalSettings)||void 0===e?void 0:e.chosenOption}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],Uy.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],Uy.prototype,"handleConfirmationChosenOptionChange",null),Uy=Object(u["a"])([Object(d["a"])({components:{GlobalSettingsPanelHistoryViewMode:Ly,GlobalSettingsPanelControlsViewMode:sy,PanelHeaderButton:qg,BrowseModeToggle:Zg,PanelHeader:Ig}})],Uy);var $y=Uy,Hy=$y,zy=(n("ab9c"),Object(ie["a"])(Hy,Fg,Mg,!1,null,null,null)),Gy=zy.exports,qy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll selectors-panel"},[e.isLoadingData?n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e._e(),e.activeSelector?n("EditSelector",{on:{close:e.close}}):e._e(),e.activeSelector||e.isLoadingData?e._e():n("ManageSelectors",{on:{close:e.close}})],1)},Ky=[],Xy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v("Selectors "),n("BrowseModeToggle",{attrs:{"panel-to-open":"selectors"}}),n("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?[n("AddSelector"),n("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-selectors"},[n("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{input:e.updateSelectors}})],1)]:"history"===e.viewMode?[n("SelectorsPanelHistoryViewMode")]:e._e()],2)},Yy=[],Qy=n("7e9b"),Zy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-row add-selector"},[n("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),n("NiceButton",{staticClass:"ml-1",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},Jy=[],eO=n("7be2"),tO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newSelectorName="",e}return Object(s["a"])(n,[{key:"addSelector",value:function(){this.newSelectorName&&(Object(X["pipe"])(Object(eO["b"])(this.newSelectorName),Object(Y["fold"])((function(e){return e.forEach(Se["a"].log.message)}),(function(e){return Object(eO["a"])(e)}))),this.newSelectorName="")}}]),n}(a["a"]);tO=Object(u["a"])([Object(d["a"])({components:{NiceButton:Io["a"],TextInput:wo["a"]}})],tO);var nO=tO,aO=nO,iO=(n("0519"),Object(ie["a"])(aO,Zy,Jy,!1,null,null,null)),rO=iO.exports,oO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},sO=[];function lO(){return cO.apply(this,arguments)}function cO(){return cO=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Tp["c"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_selectors_revisions",decoder:my});case 3:return e.t1=e.sent,e.t2=Object(Y["mapLeft"])((function(){return null})),e.t3=Ap["e"],e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),cO.apply(this,arguments)}var uO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.remoteRevisions=null,e.selectedIndex=null,e.unsubscribeFromStore=function(){},e.currentUnsavedRevision=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadRemoteRevisions();case 2:St["d"].selectorsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var n=Object(By["c"])(e);"global"===n&&"global/restoreSelectorsRevision"!==e.type&&"global/setGlobalSettings"!==e.type&&("global/setSelectors"===e.type?t.currentUnsavedRevision=null:t.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),t.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.unsubscribeFromStore()}},{key:"loadRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,lO();case 3:this.remoteRevisions=e.sent,this.selectedIndex=null,this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch",value:function(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}},{key:"findSelectedIndexBasedOnStoreDataMatch",value:function(){var e=Object(ze["a"])(St["d"].cssSelectors);return this.revisions.findIndex((function(t){return Object(E["isEqual"])(t.selectors,e)}))}},{key:"setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData",value:function(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}},{key:"isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData",value:function(){if(null===this.remoteRevisions)return!1;var e=Object(Oc["a"])(this.remoteRevisions,1),t=e[0],n=Object(ze["a"])(St["d"].cssSelectors);return Object(E["isEqual"])(t.selectors,n)}},{key:"setCurrentUnsavedRevisionFromCurrentStoreData",value:function(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",selectors:Object(ze["a"])(St["d"].cssSelectors)}}},{key:"onRevisionSelected",value:function(e,t){this.selectedIndex=t,de["a"].transaction((function(){return St["d"].restoreSelectorsRevision(e.revisionData)}),"Restore Selectors From Revision")}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(St["h"].unsavedChangesPresent){e.next=5;break}return e.next=3,this.loadRemoteRevisions();case 3:this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{isSelected:n===e.selectedIndex,revisionData:t}}))}},{key:"revisions",get:function(){var e,t=null!==(e=this.remoteRevisions)&&void 0!==e?e:[];return this.currentUnsavedRevision?[this.currentUnsavedRevision].concat(Object(k["a"])(t)):t}},{key:"unsavedChangesPresent",get:function(){return St["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],uO.prototype,"updateRevisionsAfterSaving",null),uO=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Ry}})],uO);var dO=uO,pO=dO,vO=Object(ie["a"])(pO,oO,sO,!1,null,null,null),hO=vO.exports,mO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleViewMode",value:function(){p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"}))}},{key:"updateSelectors",value:function(e){p["e"].setSelectors(Object(ze["a"])(e))}},{key:"viewMode",get:function(){return p["g"].panelState.selectorsPanelPanelActiveViewMode}},{key:"selectors",get:function(){return p["e"].cssSelectors}}]),n}(a["a"]);mO=Object(u["a"])([Object(d["a"])({components:{SelectorsPanelHistoryViewMode:hO,PanelHeaderButton:qg,BrowseModeToggle:Zg,draggable:Pc.a,SelectorsList:Qy["a"],AddSelector:rO,PanelHeader:Ig}})],mO);var fO=mO,bO=fO,gO=(n("f451"),Object(ie["a"])(bO,Xy,Yy,!1,null,null,null)),yO=gO.exports,OO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeSelector?n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Selector ")]),n("div",{staticClass:"breakdance-selector-titlebar"},[n("div",{staticClass:"flex-grow-1 mr-2"},[e.editingClassOrClassHover?[n("div",{staticClass:"d-flex flex-row align-center flex-wrap mr-2"},[n("transition",{attrs:{name:"blink-on-change"}},[n("div",{key:e.activeSelector.name,staticClass:"selector-titlebar-classname mr-1 ml-n1"},[e._v(" "+e._s(e.activeSelector.name.replace(":hover",""))+" ")])]),n("v-btn",{class:["editing-class-hover-hover-button-always",e.editingClassHover?"editing-class-hover-hover-button-active":"editing-class-hover-hover-button"],attrs:{"x-small":"",depressed:""},on:{click:e.toggleHover}},[e._v(" :hover ")])],1)]:[n("div",{staticClass:"d-flex flex-column"},[n("TextInput",{attrs:{value:e.activeSelector.name},on:{input:e.tryToRenameActiveSelector}})],1)]],2),e.selectorIsHighlightable?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{icon:"SearchFileIcon",size:"16",active:e.highlight},on:{click:e.toggleHighlight}},a))]}}],null,!1,3251607670)},[n("span",[e._v(e._s(e.howManyOnPage)+" on page")])]):e._e(),n("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deleteSelector}})],1),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"control-tree-search-term control-tree-search-term-selector"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),e.editingClassOrClassHover||!e.attemptingToRename||e.isAttemptedRenameValid?e._e():n("div",{staticClass:"edit-selector-invalid-name-error"},[e._v(" invalid selector name ")]),n("div",{staticClass:"edit-selector-border"}),e.hasSearchParameters?e._e():n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controls,path:"properties"}})],1),e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"properties",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"selectors"},on:{input:e.clearQuery}})],1):e._e(),n("SearchBox",{attrs:{value:e.searchBoxState,location:"selector"},on:{input:e.updateSearchBoxState}})],1):e._e()},kO=[],jO=(n("8a79"),n("8c63")),SO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,query:""},e.highlight=!1,e.attemptingToRename=!1,e.editingClassControlsTreeContext=wO,e}return Object(s["a"])(n,[{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}},{key:"toggleHighlight",value:function(){this.highlight?this.clearHighlight():this.setHighlight()}},{key:"beforeDestroy",value:function(){this.clearHighlight()}},{key:"setHighlight",value:function(){if(this.highlight=!0,p["g"].activeSelector){var e=this.editingClassHover?p["g"].activeSelector.name.replace(":hover",""):p["g"].activeSelector.name;Object(jO["a"])(Object(Be["c"])(),"breakdance-selector-highlight","".concat(e," {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        "))}}},{key:"clearHighlight",value:function(){this.highlight=!1,Object(jO["a"])(Object(Be["c"])(),"breakdance-selector-highlight","")}},{key:"deleteSelector",value:function(){if(this.activeSelector){var e=this.activeSelector,t=p["e"].cssSelectors.findIndex((function(t){return t.name===e.name}));if(-1!==t){var n=Object(ze["a"])(p["e"].cssSelectors);n.splice(t,1),p["e"].setSelectors(n)}}}},{key:"close",value:function(){this.backToAllSelectors()}},{key:"openElementProperties",value:function(){Object(J["e"])("elementproperties")}},{key:"backToAllSelectors",value:function(){p["g"].setActiveSelectorName(null)}},{key:"tryToRenameActiveSelector",value:function(e){var t=this;if(e&&(this.attemptingToRename=e,this.clearHighlight(),Object(eO["d"])(e))){var n=p["e"].cssSelectors.findIndex((function(e){return e===t.activeSelector})),a=Object(ze["a"])(p["e"].cssSelectors);a[n]&&(a[n].name=e,p["e"].setSelectors(a),p["g"].setActiveSelectorName(e),this.attemptingToRename=!1)}}},{key:"toggleHover",value:function(){if(p["g"].activeSelector)if(this.editingClass){var e=p["g"].activeSelectorName+":hover",t=function(){return p["e"].cssSelectors.find((function(t){return t.name===e}))},n=t();if(n||(Object(eO["a"])({name:e,type:"custom",properties:{}}),n=t()),!n)return void Se["a"].log.message("Unable to create or find a :hover selector for ".concat(p["g"].activeSelectorName));p["g"].setActiveSelectorName(n.name),Object(J["e"])("selectors")}else if(this.editingClassHover&&this.activeSelector){var a=xO(this.activeSelector.name.replace(":hover",""));a&&(p["g"].setActiveSelectorName(a.name),Object(J["e"])("selectors"))}}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}},{key:"controlsFilteredBySearchParams",get:function(){return Qf(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingClassControlsTreeContext,"properties")}},{key:"noSearchResults",get:function(){return 0===Jf(this.controlsFilteredBySearchParams,0)}},{key:"howManyOnPage",get:function(){if(!p["g"].activeSelector)return 0;var e=this.editingClassHover?p["g"].activeSelector.name.replace(":hover",""):p["g"].activeSelector.name,t=window.Breakdance.canvas.document.querySelectorAll(e);return t.length}},{key:"editingClass",get:function(){return!!this.activeSelector&&"class"===this.activeSelector.type}},{key:"editingClassHover",get:function(){return!!this.activeSelector&&(!!this.activeSelector.name.endsWith(":hover")&&!!xO(this.activeSelector.name.replace(":hover","")))}},{key:"editingClassOrClassHover",get:function(){return this.editingClass||this.editingClassHover}},{key:"selectorIsHighlightable",get:function(){return!!p["g"].activeSelectorName&&!(p["g"].activeSelectorName.includes(":")&&!this.editingClassHover)}},{key:"controls",get:function(){return p["b"].selectorControls}},{key:"activeSelector",get:function(){return p["g"].activeSelector}},{key:"activeElementTitle",get:function(){return!!p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type).name}},{key:"isAttemptedRenameValid",get:function(){return!this.attemptingToRename||Object(eO["d"])(this.attemptingToRename)}}]),n}(a["a"]);Object(u["a"])([Object(d["e"])("context")],SO.prototype,"editingClassControlsTreeContext",void 0),SO=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Lm["default"],SearchBox:ef,IconButton:Bi["a"],PanelHeader:Ig,TextInput:wo["a"],SearchBoxEmptyState:sb,Icon:ee["a"]}})],SO);var CO=SO,xO=function(e){return p["e"].cssSelectors.find((function(t){return t.name===e}))},wO={dynamicAccepts:function(){return!1},getControls:function(){return p["b"].selectorControls},getControlValue:function(e){return _.a.get(p["g"].activeSelector,"".concat(e),void 0)},setControlValue:function(e,t,n,a){p["g"].activeSelector&&p["e"].throttledSelectorPropertyChange(Object(ru["c"])({selector:p["g"].activeSelector,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},setAccordionState:function(e,t){var n=p["g"].activeSelector&&p["g"].activeSelector.name;n&&Object(eb["h"])(n,e,t)},getAccordionState:function(e){var t=p["g"].activeSelector&&p["g"].activeSelector.name;return!!t&&Object(eb["d"])(t,e)}},PO=CO,EO=(n("91c2"),n("3a2f")),_O=Object(ie["a"])(PO,OO,kO,!1,null,null,null),IO=_O.exports;$a()(_O,{VBtn:Ha["a"],VSheet:pb["a"],VTooltip:EO["a"]});var DO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoadingData=!1,e.isStoringData=!1,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p["g"].panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors){e.next=6;break}return p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{selectorsPanelPanelActiveViewMode:"controls"})),e.next=4,this.load();case 4:e.next=7;break;case 6:p["g"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("selectors",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingData=!0,e.next=3,Object(eO["e"])();case 3:return t=e.sent,this.isLoadingData=!1,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isStoringData=!0,e.next=3,Object(eO["f"])();case 3:return t=e.sent,this.isStoringData=!1,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestPanelClosingConfirmation",value:function(){p["g"].requestClosingConfirmation({subject:"selectors",confirmationDefinition:{title:"You have unsaved changes to your Selectors.",text:"Would you like to save or discard these changes?",type:"info"}})}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestPanelClosingConfirmation():p["g"].noClosingConfirmationIsNeededFor("selectors")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=11;break}return p["g"].setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),e.next=4,this.load();case 4:if(!e.sent){e.next=8;break}this.close(),e.next=9;break;case 8:this.requestPanelClosingConfirmation();case 9:e.next=20;break;case 11:if("save"!==t){e.next=20;break}return p["g"].setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),e.next=15,this.save();case 15:if(!e.sent){e.next=19;break}this.close(),e.next=20;break;case 19:this.requestPanelClosingConfirmation();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){Object(J["b"])("selectors")}},{key:"activeSelector",get:function(){return p["g"].activeSelector}},{key:"unsavedChangesPresent",get:function(){return p["e"].selectorsHasUnsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=p["g"].closingConfirmations.selectors)||void 0===e?void 0:e.chosenOption}},{key:"isLoading",get:function(){return this.isLoadingData||this.isStoringData}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],DO.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],DO.prototype,"handleConfirmationChosenOptionChange",null),DO=Object(u["a"])([Object(d["a"])({components:{EditSelector:IO,ManageSelectors:yO}})],DO);var TO=DO,AO=TO,RO=(n("8ac9"),Object(ie["a"])(AO,qy,Ky,!1,null,null,null)),BO=RO.exports;$a()(RO,{VLayout:ry["a"],VProgressCircular:Pl["a"]});var FO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-structure-panel vscroll-wrap vscroll-scroll"},[n("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[e.rootElement.children.length?n("button",{staticClass:"breakdance-structure-panel__toggle-button mr-2",on:{click:e.toggleNodes}},[1===e.toggleStage?[e._v("Expand")]:e._e(),[0,2].includes(e.toggleStage)?[e._v("Collapse")]:e._e()],2):e._e()]},proxy:!0}])},[e._v(" Structure ")]),n("div",{class:e.classList,on:{contextmenu:e.onContextMenu}},[n("div",{staticClass:"structure-node root-node",attrs:{"data-element-id":e.ROOT_ELEMENT_ID},on:{mousedown:e.dragStart}},[n("div",{staticClass:"structure-node-title-wrapper"},[n("div",{staticClass:"structure-node-title",staticStyle:{"margin-left":"-16px",display:"none"}},[e._v(" Root Node ")]),n("div",{staticClass:"top-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}}),n("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}})]),e.rootElement.children.length>0?n("ChildStructureNodes",{attrs:{nodes:e.rootElement.children,depth:0}}):n("div",{staticClass:"structure-panel-empty-state"},[n("h5",[e._v("No Elements")]),n("p",[e._v("Add an element to your page and it will show up here.")]),n("StandardButton",{staticClass:"open-elements-toolbar-button ml-auto mr-auto",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)],1)]),n("StructureContextMenu")],1)},MO=[];function VO(){return{overTopHalf:!1,overBottomHalf:!1,overIndex:!1,overNodeId:!1,overNodeParentId:!1,overSelf:!1,overNestDeeper:!1,overNestShallower:!1}}function WO(e,t){var n=document.elementsFromPoint(e,t).filter(LO("structure-node")).sort(NO).reverse().pop();if(n){var a=n.dataset.elementId;if(a)return parseInt(a)}return!1}var LO=function(e){return function(t){return!!t.classList.contains(e)}},NO=function(e,t){return parseInt(e.dataset.depth)>parseInt(t.dataset.depth)?-1:parseInt(t.dataset.depth)>parseInt(e.dataset.depth)?1:0},UO=function(e,t){var n=e.filter(LO(t));return n.length>0&&parseInt(n[0].dataset.elementId)},$O=function(e,t,n){var a=document.elementsFromPoint(e,t),i=VO();if(i.overNestDeeper=UO(a,"nest-deeper"),i.overNestShallower=UO(a,"nest-shallower"),i.overTopHalf=UO(a,"top-half"),i.overBottomHalf=UO(a,"bottom-half"),i.overSelf=!1!==UO(a,"breakdance--currently-dragging"),i.overBottomHalf?i.overNodeId=i.overBottomHalf:i.overTopHalf&&(i.overNodeId=i.overTopHalf),i.overNodeId){var r=Object(Re["r"])(n,i.overNodeId),o=Object(Re["q"])(n,i.overNodeId);!1!==o&&!1!==r&&(i.overIndex=o,i.overNodeParentId=r.id)}return i},HO=n("2b91");function zO(e,t,n){var a=!1,i=Object(Re["m"])(t,n);if(!i)return!1;if(e.overSelf){if(e.overSelf){if(ek(n,t)&&e.overNestShallower===n){var r=!1;a=YO(n,t),a&&(r=a.parentId);while(r){if(Object(Me["k"])(t,i,r))break;if(!a||Object(Me["k"])(t,i,a.parentId)||!ek(r,t))break;var o=Object(Re["r"])(t,r);r=!!o&&o.id,r&&(a=XO(r,t))}}tk(n,t)&&e.overNestDeeper===n&&(a=QO(n,t))}}else if(e.overTopHalf){a=GO(e.overTopHalf,t),n===ZO(e.overTopHalf,t)&&(a=!1);var s=ZO(e.overTopHalf,t);a&&s&&Object(Me["k"])(t,i,s)&&(a=XO(s,t))}else if(e.overBottomHalf&&(0===JO(e.overBottomHalf,t)||Object(HO["c"])(e.overBottomHalf))){if(a=qO(e.overBottomHalf,t),a&&Object(Me["k"])(t,i,a.parentId)){var l=Object(Re["q"])(t,i.id),c=Object(Re["r"])(t,i.id);!1!==l&&!1!==c&&a&&e.overIndex&&a.parentId===c.id&&l<e.overIndex&&(a.index=a.index-1)}else a&&!Object(Me["k"])(t,i,a.parentId)&&(a=KO(e.overBottomHalf));if(a&&!Object(Me["k"])(t,i,a.parentId)&&ek(e.overBottomHalf,t)){var u=!1;if(e.overBottomHalf){var d=Object(Re["r"])(t,e.overBottomHalf);u=!!d&&d.id}while(u){a=qO(u,t);var p=Object(Re["r"])(t,i.id);if(a&&p&&a.parentId===p.id){var v=Object(Re["q"])(t,i.id),h=Object(Re["q"])(t,u);v<h&&(a.index=a.index-1)}if(a)if(!Object(Me["k"])(t,i,a.parentId)&&ek(u,t)){var m=Object(Re["r"])(t,u);u=!!m&&m.id}else u=!1;else u=!1}}}else e.overBottomHalf&&JO(e.overBottomHalf,t)>0&&(a=KO(e.overBottomHalf));if(!a)return!1;var f=Object(Me["k"])(t,i,a.parentId);return!!f&&a}function GO(e,t){var n=Object(Re["q"])(t,e),a=Object(Re["r"])(t,e);return!1!==n&&!1!==a&&{parentId:a.id,index:n}}function qO(e,t){var n=Object(Re["q"])(t,e),a=Object(Re["r"])(t,e);return!1!==n&&!1!==a&&{parentId:a.id,index:n+1}}function KO(e){return{parentId:e,index:0}}function XO(e,t){var n=JO(e,t);return!1!==n&&{parentId:e,index:n}}function YO(e,t){var n=Object(Re["r"])(t,e);return!!n&&qO(n.id,t)}function QO(e,t){var n=ZO(e,t);return!!n&&XO(n,t)}function ZO(e,t){var n=Object(Re["q"])(t,e),a=Object(Re["r"])(t,e);return!1!==n&&!1!==a&&(!(n<1)&&a.children[n-1].id)}function JO(e,t){var n=Object(Re["m"])(t,e);return!!n&&n.children.length}function ek(e,t){var n=Object(Re["q"])(t,e),a=Object(Re["r"])(t,e);if(!1!==n&&!1!==a){var i=JO(a.id,t);if(i)return 1===i||n===i-1}}function tk(e,t){var n=Object(Re["q"])(t,e);if(!1!==n)return n>0}var nk=n("bb26"),ak=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.mouseDragStatus=Object(C["a"])({},VO()),e.forceGrabbingCursor=!1,e.firstDragMovement=!0,e.draggedNodeId=!1,e.lastSubmittedDrag=!1,e.didMoveElement=!1,e.unsubscribeFromActivateElementMutation=null,e.easyEvent=new _e["a"],e.delayedExpandNodeTimeout=null,e.toggleStage=2,e}return Object(s["a"])(a,[{key:"close",value:function(){Object(J["b"])("structure")}},{key:"beforeCreate",value:function(){this.$options.components.ChildStructureNodes=n("7a63").default}},{key:"mounted",value:function(){var e=this;this.expandToShowActiveElementWatch(),this.unsubscribeFromActivateElementMutation=this.$store.subscribe((function(t){var n=t.type;"ui/activateElementMutation"===n&&e.expandToShowActiveElementWatch()}))}},{key:"expandToShowActiveElementWatch",value:function(){var e=this;if(this.activeElementId){var t=Object(HO["a"])(p["d"].document.tree,this.activeElementId);t&&p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},p["g"].structurePanelNodesExpandedState,{},t)),this.$nextTick((function(){if(e.$el&&e.panelHeader){var t=e.$el.querySelector('[data-element-id="'.concat(e.activeElementId,'"] .structure-node-title-wrapper'));t&&Object(J["h"])(e.$el,e.panelHeader.$el,t)}}))}}},{key:"onContextMenu",value:function(e){if(this.hasPermission){e.preventDefault(),e.stopPropagation();var t=WO(e.clientX,e.clientY)||void 0;t&&p["g"].activateElement(t),p["g"].setOnStructurePanelRightClickMenuState({elementId:t,position:{x:e.clientX,y:e.clientY}})}}},{key:"dragStart",value:function(e){if(0===e.button&&this.hasPermission){var t=WO(e.clientX,e.clientY);t&&(p["g"].activateElement(t),this.draggedNodeId=t,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.forceGrabbingCursor=!0,this.didMoveElement=!1,de["a"].startTransaction())}}},{key:"dragging",value:function(e){if(!Object(_e["b"])(e)&&(e.preventDefault(),e.stopPropagation(),this.draggedNodeId)){var t=null;if(this.firstDragMovement){var n=Object(Re["q"])(p["d"].document.tree,this.draggedNodeId),a=Object(Re["r"])(p["d"].document.tree,this.draggedNodeId);if(!1===n||!1===a)return;p["g"].setCanvasElementDraggedId(this.draggedNodeId),t={draggedElementId:this.draggedNodeId,droppedOnElementId:a.id,index:n},this.firstDragMovement=!1}else{this.mouseDragStatus=$O(e.clientX,e.clientY,p["d"].document.tree),this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);var i=zO(this.mouseDragStatus,p["d"].document.tree,this.draggedNodeId);i&&(t={draggedElementId:this.draggedNodeId,droppedOnElementId:i.parentId,index:i.index})}if(t){var r=Object(Re["m"])(p["d"].document.tree,t.droppedOnElementId),o=Object(HO["d"])(t.droppedOnElementId)||0===(null===r||void 0===r?void 0:r.children.length);o&&(p["d"].moveElement(Object(C["a"])({},t,{wrapWithTransaction:!1})),this.didMoveElement=!0,p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},p["g"].structurePanelNodesExpandedState,Object(Ft["a"])({},t.droppedOnElementId.toString(),!0))),this.lastSubmittedDrag=t)}}}},{key:"dragEnd",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&(p["d"].moveElement(Object(C["a"])({},this.lastSubmittedDrag,{wrapWithTransaction:!1})),this.didMoveElement=!0),!1!==this.draggedNodeId&&this.didMoveElement){var t=Object(Re["m"])(p["d"].document.tree,this.draggedNodeId);de["a"].endTransaction("Move ".concat(Object(Le["b"])(null===t||void 0===t?void 0:t.data.type)))}else de["a"].cancelTransactionIfItIsStillInProgress();p["g"].endCanvasElementDrag(),this.lastSubmittedDrag=!1,this.mouseDragStatus=Object(C["a"])({},VO()),this.firstDragMovement=!0,this.draggedNodeId=!1,this.forceGrabbingCursor=!1,this.didMoveElement=!1}},{key:"ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt",value:function(e){this.mouseDragStatus.overNodeId&&this.delayedExpandNode(this.mouseDragStatus.overNodeId,e)}},{key:"delayedExpandNode",value:function(e,t){var n=this;this.delayedExpandNodeTimeout&&clearTimeout(this.delayedExpandNodeTimeout),this.delayedExpandNodeTimeout=setTimeout((function(){if(n.delayedExpandNodeTimeout=null,e===n.mouseDragStatus.overNodeId){var a=Object(ze["a"])(p["g"].structurePanelNodesExpandedState);a[e]=!0,p["g"].setStructurePanelNodesExpandedState(a),n.dragging(t)}}),500)}},{key:"collapseAllNodes",value:function(){p["g"].setStructurePanelNodesExpandedState(Object(HO["b"])(p["d"].document.tree,!1))}},{key:"expandAllNodes",value:function(){p["g"].setStructurePanelNodesExpandedState(Object(HO["b"])(p["d"].document.tree,!0))}},{key:"collapseAllNodesExcept",value:function(e){var t=Object(HO["b"])(p["d"].document.tree,!1),n=Object(HO["a"])(p["d"].document.tree,e);p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},t,{},n))}},{key:"toggleNodes",value:function(){if(0===this.toggleStage)this.toggleStage=1,this.collapseAllNodes();else if(1===this.toggleStage)this.expandAllNodes(),this.toggleStage=2;else if(p["g"].activeElementId){var e=Object(Re["r"])(p["d"].document.tree,p["g"].activeElementId);if(e&&(null===e||void 0===e?void 0:e.id)===Re["a"])return this.collapseAllNodes(),void(this.toggleStage=1);this.collapseAllNodesExcept(p["g"].activeElementId),this.toggleStage=0}else this.collapseAllNodes(),this.toggleStage=1}},{key:"beforeDestroy",value:function(){this.unsubscribeFromActivateElementMutation&&this.unsubscribeFromActivateElementMutation()}},{key:"toggleAdd",value:function(){Object(J["i"])("add")}},{key:"classList",get:function(){return{"structure-panel-content-wrapper":!0,"is-draggable":this.hasPermission,"drag-in-progress":p["g"].isCanvasElementBeingDragged,"force-grabbing-cursor":this.forceGrabbingCursor}}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"rootElement",get:function(){return p["d"].document.tree.root}},{key:"hasPermission",get:function(){return p["g"].hasFullAccess}},{key:"ROOT_ELEMENT_ID",get:function(){return Re["a"]}}]),a}(d["g"]);Object(u["a"])([Object(d["f"])()],ak.prototype,"panelHeader",void 0),ak=Object(u["a"])([Object(d["a"])({components:{StructureContextMenu:nk["a"],PanelHeader:Ig,StandardButton:Ga}})],ak);var ik=ak,rk=ik,ok=(n("a292"),Object(ie["a"])(rk,FO,MO,!1,null,null,null)),sk=ok.exports,lk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll"},[n("PanelHeader",{ref:"panelHeader",staticClass:"breakdance-history-and-revisions-panel__header",on:{close:e.close}},[e._v(" History ")]),e.disableRevisions?e._e():n("TabsRow",[n("Tab",{attrs:{value:e.tab,id:"history"},on:{input:function(t){e.tab=t}}},[e._v(" History ")]),n("Tab",{attrs:{value:e.tab,id:"revisions"},on:{input:function(t){e.tab=t}}},[e._v(" Revisions ")])],1),"history"===e.tab?n("History",{on:{scrollToActiveEl:e.scrollToActiveElement}}):"revisions"===e.tab?n("Revisions"):e._e()],1)},ck=[],uk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snapshots-list"},e._l(e.snapshots,(function(t,a){return n("SnapshotItem",{key:e.snapshots.length-1-a,attrs:{"data-snapshot-index":e.snapshots.length-1-a,snapshot:t,selected:e.currentIndex===e.snapshots.length-1-a},on:{click:function(t){return e.onSnapshotSelected(e.snapshots.length-1-a)}}})})),1)},dk=[],pk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snapshots-item",class:{"snapshots-item--selected":e.selected},attrs:{"data-test-id":"snapshots-item"},on:{click:function(t){return e.$emit("click",e.snapshot)}}},[n("span",{staticClass:"snapshots-item__title"},[e._v(e._s(e.snapshot.title))])])},vk=[],hk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(d["g"]);Object(u["a"])([Object(d["d"])({default:function(){return{}}})],hk.prototype,"snapshot",void 0),Object(u["a"])([Object(d["d"])({default:!1})],hk.prototype,"selected",void 0),hk=Object(u["a"])([Object(d["a"])({})],hk);var mk=hk,fk=mk,bk=(n("f548"),Object(ie["a"])(fk,pk,vk,!1,null,null,null)),gk=bk.exports,yk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"onSnapshotSelected",value:function(e){St["g"].setCurrentSnapshotIndex(e),de["a"].setStoreFromCurrentSnapshot()}},{key:"close",value:function(){Object(J["b"])("history")}},{key:"handleCurrentIndexChange",value:function(){this.scrollToActiveSnapshotElement()}},{key:"scrollToActiveSnapshotElement",value:function(){var e=this;d["g"].nextTick((function(){var t=e.$el.querySelector('[data-snapshot-index="'.concat(e.currentIndex,'"]'));t&&e.$emit("scrollToActiveEl",t)}))}},{key:"snapshots",get:function(){return Object(k["a"])(St["g"].snapshots).reverse()}},{key:"currentIndex",get:function(){return St["g"].index}}]),n}(d["g"]);Object(u["a"])([Object(d["h"])("currentIndex",{immediate:!0})],yk.prototype,"handleCurrentIndexChange",null),yk=Object(u["a"])([Object(d["a"])({components:{PanelHeader:Ig,SnapshotItem:gk}})],yk);var Ok=yk,kk=Ok,jk=(n("f3b1"),Object(ie["a"])(kk,uk,dk,!1,null,null,null)),Sk=jk.exports,Ck=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"revisions-panel"},[n("RevisionsList",{attrs:{"is-loading":e.loading,revisions:e.revisionUiItems,"revisions-not-supported-message":e.revisionsNotSupportedMessage},on:{revisionSelected:e.onRevisionSelected}})],1)},xk=[],wk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e.selectedRevisionIndex=0,e.unsubscribeFromStore=function(){},e.revisionsNotSupportedMessage=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.fetchRemoteRevisions();case 3:if(t=e.sent,this.loading=!1,t){e.next=7;break}return e.abrupt("return");case 7:St["h"].setRevisionsData({revisions:t,currentUnsavedRevision:this.getCurrentUnsavedRevision(t)}),this.setActiveRevision(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var t=Object(By["c"])(e);"document"===t&&"document/loadRevision"!==e.type&&(St["h"].setRevisionsData({revisions:St["h"].revisionsData.revisions,currentUnsavedRevision:n.getCurrentUnsavedRevision(St["h"].revisionsData.revisions)}),n.setActiveRevision())}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){this.unsubscribeFromStore()}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(St["h"].unsavedChangesPresent){e.next=6;break}return e.next=3,this.fetchRemoteRevisions();case 3:t=e.sent,t&&St["h"].setRevisionsData({revisions:t,currentUnsavedRevision:null}),this.setActiveRevision();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActiveRevision",value:function(){var e=this.getActiveRevisionIndex(St["h"].revisionsData.revisions);-1!==e?(this.selectedRevisionIndex=St["h"].revisionsData.currentUnsavedRevision?e+1:e,this.scrollToActiveRevision("smooth")):(this.selectedRevisionIndex=0,this.scrollToActiveRevision("auto"))}},{key:"getActiveRevisionIndex",value:function(e){var t=this;return e.findIndex((function(e){return Object(Re["y"])(e.tree,t.currentTree)}))}},{key:"getCurrentUnsavedRevision",value:function(e){var t,n=this.getActiveRevisionIndex(e);if(-1===n)return{id:-1,author:!1,date:"Current",tree:this.currentTree};var a=0===n&&St["h"].revisionsData.currentUnsavedRevision&&Object(Re["y"])(e[n].tree,null===(t=St["h"].revisionsData.currentUnsavedRevision)||void 0===t?void 0:t.tree);return a?null:St["h"].revisionsData.currentUnsavedRevision}},{key:"fetchRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=X["pipe"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_revisions",decoder:gy,dataToPost:{id:St["c"].document.documentMeta.id}});case 3:return e.t1=e.sent,e.t2=Object(Y["fold"])((function(e){return Object(ji["e"])(e),null}),(function(e){return"unsupported"in e?(t.revisionsNotSupportedMessage=e.unsupported,null):e.revisions})),e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onRevisionSelected",value:function(e,t){var n=this.revisions.find((function(t){return t.id===e.revisionData.id}));n&&(this.selectedRevisionIndex=t,St["h"].activateElement(null),St["h"].setInterfaceState("loading"),St["c"].loadRevision(n),St["h"].setInterfaceState("normal"))}},{key:"scrollToActiveRevision",value:function(e){Object(ot["a"])((function(){var t;return null===(t=document.querySelector(".revisions-panel .revisions-item--selected"))||void 0===t?void 0:t.scrollIntoView({behavior:e,block:"center"})}))}},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{revisionData:t,isSelected:e.selectedRevisionIndex===n}}))}},{key:"revisions",get:function(){return St["h"].revisionsData.currentUnsavedRevision?[St["h"].revisionsData.currentUnsavedRevision].concat(Object(k["a"])(St["h"].revisionsData.revisions)):St["h"].revisionsData.revisions}},{key:"currentTree",get:function(){return Object(Re["k"])(St["c"].document.tree)}},{key:"unsavedChangesPresent",get:function(){return St["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],wk.prototype,"updateRevisionsAfterSaving",null),wk=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Ry,RevisionItem:_y,PanelHeader:Ig}})],wk);var Pk=wk,Ek=Pk,_k=(n("8aee"),Object(ie["a"])(Ek,Ck,xk,!1,null,null,null)),Ik=_k.exports,Dk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab="history",e}return Object(s["a"])(n,[{key:"close",value:function(){Object(J["b"])("history")}},{key:"scrollToActiveElement",value:function(e){Object(J["h"])(this.$el,this.panelHeader.$el,e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Dk.prototype,"disableRevisions",void 0),Object(u["a"])([Object(d["f"])()],Dk.prototype,"panelHeader",void 0),Dk=Object(u["a"])([Object(d["a"])({components:{Revisions:Ik,History:Sk,PanelHeader:Ig,TabsRow:bf,Tab:uf}})],Dk);var Tk=Dk,Ak=Tk,Rk=(n("327a"),Object(ie["a"])(Ak,lk,ck,!1,null,null,null)),Bk=Rk.exports,Fk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList},[e._t("default")],2)},Mk=[],Vk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){return"closed"===this.panelState?{}:{width288:!0,"vscroll-wrap":!0,borderOnLeft:"right"===this.position,borderOnRight:"left"===this.position,"breakdance-app-left-area":"left"===this.position,"breakdance-app-right-area":"right"===this.position}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vk.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],Vk.prototype,"panelState",void 0),Vk=Object(u["a"])([d["a"]],Vk);var Wk=Vk,Lk=Wk,Nk=(n("955a7"),Object(ie["a"])(Lk,Fk,Mk,!1,null,null,null)),Uk=Nk.exports,$k=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.reactivePanelContext={state:e.panelState,position:e.position},e.panelContext=e.reactivePanelContext,e}return Object(s["a"])(n,[{key:"updatePanelContext",value:function(){this.reactivePanelContext.state=this.panelState}},{key:"activeElementId",get:function(){return p["g"].activeElementId}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],$k.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],$k.prototype,"panelState",void 0),Object(u["a"])([Object(d["h"])("panelState")],$k.prototype,"updatePanelContext",null),Object(u["a"])([Object(d["e"])("panelContext")],$k.prototype,"panelContext",void 0),$k=Object(u["a"])([Object(d["a"])({components:{AppLayoutBodyPanelArea:Uk,HistoryAndRevisionsPanel:Bk,StructurePanel:sk,ElementPropertiesPanel:kb,Add:Bg,GlobalSettingsPanel:Gy,SelectorsPanel:BO}})],$k);var Hk=$k,zk=Hk,Gk=Object(ie["a"])(zk,ym,Om,!1,null,null,null),qk=Gk.exports,Kk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-app-wrapper"},[n("div",{staticClass:"breakdance-top-bar-wrapper"},[e._t("topbar")],2),n("div",{staticClass:"breakdance-app-body-wrapper"},[e._t("body")],2)])},Xk=[],Yk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Yk=Object(u["a"])([d["a"]],Yk);var Qk=Yk,Zk=Qk,Jk=(n("4f37"),Object(ie["a"])(Zk,Kk,Xk,!1,null,null,null)),ej=Jk.exports,tj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.closingConfirmations,(function(t,a){return n("ConfirmDialog",{key:a,attrs:{type:t.type,"save-is-enabled":!t.chosenOption,"save-is-in-progress":t.isSaving,"discard-is-enabled":!t.chosenOption,"discard-is-in-progress":t.isDiscarding,"has-cancel":t.hasCancel,"has-discard":t.hasDiscard,"action-text":t.actionText,show:t.show},on:{discard:function(t){return e.markClosingConfirmationAs(a,"discard")},save:function(t){return e.markClosingConfirmationAs(a,"save")},cancel:function(t){return e.hideClosingConfirmation(a)},"click:outside":function(t){return e.hideClosingConfirmation(a)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.title)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(t.text))]},proxy:!0}],null,!0)})})),1)},nj=[],aj=(n("c1f9"),function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"markClosingConfirmationAs",value:function(e,t){St["h"].chooseOptionForClosingConfirmation({subject:e,chosenOption:t})}},{key:"hideClosingConfirmation",value:function(e){St["h"].hideClosingConfirmation(e)}},{key:"closingConfirmations",get:function(){return Object.fromEntries(Object.entries(St["h"].closingConfirmations).filter((function(e){var t=Object(Oc["a"])(e,2),n=t[1];return n&&n.show})))}}]),n}(d["g"]));aj=Object(u["a"])([Object(d["a"])({components:{ConfirmDialog:Vo}})],aj);var ij=aj,rj=ij,oj=Object(ie["a"])(rj,tj,nj,!1,null,null,null),sj=oj.exports,lj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" This post can't be edited directly. ")]},proxy:!0},{key:"text",fn:function(){return[e.templateName?[n("p",[e._v(" This post is rendered with "+e._s(e.templateIsFallback?"Breakdance's internal":"the")+' "'),n("em",[e._v(e._s(e.decodedTemplateName))]),e._v('" template. ')])]:[n("p",[e._v(" This post is rendered with a "+e._s(e.templateIsFallback?"Breakdance's internal":"")+" template. ")])],e.templateIsFallback?n("p",[e._v(" Please create your own template. ")]):n("p",[e._v(" The template does not contain a "),n("em",[e._v("Template Content Area")]),e._v(" element. Therefore, the posts it applies to are not editable in Breakdance. ")])]},proxy:!0},{key:"actions",fn:function(){return[e.templateIsFallback&&e.templatesPageUrl?n("v-btn",{attrs:{text:"",href:e.templatesPageUrl}},[e._v("Templates page")]):e.templateIsFallback?e._e():n("v-btn",{attrs:{text:"",href:e.templateUrl}},[e._v("Edit Template")]),n("v-btn",{attrs:{dark:"",color:"blue",href:e.backToAdmin}},[e._v(" Go back ")])]},proxy:!0}])})},cj=[],uj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"decodedTemplateName",get:function(){var e=document.createElement("textarea");return e.innerHTML=this.templateName,e.value}},{key:"templateUrl",get:function(){return Object(ur["a"])(this.templateId)}},{key:"backToAdmin",get:function(){var e;return St["b"].documentSpecificNeededUrls&&null!==(e=St["b"].documentSpecificNeededUrls.backToWordPressUrl)&&void 0!==e?e:""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],uj.prototype,"templateName",void 0),Object(u["a"])([Object(d["d"])()],uj.prototype,"templateId",void 0),Object(u["a"])([Object(d["d"])()],uj.prototype,"templateIsFallback",void 0),Object(u["a"])([Object(d["d"])()],uj.prototype,"templatesPageUrl",void 0),uj=Object(u["a"])([Object(d["a"])({components:{Dialog:ia["a"]}})],uj);var dj=uj,pj=dj,vj=Object(ie["a"])(pj,lj,cj,!1,null,null,null),hj=vj.exports;$a()(vj,{VBtn:Ha["a"]});var mj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Invalid post ")]},proxy:!0},{key:"text",fn:function(){return["post_does_not_exist"===e.invalidPostData.errorType?n("div",[e._v(" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. ")]):e._e(),"post_is_in_trash"===e.invalidPostData.errorType?n("div",[e._v(" You can't edit this item because it is in the Trash. Please restore it and try again. ")]):e._e(),"post_type_is_banned"===e.invalidPostData.errorType?n("div",[e.invalidPostData.postType?[e._v(" Posts with post type "),n("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" can't be edited with Breakdance directly. Please use a "),n("b",[e._v("Breakdance Template")]),e._v(" instead. ")]:[e._v(" The requested post can't be edited with Breakdance. ")]],2):e._e(),"post_type_is_restricted"===e.invalidPostData.errorType?n("div",[e._v(" You don't have enough permissions to edit "),n("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" post type. ")]):e._e()]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{attrs:{dark:"",color:"blue",href:e.invalidPostData.backToAdminUrl}},[e._v(" Back to WordPress admin ")])]},proxy:!0}])})},fj=[],bj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"invalidPostData",get:function(){return St["b"].invalidPostData}}]),n}(a["a"]);bj=Object(u["a"])([Object(d["a"])({components:{Dialog:ia["a"]}})],bj);var gj=bj,yj=gj,Oj=Object(ie["a"])(yj,mj,fj,!1,null,null,null),kj=Oj.exports;$a()(Oj,{VBtn:Ha["a"]});var jj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.showTemplateDialog=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){p["g"].hasFullAccess&&wi().register()}},{key:"beforeDestroy",value:function(){wi().unbind(),Object(Gn["f"])().unbind()}},{key:"updatePreferencesModal",value:function(e){p["g"].setPreferencesModalOpen(e)}},{key:"updateKeyboardShortcutsHelpModal",value:function(e){p["g"].setKeyboardShortcutHelpModalOpen(e)}},{key:"onIframeLoaded",value:function(){requestIdleCallback((function(){Object(ur["d"])()})),this.isRenderedWithTemplate&&!this.containsTemplateContentArea&&(this.showTemplateDialog=!0),Object(Gn["f"])().register()}},{key:"getTemplateAttribute",value:function(e){var t,n,a;if(!this.isRenderedWithTemplate)return null;var i=null===(t=window.Breakdance)||void 0===t||null===(n=t.canvas)||void 0===n||null===(a=n.document)||void 0===a?void 0:a.querySelector("[data-rendered-with-template]");return null===i||void 0===i?void 0:i.getAttribute(e)}},{key:"classList",get:function(){return["has-permission:".concat(this.permission)]}},{key:"preferencesModalOpen",get:function(){return p["g"].panelState.preferencesModalOpen}},{key:"elementStudioOpen",get:function(){return p["g"].panelState.elementStudioOpen}},{key:"keyboardShortcutsHelpModalOpen",get:function(){return p["g"].panelState.keyboardShortcutsHelpModalOpen}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"leftSidebarPanelState",get:function(){return p["g"].panelState.leftSidebarPanel}},{key:"rightSidebarPanelState",get:function(){return p["g"].panelState.rightSidebarPanel}},{key:"permission",get:function(){var e;return null===(e=p["b"].permission)||void 0===e?void 0:e.slug}},{key:"showInvalidPostDialog",get:function(){return!!p["b"].invalidPostData}},{key:"isRenderedWithTemplate",get:function(){var e,t,n;return null!==(null===(e=window.Breakdance)||void 0===e||null===(t=e.canvas)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.querySelector("[data-rendered-with-template]"))}},{key:"templateName",get:function(){var e;return null!==(e=this.getTemplateAttribute("data-template-name"))&&void 0!==e?e:""}},{key:"templateId",get:function(){var e=this.getTemplateAttribute("data-template-id");return e?parseInt(e):null}},{key:"isTemplateFallback",get:function(){return"true"===this.getTemplateAttribute("data-template-is-fallback")}},{key:"templatesPageUrl",get:function(){return this.getTemplateAttribute("data-template-page-url")}},{key:"containsTemplateContentArea",get:function(){var e,t,n;return null!==(null===(e=window.Breakdance)||void 0===e||null===(t=e.canvas)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.querySelector(".bde-themeless-template-content-area"))}}]),n}(a["a"]);jj=Object(u["a"])([Object(d["a"])({components:{DesignLibraryModal:Sg,InvalidPostDialog:kj,TemplateDialog:hj,ClosingConfirmations:sj,IframeCanvas:bi,BuilderTopBar:yo,PreferencesModal:Dl,ElementStudio:gm,KeyboardShortcutsHelpModal:Vl,SidebarPanels:qk,ConfirmDialog:Vo,AppLayout:ej}})],jj);var Sj=jj,Cj=Sj,xj=(n("09c2"),Object(ie["a"])(Cj,b,g,!1,null,null,null)),wj=xj.exports,Pj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Unrecoverable Errors")]),e._l(e.errors,(function(t,a){return n("div",{key:a,staticClass:"unrecoverable-errors"},[e._v(" "+e._s(t)+" ")])}))],2)},Ej=[],_j=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"errors",get:function(){return p["g"].unrecoverableErrorMessages}}]),n}(a["a"]);_j=Object(u["a"])([d["a"]],_j);var Ij=_j,Dj=Ij,Tj=(n("b06e"),Object(ie["a"])(Dj,Pj,Ej,!1,null,null,null)),Aj=Tj.exports,Rj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("builder"!==window.Breakdance.initialMode){e.next=5;break}return e.next=3,Object(ur["f"])(window.Breakdance.initialDocumentToLoadId);case 3:t=e.sent,Object(ur["c"])(t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCurrentDocumentChange",value:function(e){var t=["Breakdance"];e!==By["b"]&&t.push(p["d"].document.documentMeta.titleLabel),window.document.title=t.join(" | ")}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestClosingConfirmation():this.removeClosingConfirmation()}},{key:"requestClosingConfirmation",value:function(){p["g"].requestClosingConfirmation({subject:"builder",confirmationDefinition:{title:"You must save your changes first",actionText:"Save and continue",type:"warning",hasCancel:!0,hasDiscard:!1}})}},{key:"removeClosingConfirmation",value:function(){p["g"].noClosingConfirmationIsNeededFor("builder")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=5;break}this.removeClosingConfirmation(),Object(Lg["b"])(),e.next=13;break;case 5:if("save"!==t){e.next=13;break}return p["g"].setClosingConfirmationIsSaving({subject:"builder",isSaving:!0}),e.t0=X["pipe"],e.next=10,Si();case 10:e.t1=e.sent,e.t2=Object(Y["fold"])((function(){p["g"].setClosingConfirmationIsSaving({subject:"builder",isSaving:!1})}),(function(){n.removeClosingConfirmation(),Object(Lg["b"])()})),(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"interfaceState",get:function(){return p["g"].interfaceState}},{key:"errorsPresent",get:function(){return p["g"].unrecoverableErrorMessages.length}},{key:"currentDocumentMetaId",get:function(){return p["d"].document.documentMeta.id}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=p["g"].closingConfirmations.builder)||void 0===e?void 0:e.chosenOption}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("currentDocumentMetaId",{immediate:!0})],Rj.prototype,"handleCurrentDocumentChange",null),Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],Rj.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],Rj.prototype,"handleConfirmationChosenOptionChange",null),Rj=Object(u["a"])([Object(d["a"])({components:{BuilderLayout:wj,Loading:ii["a"],UnrecoverableErrors:Aj}})],Rj);var Bj=Rj,Fj=Bj,Mj=Object(ie["a"])(Fj,h,m,!1,null,null,null),Vj=Mj.exports,Wj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["normal"===e.interfaceState?n("AppLayout",{scopedSlots:e._u([{key:"topbar",fn:function(){return[n("TopBar",[n("UpgradeToPro"),n("TopBarSection",[n("div",{staticClass:"browse-mode-address-bar"},[n("h2",[e._v("Viewing Page")]),n("a",{staticClass:"ellipsis-text breakdance-browse-mode__url-to-display",attrs:{title:e.iframeUrlToDisplay,href:e.iframeUrlToDisplay,target:"_blank"}},[e._v(" "+e._s(e.iframeUrlToDisplay)+" ")])])]),n("v-spacer"),n("TopBarSection",{attrs:{"border-left":"true","border-right":"true"}},[n("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),n("v-spacer"),n("UndoRedo"),n("TopBarSection",{attrs:{"border-left":"true"}},[n("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{active:e.isAnyBrowseModeSupportedPanelOpen,size:"18",icon:"EllipsisStrokeIcon"}},a))]}}],null,!1,2694485179)},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.toggleGlobalSettingsPanel}},[n("v-list-item-title",[e._v(" Global Settings ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.toggleSelectorsPanel}},[n("v-list-item-title",[e._v(" Selectors ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.toggleHistoryAndRevisionsPanel}},[n("v-list-item-title",[e._v(" History ")])],1)],1)],1)],1),n("TopBarSection",{attrs:{borderLeft:!0}},[n("BrowseModeSave")],1),n("TopBarSection",{attrs:{"border-left":"true"}},[n("IconButton",{attrs:{icon:"ArrowLeftIcon",size:"18"},on:{click:e.exitBrowseMode}})],1)],1)]},proxy:!0},{key:"body",fn:function(){return[n("ClosingConfirmations"),n("BrowseModeSidebarPanels",{attrs:{"panel-state":e.leftSidebarPanelState,position:"left"}}),n("IframeWrapper",{attrs:{"iframe-state":e.iframeState,"iframe-url":e.iframeUrl,"iframe-preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,"iframe-exited":!1,"iframe-id":e.iframeID,"min-width":e.iframeMinWidth},on:{iframeLoaded:e.handleIframeLoaded,previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,resetPreviewWidth:e.handleResetPreviewWidth}}),n("BrowseModeSidebarPanels",{attrs:{"panel-state":e.rightSidebarPanelState,position:"right"}})]},proxy:!0}],null,!1,1273621828)}):"loading"===e.interfaceState?n("Loading"):e._e()],1)},Lj=[],Nj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},["globalSettings"===e.panelState?n("GlobalSettingsPanel"):e._e(),"selectors"===e.panelState?n("SelectorsPanel"):e._e(),"history"===e.panelState?n("HistoryAndRevisionsPanel",{attrs:{"disable-revisions":!0}}):e._e()],1)},Uj=[],$j=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],$j.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],$j.prototype,"panelState",void 0),$j=Object(u["a"])([Object(d["a"])({components:{HistoryAndRevisionsPanel:Bk,AppLayoutBodyPanelArea:Uk,GlobalSettingsPanel:Gy,SelectorsPanel:BO}})],$j);var Hj=$j,zj=Hj,Gj=Object(ie["a"])(zj,Nj,Uj,!1,null,null,null),qj=Gj.exports,Kj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80"},on:{click:e.save}},[e._v(" Save ")])},Xj=[],Yj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.next=3,Object(Ny["b"])();case 3:return e.next=5,Object(eO["f"])();case 5:this.saveInProgress=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){_a["b"].register(xi.CMD_S,this.save)}},{key:"beforeDestroy",value:function(){_a["b"].unbind(xi.CMD_S)}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}}]),n}(a["a"]);Yj=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ga}})],Yj);var Qj=Yj,Zj=Qj,Jj=Object(ie["a"])(Zj,Kj,Xj,!1,null,null,null),eS=Jj.exports,tS=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeID="breakdance-browser-iframe",e.iframeDocument=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("browse"!==window.Breakdance.initialMode){e.next=5;break}return e.next=3,Object(ur["e"])();case 3:t=e.sent,Object(ur["b"])(t,{returnUrl:window.Breakdance.returnUrl,browseModeOpenUrl:window.Breakdance.browseModeOpenUrl});case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.warnIfUnsavedFunction=Object(Pi["b"])((function(){return p["e"].settingsHasUnsavedChangesPresent||p["e"].selectorsHasUnsavedChangesPresent}))}},{key:"beforeDestroy",value:function(){Object(Pi["a"])(this.warnIfUnsavedFunction)}},{key:"handleIframeLoaded",value:function(e){if(!e)throw this.iframeDocument=null,"Unable to proceed  iframe element is missing";this.iframeDocument=Object(Lg["c"])(e)}},{key:"handlePreviewWidthChange",value:function(e){p["g"].changePreviewWidthMutation(e)}},{key:"handlePreviewWidthChangeWithAdjustmentBar",value:function(e){p["g"].changePreviewWidthWithAdjustmentBar(e)}},{key:"handleResetPreviewWidth",value:function(){p["g"].selectBaseBreakpoint()}},{key:"exitBrowseMode",value:function(){Object(Lg["a"])()}},{key:"toggleGlobalSettingsPanel",value:function(){Object(J["i"])("globalSettings")}},{key:"toggleSelectorsPanel",value:function(){Object(J["i"])("selectors")}},{key:"toggleHistoryAndRevisionsPanel",value:function(){Object(J["e"])("history")}},{key:"handleCurrentDocumentChange",value:function(){Object(Lg["f"])()}},{key:"onGlobalSettingsChanged",value:function(){this.iframeDocument&&Object(ka["b"])(this.iframeDocument)}},{key:"onSelectorsChanged",value:function(){this.iframeDocument&&Object(ka["a"])(this.iframeDocument)}},{key:"interfaceState",get:function(){return p["g"].interfaceState}},{key:"iframeUrl",get:function(){return p["a"].iframeUrl}},{key:"iframeState",get:function(){return p["a"].iframeState}},{key:"iframeDocumentTitleToDisplay",get:function(){return p["a"].iframeDocumentTitleToDisplay}},{key:"iframeUrlToDisplay",get:function(){return p["a"].iframeUrlToDisplay}},{key:"iframePreviewWidth",get:function(){return p["g"].canvasPreviewWidth}},{key:"iframeMinWidth",get:function(){return Object(zt["g"])(p["e"])}},{key:"leftSidebarPanelState",get:function(){return p["g"].panelState.leftSidebarPanel}},{key:"rightSidebarPanelState",get:function(){return p["g"].panelState.rightSidebarPanel}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"selectors",get:function(){return p["e"].cssSelectors}},{key:"isAnyBrowseModeSupportedPanelOpen",get:function(){return Object(J["d"])("globalSettings")||Object(J["d"])("selectors")||Object(J["d"])("history")}},{key:"currentBreakpoint",get:function(){return p["g"].currentBreakpoint},set:function(e){p["g"].changeBreakpoint(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("iframeDocumentTitleToDisplay",{immediate:!0})],tS.prototype,"handleCurrentDocumentChange",null),Object(u["a"])([Object(d["h"])("globalSettings",{deep:!0,immediate:!0})],tS.prototype,"onGlobalSettingsChanged",null),Object(u["a"])([Object(d["h"])("selectors",{deep:!0,immediate:!0})],tS.prototype,"onSelectorsChanged",null),tS=Object(u["a"])([Object(d["a"])({components:{UpgradeToPro:vo,UndoRedo:ir,BrowseModeSave:eS,BrowseModeSidebarPanels:qj,BreakpointsSelection:Hi,Icon:ee["a"],StandardButton:Ga,IframeWrapper:pi,TopBarSection:Ji,AppLayoutBodyPanelArea:Uk,TopBar:ao,AppLayout:ej,IconButton:Bi["a"],ClosingConfirmations:sj,Dropdown:Fi["a"],Loading:ii["a"]}})],tS);var nS=tS,aS=nS,iS=(n("ae15"),Object(ie["a"])(aS,Wj,Lj,!1,null,null,null)),rS=iS.exports;$a()(iS,{VList:Li["a"],VListItem:Ni["a"],VListItemTitle:Ui["c"],VSpacer:bo["a"]});var oS=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"beforeMount",value:function(){p["g"].setMode(window.Breakdance.initialMode)}},{key:"darkModeWatcher",value:function(e){this.$vuetify.theme.dark=e}},{key:"isBrowseModeEnabled",get:function(){return"browse"===p["g"].mode}},{key:"useDarkMode",get:function(){return"dark"===p["g"].settings.theme}},{key:"classList",get:function(){return{"breakdance-dark-mode":this.useDarkMode}}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("useDarkMode",{immediate:!0})],oS.prototype,"darkModeWatcher",null),oS=Object(u["a"])([Object(d["a"])({components:{BrowseMode:rS,Builder:Vj,Notifications:v["a"]}})],oS);var sS=oS,lS=sS,cS=(n("5c0b"),n("7496")),uS=Object(ie["a"])(lS,i,r,!1,null,null,null),dS=uS.exports;$a()(uS,{VApp:cS["a"]});var pS=n("3003"),vS=n("c6a3");a["a"].config.productionTip=!1,a["a"].config.ignoredElements=["lite-vimeo","lite-youtube"],a["a"].use(pS["a"]),a["a"].directive("permission",vS["a"]),new a["a"]({store:p["c"],vuetify:Ka["a"],render:function(e){return e(dS)}}).$mount("#app")},cdd0:function(e,t,n){},cef0:function(e,t,n){"use strict";var a=n("535e"),i=n.n(a);i.a},d55e:function(e,t,n){"use strict";var a=n("1fb7"),i=n.n(a);i.a},d899:function(e,t,n){"use strict";var a=n("1319"),i=n.n(a);i.a},db2c:function(e,t,n){},dbcf:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save as Global Block ")]},proxy:!0},{key:"text",fn:function(){return[n("TextInput",{attrs:{size:"md",placeholder:"Global Block"},model:{value:e.globalBlockName,callback:function(t){e.globalBlockName=t},expression:"globalBlockName"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue",dark:"",disabled:!e.globalBlockName},on:{click:e.saveAsGlobalBlock}},[e._v(" Save ")])]},proxy:!0}])})},i=[],r=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=n("f9f0"),p=n("2b0e"),v=n("60a3"),h=n("2961"),m=n("24fc"),f=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.globalBlockName="",e}return Object(s["a"])(n,[{key:"saveAsGlobalBlock",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.globalBlockName){e.next=3;break}return e.abrupt("return");case 3:if(!this.elementId){e.next=6;break}return e.next=6,Object(d["b"])(this.elementId,this.globalBlockName);case 6:this.globalBlockName="",this.$emit("close");case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p["a"]);Object(u["a"])([Object(v["d"])({required:!0})],f.prototype,"elementId",void 0),f=Object(u["a"])([Object(v["a"])({components:{Dialog:h["a"],TextInput:m["a"]}})],f);var b=f,g=b,y=n("2877"),O=n("6544"),k=n.n(O),j=n("8336"),S=Object(y["a"])(g,a,i,!1,null,null,null);t["a"]=S.exports;k()(S,{VBtn:j["a"]})},dc3b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"mb-1"},[e._v("Default Properties")]),n("v-btn",{staticClass:"mr-2",attrs:{small:"",text:"",disabled:!e.canImport,outlined:""},on:{click:e.importDefaultProperties}},[e._v("import")]),e.value?n("v-btn",{attrs:{color:"red darken-1",text:"",small:"",outlined:""},on:{click:e.clearDefaultProperties}},[e._v("clear")]):e._e(),n("div",{staticClass:"element-studio-default-properties-instructions"},[e._v(" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a "),n("b",[e._v(e._s(e.elementSlug))]),e._v(". ")]),n("h5",[e._v("Current Default Properties")]),n("pre",{staticClass:"element-studio-default-properties-preview"},[e._v(e._s(e.value))]),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Set Default Properties ")]),n("v-card-text",[e._v(" Set default properties for "+e._s(e.elementSlug)+" to:"),n("br"),n("br"),e._v(" "+e._s(e.defaultProperties)+" ")]),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.cancel}},[e._v(" cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.confirmDefaultProperties}},[e._v(" confirm ")])],1)],1)],1)],1)},i=[],r=n("d4ec"),o=n("bee2"),s=n("2caf"),l=n("262e"),c=n("9ab4"),u=n("2b0e"),d=n("60a3"),p=n("b850"),v=n("bedf"),h=function(e){Object(l["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.dialogOpen=!1,e.defaultProperties=e.value,e}return Object(o["a"])(n,[{key:"cancel",value:function(){this.dialogOpen=!1}},{key:"importDefaultProperties",value:function(){if(p["g"].activeElement&&p["g"].activeElement.data.type===this.elementSlug){var e=Object(v["a"])(p["g"].activeElement.data.properties);e&&("settings"in e&&delete e.settings,"meta"in e&&delete e.meta),this.defaultProperties=e,this.dialogOpen=!0}}},{key:"confirmDefaultProperties",value:function(){this.dialogOpen=!1,this.$emit("input",this.defaultProperties)}},{key:"clearDefaultProperties",value:function(){confirm("are you sure?")&&this.$emit("input",!1)}},{key:"canImport",get:function(){return!!p["g"].activeElement&&p["g"].activeElement.data.type===this.elementSlug}}]),n}(u["a"]);Object(c["a"])([Object(d["d"])()],h.prototype,"value",void 0),Object(c["a"])([Object(d["d"])()],h.prototype,"elementSlug",void 0),h=Object(c["a"])([Object(d["a"])({components:{}})],h);var m=h,f=m,b=(n("467f"),n("2877")),g=n("6544"),y=n.n(g),O=n("8336"),k=n("b0af"),j=n("99d9"),S=n("169a"),C=n("2fa4"),x=Object(b["a"])(f,a,i,!1,null,null,null);t["a"]=x.exports;y()(x,{VBtn:O["a"],VCard:k["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:S["a"],VSpacer:C["a"]})},ddc2:function(e,t,n){"use strict";var a=n("ea81"),i=n.n(a);i.a},deb6:function(e,t,n){},e02f:function(e,t,n){},e31c:function(e,t,n){},ea43:function(e,t,n){"use strict";var a=n("3324"),i=n.n(a);i.a},ea7f:function(e,t,n){"use strict";var a=n("b55a"),i=n.n(a);i.a},ea81:function(e,t,n){},ee2e:function(e,t,n){"use strict";var a=n("e02f"),i=n.n(a);i.a},f03d:function(e,t,n){"use strict";var a=n("cdd0"),i=n.n(a);i.a},f173:function(e,t,n){},f190:function(e,t,n){"use strict";var a=n("9acc"),i=n.n(a);i.a},f346:function(e,t,n){"use strict";n.d(t,"f",(function(){return L})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return ee})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return ie}));n("99af"),n("d81d"),n("d3b7"),n("25f0"),n("96cf");var a=n("2909"),i=n("1da1"),r=n("82c6"),o=n("b850"),s=n("fb60"),l=n("3af4"),c=n("f10d"),u=n("a920"),d=n("2ef0"),p=n.n(d),v=n("bedf"),h=n("af0c"),m=n("a72c"),f=n("41c0"),b=n("a79c"),g=n("ec26"),y=n("7c4b"),O=n("9274"),k=n("34bc"),j=n("0fdf"),S=n("8fe2"),C=n("9d78"),x=n("45a4"),w=S["s"]({source:S["r"],colors:C["c"],presets:S["g"](x["c"]),element:j["d"]}),P=(n("4de4"),n("7db0"),n("0481"),n("4160"),n("c975"),n("4069"),n("07ac"),n("2ca0"),n("159b"),n("5530")),E=n("1de1"),_=n("f57e");function I(e,t){var n=function t(n,a,i){var r="".concat(a,".").concat(n.slug);return e===n.options.type&&i.push(r),n.children.forEach((function(e){i=t(e,r,i)})),i},a=[];return t.controls.contentSections.forEach((function(e){a.concat(n(e,"content",a))})),t.controls.designSections.forEach((function(e){a.concat(n(e,"design",a))})),a}function D(e,t,n){var a=Object(v["a"])(e),i=_["b"].element(a.data.type),r=I("typography",i);r.forEach((function(e){var n=p.a.get(a.data.properties,"".concat(e,".preset"));if(n){var i=R(t,n);i&&p.a.set(a.data.properties,e,{custom:i.custom})}}));var o=I("color",i),s=function(e,t){var i=F(n,t);i&&p.a.set(a.data.properties,e,i.value)};return o.forEach((function(e){var t=p.a.get(a.data.properties,e);if(t)if(p.a.isObject(t))for(var n in t)s("".concat(e,".").concat(n),t[n]);else s(e,t)})),a}function T(e){var t=function t(n){var a=D(n,e.presets,e.colors),i=n.children.map(t);return Object(P["a"])({},a,{children:i})};return t(e.element)}function A(e){var t=location.hostname;return{source:t,element:e,colors:[],presets:[]}}var R=function(e,t){if(!B(t))return e.find((function(e){return e.preset.id===t}))};function B(e){var t;return null===(t=_["d"].typographyPresets)||void 0===t?void 0:t.find((function(t){return t.preset.id===e}))}function F(e,t){if(!(!M(t)||M(t)&&V(t))){var n=Object(E["b"])(t);return e.find((function(e){return e.cssVariableName===n}))}}function M(e){return"string"===typeof e&&e.startsWith("var(")}function V(e){var t=Object(E["b"])(e);return _["d"].globalColors.find((function(e){return e.cssVariableName===t}))}var W=new y["a"];function L(){return{register:function(){W.on("copy",N),W.on("cut",N),W.on("paste",N)},unbind:function(){W.removeAll()}}}function N(e){var t=window.Breakdance.canvas.document,n=Object(O["a"])(t)||Object(O["a"])(document);n||(e.preventDefault(),"copy"===e.type&&o["g"].activeElementId?Y(o["g"].activeElementId):"cut"===e.type&&o["g"].activeElementId?Q(o["g"].activeElementId):"paste"===e.type&&Z(o["g"].activeElementId,e))}function U(e){return $.apply(this,arguments)}function $(){return $=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["c"])();case 2:if(n=e.sent,a=n.secure,i=n.permission,!t||window.safari){e.next=7;break}return e.abrupt("return","event");case 7:if(a){e.next=9;break}return e.abrupt("return","localstorage");case 9:if("denied"!==i.state){e.next=11;break}return e.abrupt("return","localstorage");case 11:return e.abrupt("return","clipboard");case 12:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function H(e){return z.apply(this,arguments)}function z(){return z=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:console.debug("Writing to clipboard"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),Object(O["b"])(t),console.debug("Fallback: Writing to clipboard");case 10:Object(k["b"])("breakdance_copied_element_json_string",t);case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))),z.apply(this,arguments)}function G(e){return q.apply(this,arguments)}function q(){return q=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null===t||void 0===t||null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text"),e.next=3,U(t);case 3:if(i=e.sent,console.debug("Reading clipboard from ".concat(i)),"event"!==i){e.next=7;break}return e.abrupt("return",a);case 7:if("localstorage"!==i){e.next=9;break}return e.abrupt("return",Object(k["a"])("breakdance_copied_element_json_string"));case 9:return e.next=11,navigator.clipboard.readText();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return X=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",null);case 5:return a=Object(h["a"])(n,w),e.abrupt("return",Object(l["pipe"])(a,Object(s["fold"])((function(){return null}),(function(e){return console.debug("Got element from clipboard",e),T(e)}))));case 7:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Y(e){var t=Object(r["m"])(o["d"].document.tree,e);if(t){var n=Object(r["j"])(t),i=A(n);Object(l["pipe"])(i,m["a"],Object(s["fold"])((function(e){var t;return(t=console).error.apply(t,["Failed to copy element"].concat(Object(a["a"])(e.map((function(e){return e.toString()})))))}),(function(e){H(e)})))}}function Q(e){Y(e),o["d"].deleteElement({nodeId:e})}function Z(e,t){return J.apply(this,arguments)}function J(){return J=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K(n);case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:i=Object(c["b"])(o["d"].document.tree,t,Object(c["f"])(a)),r=Object(g["a"])(),d="Paste:".concat(r),Object(l["pipe"])(i,Object(s["fold"])((function(){}),(function(e){"TOP_LEVEL"===e?u["a"].transaction((function(){var e={nodeId:void 0};o["d"].addElementMutation({elementSlug:Object(c["c"])(),parentNodeId:o["d"].document.tree.root.id,index:!1,pointer:e}),void 0!==e.nodeId&&(o["d"].pasteCopiedElementMutation({element:a,placeToAddId:e.nodeId,placeToAddIndex:0}),b["a"].run.onCreatedElement({elementId:a.id,transactionKey:d}))}),"Paste copied ".concat(Object(f["b"])(a.data.type)," into a new section"),d):u["a"].transaction((function(){var t={nodeId:void 0};o["d"].pasteCopiedElementMutation({element:a,placeToAddId:e.place.id,placeToAddIndex:e.index||e.place.children.length,pointer:t}),t.nodeId&&b["a"].run.onCreatedElement({elementId:t.nodeId,transactionKey:d})}),"Paste copied ".concat(Object(f["b"])(a.data.type)),d)})));case 9:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"design",e.next=3,K();case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(r["m"])(o["d"].document.tree,t),i){e.next=9;break}return e.abrupt("return");case 9:s=p.a.get(a.data.properties,n,null),a.data.type===i.data.type&&o["d"].throttledPropertyChanged({elementId:i.id,path:n,value:Object(v["a"])(s),meta:{snapshotLabel:"Paste properties of ".concat(Object(f["b"])(a.data.type)," to ").concat(Object(f["b"])(i.data.type))}});case 11:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return ae=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Object(c["b"])(o["d"].document.tree,t,Object(c["f"])(n)),e.abrupt("return",Object(s["isRight"])(a));case 7:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ie(e){return re.apply(this,arguments)}function re(){return re=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Object(r["m"])(o["d"].document.tree,t),e.abrupt("return",n.data.type===(null===a||void 0===a?void 0:a.data.type));case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}},f358:function(e,t,n){"use strict";var a=n("0780"),i=n.n(a);i.a},f3b1:function(e,t,n){"use strict";var a=n("a5ed"),i=n.n(a);i.a},f3f5:function(e,t,n){},f426:function(e,t,n){"use strict";var a=n("5fd6"),i=n.n(a);i.a},f451:function(e,t,n){"use strict";var a=n("399d"),i=n.n(a);i.a},f548:function(e,t,n){"use strict";var a=n("42fd"),i=n.n(a);i.a},f8a4:function(e,t,n){},f9bc:function(e,t,n){}});
//# sourceMappingURL=app.76f34073.js.map