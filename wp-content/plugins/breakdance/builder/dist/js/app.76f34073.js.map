{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/UI/ConfirmDialog.vue?d60b","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?7de7","webpack:///./src/components/Settings/Selectors/AddSelector.vue?a78b","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?0bcc","webpack:///./src/components/Builder/BuilderLayout.vue?6c1b","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?9bcd","webpack:///./src/components/Add/AddPanel.vue?904f","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?3e36","webpack:///./src/lib/structure-panel/expand-collapse.ts","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?2ce1","webpack:///./src/components/ElementStudio/Copyable.vue?9813","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?4849","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?20ec","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?08c9","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?bb46","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?8c2b","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?eeb7","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?4db4","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?5ce1","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?4c27","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?36da","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?bc4e","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?97f3","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?00a0","webpack:///./src/App.vue?6f9c","webpack:///./src/components/Reusable/Util/PanelHeader.vue?3e25","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?65c4","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?ec7d","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?0f9e","webpack:///./src/components/ElementStudio/ElementStudio.vue?8613","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?4067","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?3cf5","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?e6d0","webpack:///./src/components/Structure/ChildStructureNodes.vue?708e","webpack:///./src/components/Structure/StructureNode.vue?dd90","webpack:///./src/components/Structure/StructureNode.vue","webpack:///./src/components/Structure/StructureNode.vue?a797","webpack:///./src/components/Structure/StructureNode.vue?3063","webpack:///./src/components/Structure/ChildStructureNodes.vue","webpack:///./src/components/Structure/ChildStructureNodes.vue?7209","webpack:///./src/components/Structure/ChildStructureNodes.vue?f447","webpack:///./src/components/Reusable/Tabs/Tab.vue?8887","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?3611","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?71a4","webpack:///./src/components/Add/library/DesignLibraryModal.vue?d398","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?4b3d","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?f68c","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?1f0f","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?d0ac","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?e6d9","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?acc2","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?f0ba","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?b315","webpack:///./src/components/Settings/Selectors/EditSelector.vue?3adc","webpack:///./src/lib/copy-paste/utils.ts","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?f09a","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?7909","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?a1fa","webpack:///./src/components/Builder/TopBar/AddButton.vue?3a9b","webpack:///./src/components/Structure/StructurePanel.vue?28c0","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?d272","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?a661","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?9441","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?156c","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?0bae","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?06bc","webpack:///./src/BrowseMode.vue?ea33","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?efc2","webpack:///./src/util/fp-json-parse-typesafe.ts","webpack:///./src/components/UnrecoverableErrors.vue?5ad3","webpack:///./src/components/Structure/StructureContextMenu.vue?5d8c","webpack:///./src/components/Structure/StructureContextMenu.vue","webpack:///./src/components/Structure/StructureContextMenu.vue?94ba","webpack:///./src/components/Structure/StructureContextMenu.vue?943c","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?c314","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?3d70","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?043c","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?5d14","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?0f8a","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?3b3f","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?cd67","webpack:///./src/App.vue?1b55","webpack:///./src/Builder.vue?41ef","webpack:///./src/components/Builder/BuilderLayout.vue?f31a","webpack:///./src/components/Canvas/IframeCanvas.vue?abe0","webpack:///./src/components/Canvas/OverlaidUI/styles.iframecss","webpack:///./src/lib/canvas/html-to-vnodes.ts","webpack:///./src/types/assets.ts","webpack:///./src/types/server-side-render.ts","webpack:///./src/lib/server-side-render/server-side-render.ts","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?712e","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?62cc","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?3352","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?bc47","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?db7c","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?4a33","webpack:///./src/lib/server-side-render/rerun-javascripts.ts","webpack:///./src/lib/canvas/ssr-html-strings.ts","webpack:///./src/components/Canvas/BuilderElement.vue","webpack:///./src/components/Canvas/BuilderElement.vue?73e9","webpack:///./src/components/Canvas/BuilderElement.vue?983d","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?2db3","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?1eec","webpack:///./src/lib/canvas/drag/drag.ts","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?0f37","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?dc97","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?6f64","webpack:///./src/components/Canvas/OverlaidUI/DragMixin.ts","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?efe0","webpack:///./src/lib/canvas/spacing-bars.ts","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?7030","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?2c9e","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?ac9e","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?4200","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?874d","webpack:///./src/lib/columns/canvas.ts","webpack:///./src/lib/columns/drag.ts","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?bc1c","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?ffcc","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?1b19","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?1dfb","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?c152","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?a02a","webpack:///./src/lib/right-click/actions.ts","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?598c","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?3b34","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?1d99","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?ef0e","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?f7e8","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?35af","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?116d","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?d9a5","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?52a6","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?29e0","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?4b82","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?ee7e","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?da4f","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?8eaa","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?1cbb","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?198d","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?f8b5","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?3734","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?0388","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?b231","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?e59e","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?0c1d","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?3714","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?0b86","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?b90f","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?88a7","webpack:///./src/components/Canvas/Canvas.vue","webpack:///./src/components/Canvas/Canvas.vue?07ef","webpack:///./src/components/Canvas/Canvas.vue?852a","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?a69b","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?a567","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?1797","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?c4f9","webpack:///./src/components/UI/StandardButton.vue?efc5","webpack:///./src/components/UI/StandardButton.vue?c0a4","webpack:///./src/components/UI/StandardButton.vue?2004","webpack:///./src/components/UI/StandardButton.vue?0cf6","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?d987","webpack:///./src/util/css.ts","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?0ba3","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?0304","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?ee26","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?5d40","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?cab8","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?f575","webpack:///./src/components/Canvas/IframeCanvas.vue","webpack:///./src/components/Canvas/IframeCanvas.vue?ad3d","webpack:///./src/components/Canvas/IframeCanvas.vue?1169","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?3038","webpack:///./src/components/Builder/TopBar/Save.vue?8a5a","webpack:///./src/lib/wordpress/save.ts","webpack:///./src/lib/keyboard-shortcuts/global-shortcuts.ts","webpack:///./src/components/Builder/TopBar/Save.vue","webpack:///./src/components/Builder/TopBar/Save.vue?d511","webpack:///./src/components/Builder/TopBar/Save.vue?3b45","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?9753","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?38fb","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?5314","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?5885","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?9b9b","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?c802","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?1fff","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?f026","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?da96","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?47ce","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?7b29","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?0393","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?3a23","webpack:///./src/lib/dynamic-data/templates.ts","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?4727","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?6714","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?b25a","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?af11","webpack:///./src/lib/document-chooser/document-chooser.ts","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?3a8c","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?5ac4","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?9294","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?4970","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?9ece","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?607f","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?b207","webpack:///./src/components/Builder/TopBar/Exit.vue?de44","webpack:///./src/components/Builder/TopBar/Exit.vue","webpack:///./src/components/Builder/TopBar/Exit.vue?fd76","webpack:///./src/components/Builder/TopBar/Exit.vue?c571","webpack:///./src/components/Builder/TopBar/AddButton.vue?0e3b","webpack:///./src/components/Builder/TopBar/AddButton.vue?207c","webpack:///./src/components/Builder/TopBar/AddButton.vue?9fa7","webpack:///./src/components/Builder/TopBar/AddButton.vue?adf0","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?6e49","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?957d","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?2dbb","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?2b48","webpack:///./src/components/Sales/UpgradeToPro.vue?2f4b","webpack:///./src/components/Sales/UpgradeToPro.vue","webpack:///./src/components/Sales/UpgradeToPro.vue?ad50","webpack:///./src/components/Sales/UpgradeToPro.vue?5ab0","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?f908","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?6a94","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?6def","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?ea46","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?94d4","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?d3da","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?4b9f","webpack:///./src/components/UI/ConfirmDialog.vue?cf88","webpack:///./src/components/UI/ConfirmDialog.vue?25ee","webpack:///./src/components/UI/ConfirmDialog.vue?b14d","webpack:///./src/components/UI/ConfirmDialog.vue?73fd","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?cc6a","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?731e","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?3ba7","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?c60d","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?a9bf","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?c34c","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?a3f7","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?50a6","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?5b92","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?c86a","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?0377","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?097a","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?dd5f","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?3748","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?e519","webpack:///./src/lib/fonts/backend.ts","webpack:///./src/lib/fonts/utils.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?2535","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?efab","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?c72b","webpack:///./src/lib/fonts/constants.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?7bba","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?4328","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?0e40","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?8ff8","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?578c","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?cf13","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?548f","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?5279","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?962d","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?d99d","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?048e","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?2431","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?698a","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?6db5","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?7d29","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?1c9c","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?78fe","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?c038","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?7880","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?77e1","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?35c6","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?38dc","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?b8ad","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?0175","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?27eb","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?20c0","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?f575","webpack:///./src/components/ElementStudio/ElementStudio.vue?7cea","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?d937","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?cf32","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?4b40","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?366a","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?29d9","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?1ff8","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?0545","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?b0bf","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?535f","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?5b5b","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?e0ec","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?3642","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?3010","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?0833","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?0b0c","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?beb3","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?aec0","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?950e","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?886b","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?4271","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?f07a","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?31f2","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?4993","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?fd2c","webpack:///./src/components/ElementStudio/Copyable.vue?016e","webpack:///./src/components/ElementStudio/Copyable.vue?d9a2","webpack:///./src/components/ElementStudio/Copyable.vue?1155","webpack:///./src/components/ElementStudio/Copyable.vue?91f9","webpack:///./src/lib/element-studio/twig-code-helper.ts","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?323d","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?fe01","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?2516","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?4477","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?ea55","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?47db","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?e7f4","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?9718","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?73ba","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?0523","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?fc6f","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?e981","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?3d04","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?9cb2","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?52eb","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?6ca2","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?4152","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?e1f3","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?ec69","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?f9c3","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?fe98","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?3817","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?cd37","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?c7b1","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?3116","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?291a","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?096f","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?d163","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?3a61","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?db05","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?2d44","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?79f8","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?41d4","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?5d60","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?f3b4","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?420f","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?3b1c","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?f116","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?4a2c","webpack:///./src/lib/elements/studio/spacing-bars.ts","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?7870","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?1e06","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?1d29","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?80fb","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?682d","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?e29e","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?f268","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?fba7","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?87df","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?4062","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?b659","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?8fd1","webpack:///./src/lib/elements/studio/presets.ts","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?6973","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?e2f8","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?a9f1","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?7480","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?217b","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?a1f2","webpack:///./src/components/ElementStudio/ElementStudioControls.vue","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?e49a","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?bae4","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?99f9","webpack:///./src/components/ElementStudio/TextWithChevron.vue?9705","webpack:///./src/components/ElementStudio/TextWithChevron.vue","webpack:///./src/components/ElementStudio/TextWithChevron.vue?f696","webpack:///./src/components/ElementStudio/TextWithChevron.vue?00f6","webpack:///./src/types/tags.ts","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?a61a","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?d2cb","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?d66b","webpack:///./src/lib/elements/studio/clean-element.ts","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?59a6","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?ae3d","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?beae","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?d47d","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?ee45","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?8589","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?1372","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?5880","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?50be","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?0430","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?8799","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?1448","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?6938","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?b852","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?3744","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?cc45","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?df5f","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?556d","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?fce1","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?98f2","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?63ec","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?59d2","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?a72a","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?9b4f","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?b176","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?f11a","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?e123","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?cefe","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?a4e0","webpack:///./src/lib/elements/studio/macros.ts","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?1e1c","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?6767","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?6a7c","webpack:///./src/lib/elements/studio/blank-element.ts","webpack:///./src/components/ElementStudio/ElementStudioElements.vue","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?5e57","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?f47c","webpack:///./src/types/element-studio.ts","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?4473","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?6397","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?1f74","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?8407","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?2f9b","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?3df7","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?23a9","webpack:///./src/components/ElementStudio/ElementStudio.vue?df65","webpack:///./src/components/ElementStudio/ElementStudio.vue?0980","webpack:///./src/components/ElementStudio/ElementStudio.vue?85f4","webpack:///./src/components/Builder/SidebarPanels.vue?babd","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?8be6","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?11dc","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?7042","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?ea49","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?344a","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?6817","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?f9a4","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?a225","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?20b7","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?0d80","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?70b2","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?9cef","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?aa5b","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?cb42","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?a257","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?ce33","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?5a41","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?8f86","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?915f","webpack:///./src/components/Reusable/Tabs/Tab.vue?a427","webpack:///./src/components/Reusable/Tabs/Tab.vue?9916","webpack:///./src/components/Reusable/Tabs/Tab.vue?e065","webpack:///./src/components/Reusable/Tabs/Tab.vue?a76d","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?71d1","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?d11e","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?1122","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?6166","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?89f7","webpack:///./src/util/trigger-download.ts","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?fd42","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?6da4","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?bbca","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?c8cf","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?be69","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?e596","webpack:///./src/lib/presets/presets.ts","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?208a","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?6f79","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?995f","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?2fc3","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?47f2","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?d9e2","webpack:///./src/lib/controls/search.ts","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?8424","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?f128","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?510e","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?243f","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?03aa","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?fa5a","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?b12e","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?63de","webpack:///./src/components/Add/AddPanel.vue?8507","webpack:///./src/components/Add/ElementsList.vue?ce5c","webpack:///./src/components/Add/WebsiteDialog.vue?eab9","webpack:///./src/components/Add/WebsiteDialog.vue","webpack:///./src/components/Add/WebsiteDialog.vue?350d","webpack:///./src/components/Add/WebsiteDialog.vue?13bd","webpack:///./src/components/Add/ElementsList.vue?d777","webpack:///./src/components/Add/ElementsList.vue?4303","webpack:///./src/components/Add/ElementsList.vue?c035","webpack:///./src/components/Add/library/DesignLibraryModal.vue?f564","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?c229","webpack:///src/components/Add/library/DesignLibrarySkeleton.vue","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?ee34","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?1670","webpack:///./src/lib/design-library/design-library.ts","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?739f","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?053d","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?9a06","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?d418","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?6bc1","webpack:///./src/components/Add/library/DesignProviderDropdown.vue","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?dfff","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?2014","webpack:///./src/components/Add/library/DesignLibraryModal.vue?21e3","webpack:///./src/components/Add/library/DesignLibraryModal.vue?332f","webpack:///./src/components/Add/library/DesignLibraryModal.vue?6f5f","webpack:///./src/components/Reusable/Util/PanelHeader.vue?def2","webpack:///./src/components/Reusable/Util/PanelHeader.vue?22ce","webpack:///./src/components/Reusable/Util/PanelHeader.vue?cff4","webpack:///./src/components/Reusable/Util/PanelHeader.vue?1069","webpack:///./src/components/Add/AddPanel.vue?fe65","webpack:///./src/components/Add/AddPanel.vue?783a","webpack:///./src/components/Add/AddPanel.vue?c855","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?ea39","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?8977","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?a951","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?93ab","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?ae2c","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?1b20","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?a67d","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?3052","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?3bf6","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?e6a0","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?f263","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?677f","webpack:///./src/types/revisions.ts","webpack:///./src/lib/global-settings/revisions.ts","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?e1a3","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?beb6","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?905a","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?b488","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?a667","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?4f6e","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?b49c","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?b86c","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?eed8","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?f5c1","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?f944","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?31d4","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?646a","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?f598","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?0918","webpack:///./src/components/Settings/Selectors/AddSelector.vue?6199","webpack:///./src/components/Settings/Selectors/AddSelector.vue?ed17","webpack:///./src/components/Settings/Selectors/AddSelector.vue?0a17","webpack:///./src/components/Settings/Selectors/AddSelector.vue?140f","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?1fe9","webpack:///./src/lib/selectors/revisions.ts","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?3cb0","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?4007","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?5554","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?d9ba","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?1f81","webpack:///./src/components/Settings/Selectors/EditSelector.vue?431c","webpack:///./src/components/Settings/Selectors/EditSelector.vue?0839","webpack:///./src/components/Settings/Selectors/EditSelector.vue?0be1","webpack:///./src/components/Settings/Selectors/EditSelector.vue?ac71","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?8b83","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?6c04","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?f177","webpack:///./src/components/Structure/StructurePanel.vue?a27a","webpack:///./src/lib/structure-panel-drag/util.ts","webpack:///./src/lib/structure-panel-drag/get-new-node-position.ts","webpack:///./src/components/Structure/StructurePanel.vue?5bc4","webpack:///./src/components/Structure/StructurePanel.vue?f647","webpack:///./src/components/Structure/StructurePanel.vue?3866","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?3177","webpack:///./src/components/HistoryAndRevisions/History/History.vue?0c3b","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?9089","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?d223","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?c196","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?3286","webpack:///./src/components/HistoryAndRevisions/History/History.vue?9ddb","webpack:///./src/components/HistoryAndRevisions/History/History.vue?74c4","webpack:///./src/components/HistoryAndRevisions/History/History.vue?a708","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?04cc","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?f8d9","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?4966","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?eabf","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?b79a","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?962f","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?733b","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?d092","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?4dc5","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?16e5","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?fd70","webpack:///./src/components/Builder/SidebarPanels.vue","webpack:///./src/components/Builder/SidebarPanels.vue?5a29","webpack:///./src/components/Builder/SidebarPanels.vue?9e63","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?c708","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?ed31","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?8893","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?d618","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?a5a7","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?fef3","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?e664","webpack:///./src/components/UI/TemplateDialog.vue?4fd9","webpack:///./src/components/UI/TemplateDialog.vue","webpack:///./src/components/UI/TemplateDialog.vue?fa17","webpack:///./src/components/UI/TemplateDialog.vue?fd05","webpack:///./src/components/UI/InvalidPostDialog.vue?1dfc","webpack:///./src/components/UI/InvalidPostDialog.vue","webpack:///./src/components/UI/InvalidPostDialog.vue?10fe","webpack:///./src/components/UI/InvalidPostDialog.vue?dfa6","webpack:///./src/components/Builder/BuilderLayout.vue?3807","webpack:///./src/components/Builder/BuilderLayout.vue?d2e2","webpack:///./src/components/Builder/BuilderLayout.vue?e1ad","webpack:///./src/components/UnrecoverableErrors.vue?7946","webpack:///./src/components/UnrecoverableErrors.vue?63cc","webpack:///./src/components/UnrecoverableErrors.vue?92af","webpack:///./src/components/UnrecoverableErrors.vue?4b58","webpack:///./src/Builder.vue","webpack:///./src/Builder.vue?a98d","webpack:///./src/Builder.vue?f7c2","webpack:///./src/BrowseMode.vue?234e","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?9d84","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?aacb","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?fa1f","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?ed08","webpack:///./src/components/BrowseMode/BrowseModeSave.vue","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?1160","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?4dda","webpack:///./src/BrowseMode.vue?7eae","webpack:///./src/BrowseMode.vue?cd84","webpack:///./src/BrowseMode.vue?722e","webpack:///./src/App.vue?4ceb","webpack:///./src/App.vue?439c","webpack:///./src/App.vue?69b8","webpack:///./src/main.ts","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?a475","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?c6d8","webpack:///./src/components/Add/ElementsList.vue?18a0","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?1be1","webpack:///./src/components/Reusable/GlobalBlockDialog.vue","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?e1a0","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?906b","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?a5ce","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?6c70","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?dd12","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?f539","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?3309","webpack:///./src/components/UI/StandardButton.vue?c122","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?4908","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?0df3","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?91bf","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?ffc6","webpack:///./src/types/copy-paste.ts","webpack:///./src/lib/copy-paste/element.ts","webpack:///./src/lib/copy-paste/copy-paste.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?adeb","webpack:///./src/components/HistoryAndRevisions/History/History.vue?a762","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?546c","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?0803","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?3c85"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","expandOrCollapseAllNodes","tree","expand","node","acc","id","root","expandNodesToShowActiveElement","activeElementId","activeNode","structurePanelNodeIsCollapsed","nodeId","structurePanelNodesExpandedState","structurePanelNodeIsExpanded","undefined","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","childElement","attrs","depth","staticRenderFns","class","currentlyDragging","element","activeClass","style","on","activateElement","children","shouldShowChildrenNodes","$event","stopPropagation","toggleChildren","_e","editingFriendlyName","baseElement","uiIcon","friendlyNameInputValue","elementName","enableEditingFriendlyName","_v","_s","ref","domProps","updateFriendlyName","target","type","indexOf","_k","keyCode","showElementNameFallback","disableEditing","noop","isDraftSection","isShowingIdsInStructurePanel","showContextMenu","duplicate","remove","nodeIndentAmount","$options","components","ChildStructureNodes","default","duplicateElementAndActivateIt","e","setOnStructurePanelRightClickMenuState","elementId","position","x","clientX","y","clientY","deleteElement","newStructurePanelNodesExpandedState","setStructurePanelNodesExpandedState","$refs","friendlyNameInputRef","focus","select","friendlyName","unthrottledPropertyChanged","path","meta","snapshotLabel","trim","indentAmt","marginLeft","width","left","currentlyDraggingCanvasElementId","settings","showElementIdInStructurePanel","properties","ElementIcon","Icon","StructureContextMenu","component","StructureNode","maybeQueryClipboardPermission","queryOpts","allowWithoutGesture","navigator","permissions","query","state","getClipboardStatus","permission","secure","isSecureContext","fallbackWriteToClipboard","text","textArea","document","createElement","top","classList","add","body","appendChild","execCommand","err","removeChild","isHTMLInputElement","nodeName","isTextField","nonTextInputs","includes","contentEditable","documentHasTextSelection","doc","selection","defaultView","getSelection","range","rangeCount","getRangeAt","collapsed","documentHasSelection","activeEl","activeElement","fpJsonParseTypesafe","jsonWhichMightBeInvalid","ioTsType","decode","scopedSlots","_u","fn","_t","proxy","model","callback","$$v","shouldShow","expression","nativeOn","copyElement","canPasteElement","pasteElement","canPasteElementProperties","pasteElementProperties","canSaveAsGlobalBlock","openSaveGlobalBlockDialog","closeGlobalBlockDialog","saveGlobalBlockDialog","clipboardDialog","menuState","$emit","onStructurePanelRightClickMenuState","GlobalBlockDialog","Dropdown","VDivider","VList","VListItem","VListItemTitle","defaultValue","repeaterOptions","updateDefaultElements","repeaterIndex","index","slug","elementsAvailableForThisElementNestingType","updatePath","canHaveChildren","defaultProperties","canImport","importChildren","options","defaultTitle","titleTemplate","buttonName","ElementStudioDefaultElements","newValue","nestingRule","startsWith","transform","map","newChildren","context","keys","elements","filter","parentElement","parentElementSlug","currentElementNestingRule","NiceButton","ElementStudioDefaultProperties","TextInput","Repeater","Accordion","draggable","VAutocomplete","interfaceState","leftSidebarPanelState","onIframeLoaded","templateId","templateName","isTemplateFallback","templatesPageUrl","preferencesModalOpen","updatePreferencesModal","keyboardShortcutsHelpModalOpen","updateKeyboardShortcutsHelpModal","rightSidebarPanelState","iframeURL","canvasPreviewWidth","iframeExited","canvasState","iframeMinWidth","currentBreakpoint","handlePreviewWidthChange","handlePreviewWidthChangeWithAdjustmentBar","mountCanvasInIframe","setIframeAsExited","reloadIframe","handleResetPreviewWidth","ELEMENT_NODE","TEXT_NODE","htmlToVNodes","html","functionToRenderChildren","enableContentEditableAndFocus","saveContentEditable","processNodes","nodes","arrayOfNodes","forEach","nodeType","nodeValue","Element","rawAttributes","attributes","tag","attsObj","contentEditableEvents","classString","styleString","rawAttribute","item","attributeName","dblclick","blur","innerHTML","hasChildNodes","childNodes","domParser","DOMParser","decodedHtml","parseFromString","serializedXml","XMLSerializer","serializeToString","xmlWithoutBodyTag","replace","documentElement","PostGeneratedCssFilePathsV","globalSettingsCssFilePath","globalSelectorsCssFilePath","defaultCssForAllElementsFilePath","postCssFilePath","postDefaultsCssFilePath","PostAssetsWithoutDependenciesV","postsGeneratedCssFilePaths","PostAssetsV","dependencies","SsrNodeV","SsrNodeWithDependenciesV","debounceTimeoutTable","promiseDebounce","exec","interval","args","clearTimeout","setTimeout","resolve","Promise","serverSideRender","elementSlug","parentProperties","makeWordPressAjaxRequestFunction","action","overrideAjaxUrl","dataToPost","triggeringDocument","documentMeta","decoder","serverSideRenderWithDependencies","canAddElement","openAddPanel","preventDefault","hasFullAccess","addColumns","_m","staticStyle","numberOfColumns","columnWidths","columnProperties","columnWidth","columnWidthSanitized","set","number","unit","transaction","addMultipleNodes","parentId","excludedScripts","rerunAllScriptsInCanvasDocumentBody","canvasDocument","Breakdance","canvas","allScripts","querySelectorAll","script","find","excludedScript","toLowerCase","src","newScript","cloneScriptNode","querySelector","scriptNode","newScriptNode","Array","from","attr","setAttribute","emptyHtmlFromSsrMessage","ssrErrorMessage","requiredPluginsNotAvailableMessage","requiredPlugins","join","addDependenciesToHeadDebounced","debounce","isActive","uniqueId","v4","ssrInnerHtml","oldSsrParentProperties","ssrParentProperties","oldTwigProps","dragMouseStartX","dragMouseStartY","easyEvent","h","RootTag","rootTag","isEmptyColumns","htmlId","activateAndMaybeStartDrag","disableDefaultDrag","maybePreventDefault","processedTemplate","ssr","ssrValueOrMessage","isEmptyContainer","parentProps","shouldRenderContentAsHtml","contentEditablePropertyPath","arrayOfChildVNodes","mousedown","dragstart","click","__render","shouldSsr","isEqual","maybeRerenderFromServer","refreshSsr","setRefreshSsrElementId","runActionsAfterSsr","updateSsrDependenciesAndStyles","twigProps","run","onBeforeDeletingElement","_parentId","onAfterDeletedElement","deletedElementNodeType","parentIdOfDeletedElement","transactionKey","onMountedElement","setElementUpdatingState","isUpdating","withDependenciesInHtml","errors","error","log","message","msg","ssrHtml","elementDependenciesFromSsr","elementPostsGeneratedCssFilePathsFromSsr","dependsOnGlobalScripts","maybeRerunAllScriptsInCanvasDocumentBody","addInlineScriptsAsUnique","generateElementsCSS","internalDependenciesWithoutInlineScripts","deps","inlineScripts","tags","css","breakpoints","cssTemplate","propertyPathsToWhitelistInFlatProps","elementChildrenCount","defaultCss","all","loadDependencies","areThereNoOtherElementsOfThisType","elementsExternalAttrsDepsAndActions","dynamicDataCache","loading","cachedDynamicData","dynamicShortcodes","uncachedDynamicShortcodes","dynamicShortcode","newDynamicData","updateDynamicDataCache","isThereSomethingToPreview","previewedItem","attribute","template","String","propertyPath","rawValue","behaviorModeEnabled","isDragAndDropEnabled","elementsToIgnore","currentElement","tagName","elementWithContentEditable","event","elementsToPrevent","selector","isAChild","some","el","closest","matches","canDrag","dragging","removeDragListeners","removeAll","mouseX","mouseY","Math","abs","setCanvasElementDraggedId","editableElement","dataset","maybeDynamicData","elementValueIsDynamic","field","elementIsAlreadyActive","getAttribute","setContentEditableElementId","addEventListener","handleKeydownInsideContentEditable","pasteWithoutFormatting","removeEventListener","lastElement","textAreaWithTargetInnerHtml","throttledPropertyChanged","forElementBasingOnChangedStorePropertyPath","CHANGE","paste","clipboardData","getData","nl2br","code","ctrlKey","metaKey","elementNestingRuleType","isContainer","sharePropsWithSSRChildren","props","design","elementPropertiesAsJsonString","hasRequiredPluginsAndTheyAreAvailable","isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist","lastModifiedElementProperty","propertyPathsToSsrElementWhenValueChanges","refreshSsrElementId","availablePlugins","requiredPlugin","availableWordpressPlugins","disableNoticeForEmptySSRElements","isElementUpdating","elementSelector","postId","elementsThatAreUpdating","globalSettings","uniqueClassName","customTag","htmlTag","pathToControl","advanced","entries","dynProps","classes","baseClassName","bypassPointerEvents","additionalClasses","classRule","include","atts","rule","renderAttributeValue","userAttSettings","userAtt","cleanAtts","builderBehaviorId","builderBehaviorElementId","deep","immediate","typographyPresets","watch","hideClass","directives","rawName","dragStart","makeDragCallback","dragHandleBehavior","elementPositionAndSize","mouseDragInfo","combinatorFunction","a","b","xProperty","controlPath","lastXChange","yProperty","height","lastYChange","imageDragHandleBehavior","dragDotsWrapperPositionStyle","display","dragCallback","unsubscribeFromStorePositionDotsWrapper","positionDragDotsWrapper","$store","subscribe","nextTickPositionDragDotsWrapper","startX","startY","currentX","currentY","totalXChange","totalYChange","dragEnd","toString","bar","isDragging","clickedHandle","location","throttledDragging","unsubscribeFromStorePositionWrapper","wrapperPositionStyle","_elementPositionAndSize","_mouseDragInfo","_handle","console","warn","handle","setDragMixinDragging","dragStartCallback","requestAnimationFrame","_draggingFunc","positionWrapper","dragEndCallback","nextTickPositionsWrapper","isHovering","getSpacingPropertyValue","cssProperty","valInPx","getCurrentValueInPx","fullPath","fullPathToSpacingProp","currentValue","parseInt","currentUnit","computedStyle","styleValue","getPropertyValue","breakpointSlug","resizeObserver","ResizeObserver","onActiveElementResize","activeElementPositionAndSize","valueAtMomentOfElementPositionAndSizeCalculation","activeElementDomNode","intervalHandle","setInterval","updateActiveElementPositionWhenItsPresent","disconnect","observe","box","clearInterval","affectedPropertyPath","isActiveBar","barStyle","opacity","positionAndSize","valueMin5","cursor","originalValue","bars","pop","fullPathToSpacingProperty","forElementByTreeNodeId","activeElementSpacingBars","spacingBars","SpacingBar","resizedWidths","siblingWidth","resizedWidth","right","getOnCanvasColumnWidthInPercent","column","columnWidthInPx","getOnCanvasColumnWidthInPixels","columnParentWidthInPx","getOnCanvasColumnParentWidthInPixels","columnWidthInPercent","calcNewPercentWidthForColumn","pixelsToAdd","currentWidthInPx","columnWidthPx","columnParentWidthPx","newColumnWidthInPercent","columnPosition","columnParent","columnParentPosition","getOnCanvasColumnMinWidthBasedOnPadding","paddingLeft","paddingRight","Number","isNaN","minColumnWidthInPercent","ceil","DEFAULT_MIN_WIDTH","resizeTwoColumnsAndCommit","columns","columnToResizeIndex","newWidth","adjustSibling","siblingToResizeIndex","siblingToResize","columnToResize","columnMinWidth","siblingMinWidth","MIN_WIDTH","max","unavailableWidth","widthOnDragStart","startTransaction","activeColumn","columnIndex","adjustPx","toFixed","endTransaction","VERTICAL_STACKING_PATH","FIFTY_FIFTY_PATH","verticalStacking","fiftyFifty","columnsAreNotResizeableAtBaseBreakpoint","titlebarClasses","openContextMenu","elementTitle","activateParent","hasSSr","updateCurrentlyDraggingElementId","lastSubmittedDrag","canvasElementDraggedId","maybeParent","setCanvasDragPlaceholderPosition","nodeIndex","onlyShowTargetOutline","canvasDragPlaceholderPosition","nodeMouseIsOverId","nodeMouseIsOver","dropTargetNode","nestingPermissions","dropTargetNodeId","foundNode","setDropPosition","handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget","handleDragWhenMouseIsOverAChildOfTheDropTarget","childOfDropTargetThatMouseIsReallyOver","reduce","moveElement","endCanvasElementDrag","mouseOverNodeId","draggedNodeId","placeholderOnly","stackingStyle","insertBeforeOrAfter","nodesInDropTarget","dragPlaceholderIndex","findIndex","dropPlacementIndex","setPlaceholder","dropTargetId","beforeOrAfter","draggedElementId","droppedOnElementId","_mouseOverNodeId","rects","min","distance","nearestRect","r1","r2","xCenter","yCenter","leftOrRight","aboveOrBelow","nodesInDropTargetIds","placeholderPosition","movePlaceholder","dropPosition","dropTarget","maybeChildWherePlaceholderIs","maybeChildBeforeWherePlaceholderIs","maybeChildAFterWherePlaceholderIs","movedForwards","movedBackwards","getRightClickMenuPositionInCanvas","canvasX","canvasY","iframe","getElementById","menuElement","getBoundingClientRect","iframeWidth","iframeHeight","getMenuSize","menuWidth","menuHeight","refreshRate","titlebarPositionStyle","calculateStylesAndTitle","setOnCanvasRightClickMenuState","isDraft","activeElementBase","OnCanvasDragHandle","wrapperClassList","shouldShowControls","throttledNextTickPositionWrapper","disableMouseHoverOnMouseLeaveCanvas","setLastHoveredOnCanvasElementId","throttledShowHoverControlsOnMouseMoveCanvas","showHoverControlsOnMouseMoveCanvas","canvasElement","hoveredNodeId","hoveredNode","setHoveredNode","elementX","elementY","elementWidth","elementHeight","isNotDragging","isCanvasElementBeingDragged","isDragMixinDragging","lastHoveredOnCanvasElementId","lastHoveredElement","wrapperStyle","lastModifiedDomElement","calculateWrapperStyles","domElement","contentEditableElement","childWithContentEditable","hideTitleBar","hideHoverControls","observer","observePositionChange","hoverObserver","hoveredElement","destroyObserver","onMutate","mutations","record","MutationObserver","attributeFilter","prefix","NodeContentEditable","DragDots","SpacingBars","ColumnDragSizer","NodeTitlebar","NodeHoverControls","maybeNode","parentNode","widthOrHeightNumber","widthOrHeightValue","overNode","elementIdPresent","elementIdToSaveAsGlobalBlock","disabled","status","onchange","isAppleDevice","test","platform","Dialog","handleRightClickInCanvas","closeRightClickMenuIfClickHappensOutsideRightClickMenu","capture","closestMenu","onCanvasRightClickMenuState","ClipboardDialog","RightClickMenuItem","DragPlaceholder","RightClickMenu","rootElement","canvasKey","setCanvasState","breakdance","isAddElementBeingDragged","cssSelectors","EmptyContainer","BuilderElement","NodeChrome","CanvasChrome","resetPreviewWidth","currentPreviewWidthIsSetByUser","pxAmount","mouseXChange","lastMouseX","pointerEvents","mainWrapper","adjustPreviewWidth","adjustX","newPreviewWidth","previousPreviewWidth","previewWidth","alreadyAtMaximumWidth","offsetWidth","availableCanvasSize","defaultPreviewWidth","iframeWrapperPosition","_g","minWidth","testId","$listeners","active","VBtn","ForeignDocumentTypeLabels","handleOverlayMouseLeave","foreignDocumentBuilderUrl","openBuilderUrl","foreignDocumentTitle","px","v","hoveredForeignDocumentDomElement","hoveredForeignDocumentDomElementCoords","isScrolling","isScrollingCleanupTimerId","throttledHandleIframeScroll","handleIframeScroll","throttledHandleWatchedElementMouseMove","handleWatchedElementMouseMove","addEventListenersToIframeDocument","addEventListenersToWatchedElements","removeEventListenersFromIframeDocument","removeEventListenersFromWatchedElements","iframeDocument","elementsToWatch","handleWatchedElementMouseLeave","getCoords","childElementCount","child","firstElementChild","setIsScrolling","setHoveredForeignDocumentDomElement","currentTarget","$el","contains","relatedTarget","builderUrl","title","breakdanceForeignDocumentBuilderUrl","documentType","breakdanceForeignDocumentType","documentTitle","breakdanceForeignDocumentTitle","isThereHoveredElementAndItsCoords","this$1","iframePreviewWidth","handleReloadWanted","iframeUrl","iframeId","handleIframeLoaded","CANVAS_PADDING","contentWindow","onunload","setAvailableCanvasSize","logError","iframeWrapper","setIframeWrapperPosition","rect","padding","overflow","scaleToFit","scaledStyles","scaleFactor","iframeState","StandardButton","Loading","PreviewWidthAdjustmentHandle","foreignDocumentsOverlayVueApp","canvasApp","changePreviewWidthMutation","previewWidthInPx","changePreviewWidthWithAdjustmentBar","selectBaseBreakpoint","leavingIframeOnPurpose","setLeavingIframeOnPurpose","frames","reload","canvasEl","overlayMountpoint","store","vuetify","openDocument","docInfo","confirm","open","loadedIframe","contentDocument","registerAllStoreActions","canvasVueInstanceMountpoint","$mount","mountForeignDocumentsOverlayVueAppInIframe","unbindClickEventOnInnerIframeLinks","allLinks","linksInsideBreakdanceCanvas","linksExcludingTheOnesInBreakdanceCanvas","link","$destroy","documentSpecificNeededUrls","URL","searchParams","append","IframeWrapper","Canvas","ForeignDocumentsOverlay","isElementPropertiesOpen","toggleElementProperties","isStructurePanelOpen","toggleStructurePanel","saveInProgress","save","saveToWordPressWithErrorsLoggedToUiStore","setUnsavedChangesPresent","ignore","markCurrentGlobalSettingsAsUntouched","markCurrentSelectorsAsUntouched","KEYBOARD_SHORTCUTS","CMD_A","CMD_B","CMD_S","CMD_Z","CMD_SHIFT_Z","CMD_C","CMD_V","CMD_D","ESC","BACKSPACE","DELETE","CMD_OPTION_R","CMD_SLASH","CMD_SHIFT_SLASH","CMD_QUESTION","CMD_SHIFT_S","register","dispatchEvent","CustomEvent","cancelable","selectNextBreakpoint","setKeyboardShortcutHelpModalOpen","setElementStudioPowerUser","unbind","unsubscribe","Event","mutationPayload","shouldMutationBeIgnored","warnIfUnsavedFunction","unsavedChangesPresent","isBase","getDeviceIcon","getDeviceIconRotation","breakpoint","changeBreakpoint","label","maxWidth","breakpointId","icon","rotate","IconButton","VListItemContent","VListItemSubtitle","canUndo","undo","canRedo","redo","borderLeft","borderRight","TopBarSection","nothingToPreviewAndNoSearchQueryAndNotLoading","currentPreviewedItem","isLoading","search","handleSearch","url","setPreviewedItem","previews","fetchTemplatePreviewableItems","resultKey","debouncedSearchContentInWp","searchContentInWp","newItem","setLastModifiedElementProperty","flushDynamicDataCache","searchValue","templatePreviewableItems","setTemplatePreview","templatePreview","previewableItems","VCard","VTextField","currentDocument","typeLabel","titleLabel","getDocumentUrlFromId","availableDocuments","fetchAvailableDocuments","newDocumentId","setAvailableDocuments","anySettingsPanelsOpen","openGlobalSettingsPanel","openSelectorsPanel","openHistoryAndRevisionsPanel","openPreferencesModal","elementsLoadingState","toggleElementStudio","setPreferencesModalOpen","setActiveSelectorName","panelState","elementStudioOpen","backToAdmin","backToFrontend","backToWordPressUrl","isAddSectionOpen","toggleAdd","VAppBar","toggleDialog","dialogOpen","trialData","isExpired","VCardActions","VCardText","VCardTitle","VDialog","TopBar","Exit","AddButton","SettingsDropdown","BreakpointsSelection","Save","UndoRedo","PreviewContentChooserDialog","DocumentChooser","UpgradeToPro","VSpacer","handleClickOutside","handleChangeTab","tab","currentTab","fontFamiliesTab","customFontFamilies","updateCustomFontFamilies","customBreakpointsTab","customBreakpoints","updateBreakpoints","uiSettingsTab","function","applyChanges","inProgress","internalValue","breakpointsEdited","editingBreakpointId","updateOrAddBreakpoint","deleteBreakpoint","edit","showAddForm","openAddBreakpointForm","toggleAddBreakpointForm","newBreakpointLabel","addBreakpoint","isEditing","setDefaultPreviewWidth","cancel","enableEditing","mediaQueryString","deleteDialog","show","cancelText","discardIsEnabled","discardIsInProgress","discardText","saveIsEnabled","saveIsInProgress","actionText","VAlert","newBreakpoint","DropdownInput","ConfirmDialog","inserted","normalizedBreakpointLabel","newBreakpointId","newBreakpoints","EditBreakpoint","EmptyStatePreferences","hideSaveButton","EditBreakpoints","PreferencesPanel","fontFamily","family","openedFontIndex","openFont","deleteFontFamily","updateFontFamily","toggleAddForm","saveNewFontFamily","validForm","validFontFamily","showCssForm","toggleCssForm","saveCssUrl","validCssForm","isValidUrl","cssUrl","saveFontFile","fontFile","file","getFontFamiliesFromCssFile","sendFontsToBackend","newFontData","newFonts","fonts","font","unshift","setFonts","toggleFaces","hasExternalCssUrl","faces","editFontFamily","fallbackString","editFallbackString","fontFace","fontFaceIndex","existingFontFaces","updateFontFace","deleteFontFace","newFontFileSuccessfullyUploaded","isFontFaceUnique","fileUrl","fileName","weight","weights","validateWeight","updateWeight","validateStyle","updateStyle","CSS_WEIGHTS","files","valueFormats","format","form","validate","newWeight","newStyle","w","VForm","VRadio","VRadioGroup","VSelect","handleFiles","fileReader","FileReader","onloadend","arr","Uint8Array","subarray","header","extension","split","isWoff","isWoff2","readAsArrayBuffer","FileUpload","newFontFace","fontFileToBlankFontFace","newFontFaces","newFontFaceFormats","indexOfMatchingFontFace","_","FontFileUpload","UpdateFontFace","fallbackStringHasBeenEdited","isOpen","newFallbackString","newCssUrl","FontFaces","TextField","fontFamiliesResponse","fontFamilyResponse","indexOfFontFamilyMatchingIds","fontId","cssName","fontRegistrationData","newOpenFontIndex","newFontFamily","fontIndex","reset","cssForm","fontIDAlreadyPresent","parsedUrl","protocol","FontFamily","autoScrollEnabled","setAutoScrollEnabled","isScaledToFit","setScaleToFit","isDarkMode","toggleTheme","showExperimentalElements","setShowExperimentalElements","setDisableNoticeForEmptySSRElements","setIsShowingIdsInStructurePanel","panel","panelPositionsAsItems","mandatory","setPanelPosition","popoutPosition","popoutPositionItems","setPopoutPosition","arePanelPositionsDefault","resetUiPanelPositionsToDefault","panelsState","getPanelsInitialState","panels","setUiSettings","theme","disable","maybeSettingsAsJsonString","setSettings","ButtonBarInput","ToggleInput","VSwitch","hasUnsavedChanges","newPrefs","preferences","newCustomFontFamilies","customFonts","checkForUnsavedChanges","exit","$nextTick","setPreferences","customFontFamiliesPanel","customBreakpointsPanel","CustomUiSettings","CustomFontFamilies","CustomBreakpointsPanel","VProgressCircular","VTab","VTabs","getKeyboardShortcutValue","keyboardShortcuts","isMacLike","keyCombo","toUpperCase","adjustWidth","isProdEnv","activeItemType","updateData","updateWidth","updateActiveItemType","_b","$attrs","onDragging","draggingFunc","ElementStudioWidthAdjustmentBarAdjustmentHandle","saveLocations","itemType","saveNewItem","showNewItemDialog","itemsSlug","availableItemsSearch","openItem","handleNewItem","itemName","directoryPath","canSaveOrIsAdvancedUser","saveOverwrite","onlyForAdvancedUsers","saveLocation","showSaveLocation","saveAs","deleteItem","closeItem","switchMode","closePanel","closeItemOrPanelDialog","discardChanges","nameIsValid","newItemName","newItemSaveLocation","closeNewItemDialog","newItemDialog","newName","showAdvancedFeatures","isElementStudioPowerUser","mainAppSaveButtonClicked","itemSlug","bypassPsalm","ElementStudioSaveNewDialog","currentlyEditingElement","elementsSlug","openElement","saveOverride","resetCurrentlyEditingElement","updateElement","available","saveNewMacro","showNewMacroDialog","contextMenu","handleCreateMacro","updateTab","isValidItemName","updateElementName","updateSlug","className","htmlClassNameRule","updateClassName","elementCategories","cleanElement","category","updateElementValue","badgeColors","badge","backgroundColor","textColor","defaultTag","htmlTags","pathsToAllControls","useLocalIcon","updateUseLocalIcon","updateUiIcon","order","updateUiOrder","containerRestrictedElements","restrictedToBeADirectChildOf","isArray","elementsThisElementIsAllowedToBeInsideOf","restrictedToBeADescendantOf","allElementSlugs","notAllowedWhenNodeTypeIsPresentInTree","elementType","requiredPluginItems","experimental","addPanelRules","alwaysHide","allowedPostTypes","controls","elementClass","defaultChildren","actions","actionsAccordionState","toggleActionAccordion","sectionName","handleDrag","control","section","addSection","addPreset","handlePaste","elementStudioData","saveNewPreset","showNewPresetDialog","accordionState","isPresetSection","toggleAccordion","codeHelpOpen","keyToRerenderCodeHelp","twigParentPath","isParentARepeater","updateLabelAndSlugOnFocusOut","presetSectionSlug","availablePresetSections","updatePresetSectionSlug","controlTypes","updateControlType","isSection","shouldControlValueBeAddedInAllBreakpoints","updatePropertyPathsToWhitelistInFlatProps","shouldControlValueCauseSsr","updatePropertyPathsToSsrElementWhenValueChanges","alertBoxOptions","updateOptions","datePickerOptions","_obj","dropdownOptions","updateDropdownItems","updateDropdownItem","buttonBarOptions","size","layout","updateButtonBarOptionsSize","updateButtonBarOptionsLayout","triggerActionsButtonOptions","assign","unitOptions","mediaOptions","videoOptions","rangeOptions","shadowTypes","shadowOptions","updateShadowType","breakpointOptions","textOptions","multiline","updateTextOptionsMultiline","focusPointOptions","mediaSizeOptions","postChooserOptions","iconOptions","colorOptions","updateColorType","dynamicPropertyPath","updateDynamicPropertyPaths","dynamicPathAcceptsItems","accepts","availableDescendantElements","addRegisteredChildrenOptions","addExtraElementsBySlug","updateAddExtraElementsBySlug","codeTypes","codeOptions","language","updateCodeType","variableOptions","updateVariableItems","updateVariableItem","showContentEditableCode","contentEditableHelperCode","isInContentTab","canHaveMediaQueries","enableMediaQueries","updateControlBoolean","enableHover","controlLayouts","updateControlLayout","placeholder","updatePlaceholder","keywordsValue","updateKeywords","condition","updateConditions","hideForElements","updateHideForElements","deleteHideForElements","sectionLayouts","sectionOptions","updateSectionLayoutType","isSpacingBarEnabled","updateSpacingBar","copy","handleReplace","handleMakePreset","deleteControl","addControl","rules","clearable","inputOptions","newVal","isNumber","parseFloat","close","codeForControl","textToCopy","shouldCopy","input","$slots","wrapPathWithMustaches","twigPath","toggleCode","dropdownOrButtonBarCode","items","ifOrElseIf","multiselectCode","shadowCode","isText","iconCode","repeaterCode","focusPointCode","presetsWithMacroOfTheSameNameAndBasicCodeHelp","presetSectionCode","presetType","preset","codeForControls","trigger_action_button","border_complex","border_radius","breakpoint_dropdown","button_bar","dropdown","color","gradient","shadow","repeater","inline_repeater","richtext","toggle","spacing_complex","wpmedia","multiple","video","focus_point","multiselect","font_family","global_colors","global_block_chooser","typography","custom_typography","typography_preset","post_chooser","element_screenshot","slider","add_registered_children","builder_behavior","alert_box","date_picker","time_picker","api_key_input","media_size_dropdown","wp_query","conditional_form_field","wrapWithCondition","controlConditions","ifCondition","conditionsAcc","conditions","andCondition","inRepeater","getHelperCodeForControl","codeHelpFromPreset","codeHelp","helperCode","hoverCode","RegExp","Copyable","defaultNewValue","getBlankCondition","forceDontProcessDefaultNewValueWhenAddingItemsHack","emit","orRepeaterIndex","updateOrCondition","paths","operand","getOperands","updateOperand","getPossibleValues","updateValue","hasMultipleValues","getControl","operands","index1","index2","getPathsToAllControls","pathStartsWith","VCombobox","types","availableTypes","updateTypes","defaultType","updateDefaultType","newOptions","inputClass","step","updateStep","updateMin","updateMax","update","controlSlugs","variable","appendVariableToTitle","galleryMode","updateGalleryMode","galleryMediaPath","mediaControlSlugs","DEFAULT_REPEATER_VALUE","duplicated","newTitleTemplate","VCheckbox","populateWithHtmlTagOptions","populate","updateEnablePopulate","repeaterPaths","updatePopulateValue","possibleValues","fetchDataAction","controlPaths","fetchContextPath","refetchPaths","updateRefetchPaths","updateRefetchPath","updateCondition","dropdownItems","repeatedIndex","iconNames","DEFAULT_POPULATE","newItems","enabled","newCondition","newPopulate","newRefetchPaths","dependency","option","ElementStudioIconsAutocomplete","ElementStudioConditionInput","updateMultiple","enableNever","updateEnableNever","newBreakpointOptions","toggleEnabled","variables","variableItems","fileTypesEnabled","updateEnableFileTypes","acceptedFileTypes","updateType","DEFAULT_MEDIA_OPTIONS","imagePropertyPath","disableSrcset","toggleSrcset","suggestions","updateSuggestions","newSuggestions","getSpacingBarsFromPresetSlug","getSpaceBar","direction","controlType","marginAll","paddingAll","marginY","marginX","paddingY","paddingX","allNotResponsive","postType","showThumbnails","DEFAULT_CHOOSER_OPTIONS","providers","updateProviders","DEFAULT_VIDEO_OPTIONS","styles","content","updateContent","DEFAULT_OPTIONS","TipTapWrapper","gridMode","updateGridMode","AlertBox","savePresetToServer","filename","getSlugFromNamespaceAndFilename","namespace","toggleControl","newPreset","newSlug","presets","presetSectionFromCurrentSection","newData","presetSections","updateElementStudioData","updateControl","parentPath","newControls","replaceControls","controlAcceptsChildren","clipboard","elementStudio","controlToPaste","copiedControl","pasteControl","copyElementStudioControl","newPresetSectionSlug","newPresetSection","getPresetSection","turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement","turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement","newControlSlugArg","relativePropertyPathsToWhitelistInFlatProps","newControlSlug","newPropertyPathsToWhitelistInFlatProps","absolutePathToWhitelistInFlatProps","relativePath","oldAbsolutePathToWhitelistInFlatProps","relativeDynamicPropertyPaths","newDynamicPropertyPaths","dynamicPropertyPaths","absoluteDynamicPropPaths","relativeDynamicPropertyPath","oldAbsoluteDynamicPropPaths","newDynPropPath","dynPropPath","disallowedControlTypes","newType","newControl","controlTypesThatShouldHaveVerticalLayout","optionsPath","newElementSlugs","big","newLayout","newKeywords","keywords","newPlaceholder","newConditions","newLabel","updateElementPropertiesNotTiedToControl","enable","propPath","twigPathWithoutRepeaterIndex","spacingBarPresetSlug","spacingBarsAffectedPropertyPaths","spaceBar","enabledSpaceBar","elementSpaceBar","newSpacingBars","propertyPathIndex","newPropertyPathsToSsrElementWhenValueChanges","parentControl","json","parentType","dynPropPathThatMatchesTwigPath","twigPathForContentEditable","isRepeater","getElementStudioData","capitalize","charAt","disallowedInContent","sort","removeDisallowedControlTypes","getPresetSections","values","ElementStudioHideControlInput","ElementStudioFocusPointOptions","ElementStudioVideoOptions","InlineRepeater","ElementStudioBreakpointOptions","ElementStudioIconOptions","ElementStudioMediaSizeOptions","ElementStudioMediaOptions","ElementStudioPostChooserOptions","ElementStudioDropdownOptions","ElementStudioVariableOptions","ElementStudioRepeaterOptions","ElementStudioRangeOptions","CopyButton","ShittyTextInput","ControlSectionOrControl","TwigCodeHelper","ElementStudioUnitOptions","ElementStudioAlertBoxOptions","updateDependenciesRoot","repeaterIndexRoot","updateDependency","scripts","updateDependencies","jsLocalDependencies","dependencyIsNotLocal","getLocalDependenciesFilesFromWordpress","executeInlineScript","twigVariables","cssLocalDependencies","inlineStyles","builderCondition","conditionInfoOpen","frontendCondition","TagsV","TAGS_AVAILABLE","localDependenciesFiles","localDependencyFiles","setLocalDependenciesFiles","newDependencies","inlineScript","origin","localDepsItems","localDep","fileType","localDependencies","dependencyFile","localDependenciesAsVuetifySelectShape","TextWithChevron","CodeInput","elementArg","getElementWithoutExternalControls","settingsSections","isExternal","actionKey","actionName","updateActions","updateAction","actionInfoOpen","repeaterIndex2","value2","dependencyInfoOpen","runForAllChildren","newActions","newValues","getValueOrDefault","lowerCase","designSections","contentSections","Boolean","updateAttributes","htmlAttributeNameRule","updateName","updateTemplateValue","updatePropertyPathValue","updateRawValue","newAttributeName","newTemplate","validateHtmlAttributeName","updateClasses","newClassName","validateHtmlClassName","looksGood","updateValueForKey","optionsGood","optionsWork","dynamicBehaviorWorks","notes","updateNotes","newBuilderElementProjectManagementValue","newNotes","VTextarea","pathRules","allPaths","updatePropertyPathByIndex","newValueWithNewEntryChangedToEmptyString","newPath","updateElementValuePropPath","allPathsWithDesignAndContent","updateDynamicPropertyPath","getDynamicPathAcceptsItems","newAccepts","updateSpaceBars","updateSpaceBar","cssProperties","newSpaceBar","updateLocationAndProperty","$set","saveNewSpaceBar","newProperty","propertiesLocationsKeyPair","locations","spaceBars","newSpaceBars","ElementStudioSpacingBar","propertyName","ElementStudioSpacingBars","ElementStudioPropertyPaths","ElementStudioDynPropPaths","setTwigMacrosInStoreAndRecompile","twigMacros","setTwigMacros","forceUpdateEntireCanvas","updateStoreActionsThrottled","lodash","nameHasChanged","iconName","savedCssSelection","elementStudioContext","newElement","currentControls","internalElementControls","mergeElementControlsWithExternalControls","presetSection","parentControls","controlTypesToIgnore","contentPaths","designPaths","handleRightClickInCodeInput","selectedText","selectedCss","macroName","macroText","macro","macros","notifications","newMacros","newOrder","safeOrder","newIcon","newUseLocalIcon","newTab","newElementControls","elementWithAllControls","builderElementCategories","k","correctValue","ElementStudioManagePropertyPaths","ElementStudioAttributes","ElementStudioAdditionalClasses","ElementStudio","ElementStudioAction","ElementStudioDependencies","ElementStudioControls","ElementStudioProjectManagement","BLANK_ELEMENT","projectManagement","lastSavedElement","throttledUpdateElement","throttle","newCurrentlyEditingElement","deleteElementFromServer","existingElement","slugChanged","elementSlugToDelete","indexOfElementToDelete","elementToDelete","successCallback","deleteElementFromStore","newStudioElement","activeSaveLocation","updateCurrentlyEditingElement","saveToServer","namespaceArg","word","substring","updateAvailableElementsAndStore","ElementStudioTabsAndPanels","ElementStudioWidthAdjustmentBar","ElementStudioTopbar","ElementStudioItemV","SaveLocationTypesV","ElementStudioSaveLocationV","PresetSectionV","ElementStudioExpectedDataToLoadV","currentlyEditingMacro","macrosSlug","currentMacroName","openMacro","deleteMacro","resetCurrentlyEditingMacro","activeTab","macroData","updateMacroValue","updateMacroName","lastSavedMacro","updateMacroAndRecompileTwigTemplates","newCurrentlyEditingMacro","newMacro","deleteMacroFromServer","deletedMacroSlug","storeIndex","valueIndex","macroToDelete","deleteMacroAndRecompileTwigTemplates","macroSlug","macroSaveLocation","macroString","updateCurrentlyEditingMacro","currentlyEditingPreset","presetsSlug","currentPresetName","openPreset","deletePreset","resetCurrentlyEditingPreset","currentPresetWithoutPresetSlug","presetData","codeHelpValue","codeHelpPlaceholder","updateCodeHelp","presetRelativePropertyPathsToWhitelistInFlatProps","updatePresetSlug","autoRefresh","updateAutoRefresh","lastSavedPreset","reactiveContext","newEditingPreset","correctPath","getCorrectPathForPresetFromContextPath","updateCurrentlyEditingPreset","getParentControlOrControls","sectionSlug","newAutoRefresh","newCurrentlyEditingPreset","getPresetWithRestoredSectionSlug","allElementsWithModifiedPresetUpdated","updateSectionWithCurrentPresetSection","addElements","newSection","filterOutCurrentSection","newPresetArg","presetsIndex","presetSectionsIndex","deletePresetFromServer","deletedPresetSlug","deletedPresetType","allElementsWithDeletedPresetRemoved","presetToDelete","deletePresetAndRecompileTwigTemplates","updatePreset","presetSlug","presetSaveLocation","potentialMacroName","expectedDataToLoad","adjustAmount","ElementStudioPresets","ElementStudioMacros","ElementStudioElements","elementBadge","duplicateElement","searchEnabled","ElementBadge","hasSearchParameters","noSearchResults","searchBoxState","clearQuery","controlsFilteredBySearchParams","updateSearchBoxState","editQuery","modifiedOnly","editModified","includeSettings","editSettings","newState","newQuery","modified","SearchFilter","setTab","resetToDefault","savePresetDialogOpen","hasIconSlot","contextMenuX","contextMenuY","hasContextMenuSlot","contextmenu","newPresetName","newPresetScreenshot","exportPreset","savePreset","triggerDownload","blob","Blob","anchor","download","href","webkitURL","createObjectURL","downloadurl","newPresets","presetsForElements","setPresetsForElements","designProps","getControlValue","availableForType","designPropertiesData","screenshotUrl","makePreset","saveToLibrary","clearAndClose","WPMediaInput","resetElementProperties","TabsRow","Tab","SavePreset","defaultAtPath","changeMode","applyPreset","applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset","addElement","newMode","ControlsTree","PresetsInDesignTab","filterBuilderElementControls","onlyShowModified","searchQuery","regexSearchQuery","match","_filterControls","filterControls","controls_","outcome","flattenAndCount","clearSearch","editingElementControlsTreeContext","searchString","newSearchBoxState","setPanelState","elementPropertiesPanelActiveTab","hasContentControls","hasDesignControls","hasSettingsControls","SearchBox","DesignContentSettingsTabs","DesignTabContent","SearchBoxEmptyState","dynamicAccepts","controlPathWithoutRepeaterIndexAndBreakpoint","dynPropPathThatMatchesControlPath","setControlValue","controlPathProbablyWithBreakpointIdAndHoverSuffix","controlsTree","getControls","splittedPath","setAccordionState","accordionPath","getAccordionState","VSheet","VTabItem","VTabsItems","Titlebar","TabsAndControls","BlankSidebarContent","openDesignLibrary","isElementStudioOpen","elementsCount","resetSelectedSearchItemIndex","addSelectedSearchItem","nextOrPreviousSelectedSearchElement","goToSelectedSearchElement","hasSearchParams","advancedSearchDialogOpen","dumpSearchResults","advancedSearchHasDynamicStuff","advancedSearchDropdownItems","advancedSearchLooksGood","advancedSearchOptionsGood","advancedSearchOptionsWork","advancedSearchDynamicBehaviorWorks","elementsInActiveCategory","openCategoriesIndex","chooseCategory","searchResultsCount","selectedSearchElementIndex","elementCategory","categoryLabel","elementIconIsLocal","localeCompare","RawIcon","advancedSearchAvailable","elementsForSearch","nextIndex","scrollToActive","shiftKey","newSearch","scrollTo","isAddPanelOpen","ignoreKeys","newIndex","existingCategoryIndex","categorySlug","scrollIntoView","block","panelContext","results","resultsAfterInternalSearchTool","pm","hasDynamicStuff","SearchInput","AddElement","WebsiteDialog","fullscreen","goHome","selectedProvider","canImportAll","importAll","toggleFullscreen","sidebarItems","onPostSelected","toggleImportGlobalSettingsScreen","importGlobalSettings","onProviderLoaded","previewLoaded","elementToPaste","placeToAdd","legalPlaceToAdd","pointerForCreatedNodeId","pasteCopiedElementMutation","placeToAddId","place","placeToAddIndex","pointer","onCreatedElement","treeItems","fuse","threshold","orphans","groupedByTags","filteredItems","VTreeview","provider","chooseProvider","selectedPostId","providerElements","reliesOnGlobalSettings","providerPosts","canvasSize","loadingDesignSetData","loadingExternalGlobalSettings","importGlobalSettingsScreen","unbindListeners","modalOpened","newProvider","oldProvider","getDesignSetData","calculateSizeAfterTransition","handleIframeMessage","setCanvasSize","transitionDuration","wrapper","getElements","importElement","navigatedAway","posts","selectedId","elementsAsString","maybeElements","els","elementAsString","maybeElement","setDesignLibraryModalState","isLocal","designSetData","externalGlobalSettings","errorMessage","setGlobalSettings","setShouldPanelLoadFreshDataIntoStoreOnceOpened","neededData","homeUrl","designLibrary","customDesignSets","currentSiteUrl","customProviders","designLibraryModalOpen","post","selectedPost","LoadingSpinner","DesignLibrarySidebar","DesignLibrarySkeleton","DesignProviderDropdown","VOverlay","DesignLibraryModal","PanelHeader","ElementsList","viewMode","toggleViewMode","isBrowseModeEnabled","toggleBrowseMode","panelToOpen","PanelHeaderButton","editingGlobalSettingsControlsTreeContext","globalSettingsControlsAndTemplate","throttledGlobalSettingsPropertyChange","VLayout","revisionUiItems","onRevisionSelected","RevisionCommonDataV","date","author","GlobalSettingsRevisionV","GlobalSettingsRevisionsListV","SelectorsRevisionV","selectors","SelectorsRevisionsListV","DocumentRevisionV","DocumentRevisionsV","revisions","DocumentRevisionsDataFromServerV","unsupported","fetchRemoteGlobalSettingsRevisions","revisionsNotSupportedMessage","revision","revisionData","isSelected","selected","RevisionItem","remoteRevisions","selectedIndex","unsubscribeFromStore","currentUnsavedRevision","loadRemoteRevisions","settingsHasUnsavedChangesPresent","recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch","setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData","moduleName","findSelectedIndexBasedOnStoreDataMatch","currentGlobalSettings","isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData","setCurrentUnsavedRevisionFromCurrentStoreData","mostRecentRemoteRevision","revisionUiItem","restoreGlobalSettingsRevision","RevisionsList","storedData","isStoringData","isLoadingData","globalSettingsPanelActiveViewMode","shouldLoadFreshDataIntoStoreOnceOpened","loadSettings","isSuccessful","requestClosingConfirmation","subject","confirmationDefinition","requestPanelClosingConfirmation","noClosingConfirmationIsNeededFor","chosenOption","setClosingConfirmationIsDiscarding","isDiscarding","setClosingConfirmationIsSaving","isSaving","storeSettings","closingConfirmations","GlobalSettingsPanelHistoryViewMode","GlobalSettingsPanelControlsViewMode","BrowseModeToggle","activeSelector","updateSelectors","newSelectorName","addSelector","fetchRemoteSelectorsRevisions","selectorsHasUnsavedChangesPresent","currentSelectors","restoreSelectorsRevision","selectorsPanelPanelActiveViewMode","newSelectors","setSelectors","SelectorsPanelHistoryViewMode","SelectorsList","AddSelector","editingClassHover","toggleHover","tryToRenameActiveSelector","highlight","toggleHighlight","howManyOnPage","deleteSelector","editingClassOrClassHover","attemptingToRename","isAttemptedRenameValid","editingClassControlsTreeContext","clearHighlight","setHighlight","selectorToHighlight","indexToDelete","backToAllSelectors","activeSelectorIndex","editingClass","hoverSelectorName","activeSelectorName","findHoverSelector","hoverSelector","foundClass","selectorToFind","matchingElements","endsWith","selectorControls","throttledSelectorPropertyChange","VTooltip","load","EditSelector","ManageSelectors","toggleNodes","toggleStage","onContextMenu","ROOT_ELEMENT_ID","initialMouseDragStatus","overTopHalf","overBottomHalf","overIndex","overNodeId","overNodeParentId","overSelf","overNestDeeper","overNestShallower","getNodeIdAtPointInStructurePanel","draggedElement","elementsFromPoint","filterByClass","sortByDepth","reverse","elementA","elementB","getElementIdDataAttrFromFirstElementThatMatchesClass","elementsList","dragStatus","parent","getNewNodePosition","mouseDragStatus","maybeNodePosition","draggedNode","isLastChild","positionInsideParentNodeId","getPositionBelowParent","getPositionAtEndInside","hasPrecedingSibling","getPositionAtEndInsidePrecedingSibling","getPositionOfNode","getIdOfPrecedingSibling","precedingSiblingId","nodeChildrenCount","getPositionAfterNode","getPositionAtStartInside","parentToPositionAfter","parentToPositionAfter_","draggedNodeIndex","lastRecursedItemIndex","dragAllowed","childCount","forceGrabbingCursor","firstDragMovement","didMoveElement","unsubscribeFromActivateElementMutation","delayedExpandNodeTimeout","expandToShowActiveElementWatch","expandedNodesWithActiveElementInside","panelHeader","activeElementDomEl","hasPermission","button","dragPayload","nodeParent","ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt","newNodePosition","droppedOnElement","isDroppedOnExpandedOrEmpty","wrapWithTransaction","cancelTransactionIfItIsStillInProgress","delayedExpandNode","idOfNodeToKeepOpen","allNodesCollapsedState","nodesToExpandState","collapseAllNodes","expandAllNodes","activeElementParent","collapseAllNodesExcept","disableRevisions","scrollToActiveElement","snapshot","snapshots","currentIndex","onSnapshotSelected","snapshotIndex","setCurrentSnapshotIndex","setStoreFromCurrentSnapshot","scrollToActiveSnapshotElement","nextTick","activeSnapshotItemDomEl","SnapshotItem","selectedRevisionIndex","fetchRemoteRevisions","setRevisionsData","getCurrentUnsavedRevision","setActiveRevision","revisionsData","activeRevisionIndex","getActiveRevisionIndex","scrollToActiveRevision","currentTree","activeRevision","isCurrentRevisionTheSameAsTheMostRecentRevision","setInterfaceState","loadRevision","behavior","Revisions","History","width288","borderOnLeft","borderOnRight","reactivePanelContext","AppLayoutBodyPanelArea","HistoryAndRevisionsPanel","StructurePanel","ElementPropertiesPanel","Add","GlobalSettingsPanel","SelectorsPanel","hasCancel","hasDiscard","markClosingConfirmationAs","hideClosingConfirmation","chooseOptionForClosingConfirmation","fromEntries","confirmation","templateIsFallback","decodedTemplateName","templateUrl","txt","invalidPostData","errorType","backToAdminUrl","showTemplateDialog","requestIdleCallback","isRenderedWithTemplate","containsTemplateContentArea","templateElement","leftSidebarPanel","rightSidebarPanel","getTemplateAttribute","templateIdString","InvalidPostDialog","TemplateDialog","ClosingConfirmations","IframeCanvas","BuilderTopBar","PreferencesModal","KeyboardShortcutsHelpModal","SidebarPanels","AppLayout","unrecoverableErrorMessages","initialMode","initialDocumentToLoadId","maybeLoadedData","documentId","titleParts","removeClosingConfirmation","builder","BuilderLayout","UnrecoverableErrors","iframeUrlToDisplay","isAnyBrowseModeSupportedPanelOpen","toggleGlobalSettingsPanel","toggleSelectorsPanel","toggleHistoryAndRevisionsPanel","exitBrowseMode","iframeID","returnUrl","browseModeOpenUrl","iframeDocumentTitleToDisplay","BrowseModeSave","BrowseModeSidebarPanels","setMode","useDarkMode","$vuetify","dark","BrowseMode","Builder","Notifications","VApp","config","productionTip","ignoredElements","use","directive","globalBlockName","saveAsGlobalBlock","required","importDefaultProperties","clearDefaultProperties","confirmDefaultProperties","ClipboardDataV","source","colors","getPathsByType","addPathToAccumulator","curPath","concat","moveExternalSiteGlobalsIntoElement","copiedPresets","copiedColors","builderElement","presetId","foundCopiedPreset","maybeImportTypographyPresetFromClipboard","custom","colorPaths","maybeUpdateColor","foundCopiedColor","maybeImportColorFromClipboard","isObject","importClipboardMetadataToElement","recursiveImport","exportClipboardMetadataFromElement","hostname","presetIdToCopy","isPresetInGlobalPresets","isCssVar","isColorInGlobalColors","cssVar","cssVariableName","globalColors","clipboardEvents","registerClipboardShortcuts","onNativeEventReceived","iframeDoc","hasSelection","cutElement","determinePastingMethod","safari","writeToClipboard","writeText","debug","readFromClipboard","eventText","method","readText","getElementFromClipboard","elementAsJsonString","maybeClipboardData","elementToCopy","exportedElement","exportedElementWithMetadata","exportedElementAsJsonString","elementIdToPasteNodesIntoOrNear","addElementMutation","parentNodeId","elementIdToPastePropertiesTo","elementToCopyPropertiesFrom","elementToPastePropertiesTo","copiedProperties","elementToPasteTo"],"mappings":"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","file":"js/app.76f34073.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&lang=css&\"","import { Tree } from \"@/types/tree\";\nimport { findNode, parentNodesReduce, treeNodeReduce } from \"@/lib/tree/tree\";\nimport { uiStore } from \"@/store/store-accessor\";\n\nexport type StructurePanelNodeStateExpanded = undefined | true;\nexport type StructurePanelNodeStateCollapsed = false;\n\nexport type StructurePanelNodesExpandedState = {\n  [key: string]:\n    | StructurePanelNodeStateExpanded\n    | StructurePanelNodeStateCollapsed;\n};\n\nexport function expandOrCollapseAllNodes(\n  tree: Tree,\n  expand: boolean\n): StructurePanelNodesExpandedState {\n  return treeNodeReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = expand;\n      return acc;\n    },\n    tree.root,\n    {}\n  );\n}\n\nexport function expandNodesToShowActiveElement(\n  tree: Tree,\n  activeElementId: number\n): StructurePanelNodesExpandedState | undefined {\n  const activeNode = findNode(tree, activeElementId);\n\n  if (!activeNode) return;\n\n  return parentNodesReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = true;\n      return acc;\n    },\n    tree,\n    activeNode,\n    {}\n  );\n}\n\nexport function structurePanelNodeIsCollapsed(nodeId: number) {\n  return uiStore.structurePanelNodesExpandedState[nodeId] === false;\n}\n\nexport function structurePanelNodeIsExpanded(nodeId: number) {\n  return (\n    uiStore.structurePanelNodesExpandedState[nodeId] === undefined ||\n    uiStore.structurePanelNodesExpandedState[nodeId] === true\n  );\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"structure-node-children\"},[_vm._l((_vm.nodes),function(childElement){return [_c('StructureNode',{key:childElement.id,attrs:{\"element\":childElement,\"depth\":_vm.depth}})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'structure-node': true,\n    'breakdance--currently-dragging': this.currentlyDragging\n  },attrs:{\"data-element-id\":_vm.element.id}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",class:_vm.activeClass,style:(_vm.indentStyle),on:{\"click\":_vm.activateElement}},[_c('div',{staticClass:\"structure-node-title-real\"},[_c('div',{staticClass:\"structure-node-toggle-wrapper\"},[(_vm.element.children.length)?_c('Icon',{staticClass:\"structure-node-action__icon\",attrs:{\"icon\":\"CaretDownIcon\",\"size\":\"10\",\"rotate\":_vm.shouldShowChildrenNodes ? undefined : '270'},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleChildren($event)}}}):_vm._e()],1),_c('div',{class:{\n            'structure-node-title-real-real': true,\n            'structure-panel-editing-friendly-name': _vm.editingFriendlyName\n          }},[_c('ElementIcon',{staticClass:\"structure-node-icon\",attrs:{\"icon\":_vm.baseElement.uiIcon,\"size\":\"12\"}}),_c('div',{staticClass:\"element-title-text\",attrs:{\"title\":_vm.friendlyNameInputValue || _vm.elementName}},[(!_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title-name ellipsis-text\",on:{\"dblclick\":_vm.enableEditingFriendlyName}},[_vm._v(\" \"+_vm._s(_vm.friendlyNameInputValue || _vm.elementName)+\" \")]):_vm._e(),(_vm.editingFriendlyName)?_c('input',{ref:\"friendlyNameInputRef\",staticClass:\"element-custom-name-input\",attrs:{\"size\":_vm.friendlyNameInputValue,\"spellcheck\":\"false\"},domProps:{\"value\":_vm.friendlyNameInputValue},on:{\"input\":function($event){return _vm.updateFriendlyName($event.target.value)},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }_vm.showElementNameFallback = false},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.disableEditing($event)}],\"blur\":_vm.disableEditing,\"mousedown\":function($event){$event.stopPropagation();return _vm.noop($event)},\"contextmenu\":function($event){$event.stopPropagation();return _vm.noop($event)}}}):_vm._e(),(_vm.isDraftSection && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" (Draft) \")]):_vm._e(),(_vm.isShowingIdsInStructurePanel && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" #\"+_vm._s(_vm.element.id)+\" \")]):_vm._e()]),(!_vm.editingFriendlyName)?_c('div',{staticClass:\"structure-node-actions__wrapper\"},[_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"BarsIcon\",\"title\":\"Open menu\"},on:{\"click\":_vm.showContextMenu}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"icon\":\"DuplicateIcon\",\"title\":\"Duplicate element\"},on:{\"click\":_vm.duplicate}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"TrashIcon\",\"title\":\"Delete element\"},on:{\"click\":_vm.remove}})],1):_vm._e()],1)])]),_c('div',{staticClass:\"nest-deeper\",style:(_vm.nestDeeperStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"nest-shallower\",style:(_vm.nestShallowerStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}})]),(_vm.shouldShowChildrenNodes)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.element.children,\"depth\":_vm.depth + 1}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport ChildStructureNodes from \"@/components/Structure/ChildStructureNodes.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport { openUiPanel, whichSideToPutUiPanel } from \"@/lib/panels/panels\";\nimport { structurePanelNodeIsExpanded } from \"@/lib/structure-panel/expand-collapse\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst nodeIndentAmount = 16;\n\n@Component({\n  name: \"StructureNode\",\n  components: {\n    ElementIcon,\n    Icon,\n    StructureContextMenu,\n    ChildStructureNodes\n  }\n})\nexport default class StructureNode extends Vue {\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  depth: any;\n\n  showElementNameFallback = true;\n\n  editingFriendlyName = false;\n\n  get shouldShowChildrenNodes() {\n    return structurePanelNodeIsExpanded(this.element.id);\n  }\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  activateElement() {\n    uiStore.activateElement(this.element.id);\n\n    if (\n      whichSideToPutUiPanel(\"elementproperties\") !==\n      whichSideToPutUiPanel(\"structure\")\n    ) {\n      openUiPanel(\"elementproperties\");\n    }\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  get activeClass() {\n    return {\n      \"breakdance--active-element\": uiStore.activeElementId === this.element.id\n    };\n  }\n\n  get indentStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      marginLeft: `${indentAmt}px`,\n      width: `calc(100% - 1px - ${indentAmt}px`\n    };\n  }\n\n  get nestDeeperStyle() {\n    const indentAmt = (this.depth + 1) * nodeIndentAmount;\n    return {\n      left: `${indentAmt}px`\n    };\n  }\n\n  get nestShallowerStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      width: `${indentAmt}px`\n    };\n  }\n\n  get elementName() {\n    return configStore.element(this.element.data.type).name;\n  }\n\n  get currentlyDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  duplicate() {\n    documentStore.duplicateElementAndActivateIt(this.element.id);\n  }\n\n  showContextMenu(e: MouseEvent) {\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId: this.element.id,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  remove() {\n    documentStore.deleteElement({ nodeId: this.element.id });\n  }\n\n  toggleChildren() {\n    const newStructurePanelNodesExpandedState = defensiveCopy(\n      uiStore.structurePanelNodesExpandedState\n    );\n\n    newStructurePanelNodesExpandedState[this.element.id] = !this\n      .shouldShowChildrenNodes;\n\n    uiStore.setStructurePanelNodesExpandedState(\n      newStructurePanelNodesExpandedState\n    );\n  }\n\n  get isDraftSection() {\n    if (this.element.data.type === SECTION_SLUG) {\n      return lodash.get(\n        this.element.data.properties,\n        \"settings.advanced.draft\"\n      );\n    }\n\n    return false;\n  }\n\n  get friendlyNameInputValue() {\n    if (\n      this.element.data.properties?.meta?.friendlyName === undefined &&\n      // If the user deletes the whole input, don't go back to showing it\n      this.showElementNameFallback\n    ) {\n      this.showElementNameFallback = false;\n\n      return this.elementName;\n    }\n\n    // need this to trick the computed prop into re-rendering. Otherwise, it won't rerun and update\n    if (this.editingFriendlyName) {\n      // if it already has a name, don't show the fallback when deleting it\n      this.showElementNameFallback = false;\n    }\n\n    return (\n      this.element.data.properties?.meta?.friendlyName &&\n      this.element.data.properties?.meta?.friendlyName.trim()\n    );\n  }\n\n  enableEditingFriendlyName() {\n    this.editingFriendlyName = true;\n\n    // wait for it to show\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.focus();\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.select();\n    });\n  }\n\n  updateFriendlyName(friendlyName: string | undefined) {\n    documentStore.unthrottledPropertyChanged({\n      elementId: this.element.id,\n      path: \"meta.friendlyName\",\n      meta: {\n        snapshotLabel: `Updated friendly name for element \"${this.elementName}\"`\n      },\n      value: friendlyName?.trim() || undefined\n    });\n  }\n\n  disableEditing() {\n    this.editingFriendlyName = false;\n    this.showElementNameFallback = true;\n  }\n\n  // don't drag or open context menu\n  noop(e: Event) {\n    e.stopPropagation();\n    return {};\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureNode.vue?vue&type=template&id=96a0f582&\"\nimport script from \"./StructureNode.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureNode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport StructureNode from \"./StructureNode.vue\";\n\n@Component({\n  components: {\n    StructureNode\n  },\n  name: \"ChildStructureNodes\"\n})\nexport default class ChildStructureNodes extends Vue {\n  @Prop()\n  nodes: any;\n\n  @Prop()\n  depth: any;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChildStructureNodes.vue?vue&type=template&id=00e6d15a&\"\nimport script from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=style&index=0&lang=css&\"","export async function maybeQueryClipboardPermission() {\n  const queryOpts = {\n    name: \"clipboard-read\",\n    allowWithoutGesture: false\n  };\n\n  try {\n    // @ts-ignore\n    return await navigator.permissions.query(queryOpts);\n  } catch (e) {\n    return { state: \"denied\" };\n  }\n}\n\nexport async function getClipboardStatus() {\n  const permission = await maybeQueryClipboardPermission();\n\n  return {\n    secure: window.isSecureContext,\n    permission\n  };\n}\n\nexport function fallbackWriteToClipboard(text: string) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  textArea.classList.add(\"breakdance-offscreen-input\");\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let result: boolean;\n\n  try {\n    result = document.execCommand(\"copy\");\n  } catch (err) {\n    result = false;\n  }\n\n  document.body.removeChild(textArea);\n  return result;\n}\n\nfunction isHTMLInputElement(node: HTMLElement): node is HTMLInputElement {\n  return node?.nodeName === \"INPUT\";\n}\n\nfunction isTextField(node: HTMLElement) {\n  const nonTextInputs = [\n    \"button\",\n    \"checkbox\",\n    \"hidden\",\n    \"file\",\n    \"radio\",\n    \"image\",\n    \"range\",\n    \"reset\",\n    \"submit\",\n    \"number\",\n    \"email\",\n    \"time\"\n  ];\n\n  return (\n    (isHTMLInputElement(node) &&\n      node.type &&\n      !nonTextInputs.includes(node.type)) ||\n    node.nodeName === \"TEXTAREA\" ||\n    node.contentEditable === \"true\"\n  );\n}\n\nexport function documentHasTextSelection(doc: Document) {\n  const selection = doc?.defaultView?.getSelection();\n  const range = selection?.rangeCount ? selection.getRangeAt(0) : null;\n  return !!range && !range.collapsed;\n}\n\nexport function documentHasSelection(doc: Document) {\n  const activeEl = doc.activeElement as HTMLElement;\n\n  return (\n    activeEl &&\n    (isHTMLInputElement(activeEl) ||\n      isTextField(activeEl) ||\n      documentHasTextSelection(doc))\n  );\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=style&index=0&lang=css&\"","import * as t from \"io-ts\";\nimport { Either, flatten, map, mapLeft } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport fpJsonParse from \"@/util/fp-json-parse\";\nimport { flow, pipe } from \"fp-ts/lib/function\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\n\n/**\n * Does JSON parsing and IO-TS decoding of the parsing result.\n *\n * Example usage:\n *\n * fpJsonParseTypesafe('{\"foo\": \"bar\"}', t.typeof({foo: t.string}));\n */\nexport default function fpJsonParseTypesafe<\n  IoTsType extends t.Type<IoTsTypeTypeOf>,\n  IoTsTypeTypeOf = IoTsType extends t.Type<infer R> ? R : never\n>(\n  jsonWhichMightBeInvalid: string,\n  ioTsType: IoTsType\n): Either<_Error[], IoTsTypeTypeOf> {\n  return pipe(\n    jsonWhichMightBeInvalid,\n    fpJsonParse,\n    map(flow(ioTsType.decode, mapLeft(iotsErrorsToCustomErrorType))),\n    flatten\n  );\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Dropdown',{attrs:{\"absolute\":true,\"position-x\":_vm.position.x,\"position-y\":_vm.position.y,\"transition\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true),model:{value:(_vm.shouldShow),callback:function ($$v) {_vm.shouldShow=$$v},expression:\"shouldShow\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.copyElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElement},nativeOn:{\"click\":function($event){return _vm.pasteElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Paste\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_c('v-list-item-title',[_vm._v(\"Paste Design\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_c('v-list-item-title',[_vm._v(\"Paste Settings\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.deleteElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Delete\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canSaveAsGlobalBlock},nativeOn:{\"click\":function($event){return _vm.openSaveGlobalBlockDialog($event)}}},[_c('v-list-item-title',{staticClass:\"pointer-events-none\"},[_vm._v(\"Save as Global Block\")])],1)],1)],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.element.id},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { TreeNode } from \"@/types/tree\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    GlobalBlockDialog,\n    Dropdown\n  }\n})\nexport default class StructureContextMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  get menuState() {\n    return uiStore.onStructurePanelRightClickMenuState !== \"closed\"\n      ? uiStore.onStructurePanelRightClickMenuState\n      : null;\n  }\n\n  get position() {\n    return this.menuState?.position || { x: 0, y: 0 };\n  }\n\n  get elementId() {\n    return this.menuState?.elementId;\n  }\n\n  get element(): TreeNode | undefined {\n    return findNode(documentStore.document.tree, this.elementId);\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.elementId) {\n      copyElement(this.elementId);\n    }\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElement(this.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElementProperties(this.elementId, path);\n    }\n  }\n\n  deleteElement() {\n    if (!this.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.elementId });\n  }\n\n  openSaveGlobalBlockDialog() {\n    if (this.elementId) {\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.$emit(\"close\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return this.elementId && canSaveAsGlobalBlock(this.elementId);\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onStructurePanelRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  set shouldShow(value: boolean) {\n    if (!value) {\n      uiStore.setOnStructurePanelRightClickMenuState(\"closed\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureContextMenu.vue?vue&type=template&id=46cbc17c&\"\nimport script from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VDivider,VList,VListItem,VListItemTitle})\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Default Children \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"default-new-value\":_vm.defaultValue,\"control\":_vm.repeaterOptions},on:{\"input\":function($event){return _vm.updateDefaultElements($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nvar value = ref.value;\nreturn [_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"value\":value.slug,\"items\":_vm.elementsAvailableForThisElementNestingType,\"hint\":\"Element that will be automatically added inside this current element\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'slug')}}}),(value.slug && _vm.canHaveChildren(value.slug))?_c('ElementStudioDefaultElements',{staticClass:\"mb-2\",attrs:{\"value\":value.children,\"parent-element-slug\":value.slug,\"allow-import\":false},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'children')}}}):_vm._e(),(value.slug)?_c('ElementStudioDefaultProperties',{attrs:{\"value\":value.defaultProperties || false,\"element-slug\":value.slug},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'defaultProperties')}}}):_vm._e()]}}])}),(_vm.allowImport)?_c('div',[_c('br'),_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Import all children of the currently active element \")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.canImport},on:{\"click\":_vm.importChildren}},[_vm._v(\" Import Children \")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport { DefaultChildElement } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ElementStudioDefaultProperties from \"@/components/ElementStudio/ElementStudioDefaultProperties.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioDefaultProperties,\n    TextInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable,\n  },\n})\nexport default class ElementStudioDefaultElements extends Vue {\n  @Prop()\n  value!: DefaultChildElement[];\n\n  @Prop()\n  parentElementSlug!: string;\n\n  @Prop({ default: true })\n  allowImport!: boolean;\n\n  defaultValue = {};\n\n  repeaterOptions = {\n    options: {\n      repeaterOptions: {\n        defaultTitle: \"Default Element\",\n        titleTemplate: \"{slug}\",\n        buttonName: \"Add new default element\",\n      },\n    },\n  };\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ElementStudioDefaultElements =\n      require(\"./ElementStudioDefaultElements.vue\").default;\n  }\n\n  updateDefaultElements(newValue: DefaultChildElement[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  canHaveChildren(slug: string) {\n    if (!slug) return false;\n\n    const element = configStore.element(slug);\n    const type = element.nestingRule.type;\n    return !type.startsWith(\"final\");\n  }\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.context.element().slug;\n  }\n\n  importChildren() {\n    if (!uiStore.activeElement) return;\n\n    const transform = (element: TreeNode): DefaultChildElement => {\n      return {\n        slug: element.data.type,\n        defaultProperties: element.data.properties,\n        children: element.children.map(transform),\n      };\n    };\n\n    const activeElement = defensiveCopy(uiStore.activeElement);\n\n    const newChildren = activeElement.children.map(transform);\n\n    this.updateDefaultElements(newChildren);\n  }\n\n  get elementsAvailableForThisElementNestingType() {\n    return Object.keys(configStore.elements).filter((slug) => {\n      const parentElement = configStore.element(this.parentElementSlug);\n      const currentElementNestingRule = configStore.element(slug).nestingRule;\n\n      return isNestingRuleAllowedInside(\n        currentElementNestingRule,\n        parentElement.nestingRule,\n        parentElement.slug\n      );\n    });\n  }\n\n  updatePath(\n    value: any,\n    repeaterIndex: number,\n    path: keyof DefaultChildElement\n  ) {\n    const newValue = defensiveCopy(this.value) || {};\n    newValue[repeaterIndex][path] = value;\n\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultElements.vue?vue&type=template&id=99698fd2&\"\nimport script from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{class:_vm.classList},[_c('Notifications'),(_vm.isBrowseModeEnabled)?[_c('BrowseMode',{key:\"browser\"})]:[_c('Builder',{key:\"builder\"})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-builder\"},[(_vm.errorsPresent)?_c('UnrecoverableErrors'):(_vm.interfaceState === 'normal')?_c('BuilderLayout'):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayout',{class:_vm.classList,scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('BuilderTopBar')]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('DesignLibraryModal'),_c('SidebarPanels',{attrs:{\"panelState\":_vm.leftSidebarPanelState,\"position\":'left'}}),_c('IframeCanvas',{on:{\"loaded\":_vm.onIframeLoaded}}),(_vm.showTemplateDialog)?_c('TemplateDialog',{attrs:{\"template-id\":_vm.templateId,\"template-name\":_vm.templateName,\"templateIsFallback\":_vm.isTemplateFallback,\"templatesPageUrl\":_vm.templatesPageUrl}}):_vm._e(),(_vm.showInvalidPostDialog)?_c('InvalidPostDialog'):_vm._e(),(_vm.preferencesModalOpen)?_c('PreferencesModal',{attrs:{\"open\":_vm.preferencesModalOpen},on:{\"update:dialog\":_vm.updatePreferencesModal}}):_vm._e(),(_vm.keyboardShortcutsHelpModalOpen)?_c('KeyboardShortcutsHelpModal',{attrs:{\"open\":_vm.keyboardShortcutsHelpModalOpen},on:{\"update:dialog\":_vm.updateKeyboardShortcutsHelpModal}}):_vm._e(),_c('SidebarPanels',{attrs:{\"panelState\":_vm.rightSidebarPanelState,\"position\":'right'}}),(_vm.elementStudioOpen)?_c('div',{staticClass:\"breakdance-app-far-right-area vscroll-wrap\"},[_c('ElementStudio')],1):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.iframeURL)?_c('IframeWrapper',{attrs:{\"iframe-url\":_vm.iframeURL,\"iframe-preview-width\":_vm.canvasPreviewWidth,\"iframe-exited\":_vm.iframeExited,\"iframe-state\":_vm.canvasState,\"min-width\":_vm.iframeMinWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-id\":\"iframe\"},on:{\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"iframeLoaded\":_vm.mountCanvasInIframe,\"iframeUnloaded\":_vm.setIframeAsExited,\"reloadWanted\":_vm.reloadIframe,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"/* Copied from globals.scss, don't modify here directly */\\n:root {\\n  --white: #ffffff;\\n  --black: #000000;\\n\\n  --blue50: #eff6ff;\\n  --blue100: #dbeafe;\\n  --blue200: #bfdbfe;\\n  --blue300: #93c5fd;\\n  --blue400: #60a5fa;\\n  --blue500: #3b82f6;\\n  --blue600: #2563eb;\\n  --blue700: #1d4ed8;\\n  --blue800: #1e40af;\\n  --blue900: #1e3a8a;\\n\\n  --red600: #dc2626;\\n\\n  --bde-canvas-font-family: system-ui, -apple-system, \\\"Segoe UI\\\", Roboto,\\n    Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\";\\n\\n  --bde-app-font-family: \\\"Avenir\\\", Helvetica, Arial, sans-serif;\\n}\\n\\n/* everything here should be prefixed with breakdance because\\nthese styles are mixed with any fuckery from their theme */\\n\\n#breakdance_canvas {\\n  position: relative;\\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\\n  therwise if the user uses absolute positioning, things could look different in the builder */\\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\\n}\\n\\n#breakdance_canvas.dragging {\\n  cursor: grabbing;\\n}\\n\\n#iframe {\\n  margin: 4px;\\n  border: 1px solid #eee;\\n  background-color: white;\\n  width: 100%;\\n  padding: 2px;\\n  font-family: var(--bde-canvas-font-family);\\n  position: relative;\\n}\\n\\n.breakdance-icon {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.breakdance-icon > svg {\\n  fill: currentColor;\\n}\\n\\n.dragTaller {\\n  height: 6px;\\n  width: 6px;\\n  border: 2px solid grey;\\n  border-radius: 50%;\\n  background-color: white;\\n  z-index: 2000;\\n}\\n\\n.drag-dot {\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background-color: rgb(32, 43, 67);\\n  cursor: move;\\n  position: absolute;\\n  z-index: 100000;\\n  pointer-events: auto;\\n}\\n\\n.drag-dots-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\\n.drag-dot-top-left {\\n  top: -5px;\\n  left: -5px;\\n}\\n\\n.drag-dot-top-middle {\\n  top: -5px;\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-top-right {\\n  top: -5px;\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-bottom-left {\\n  top: calc(100% - 5px);\\n  left: -5px;\\n}\\n\\n.drag-dot-bottom-middle {\\n  top: calc(100% - 5px);\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-bottom-right {\\n  top: calc(100% - 5px);\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-middle-left {\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.drag-dot-middle-right {\\n  top: 50%;\\n  transform: translate(50%, -50%);\\n  right: 0;\\n}\\n\\n.spacing-bar {\\n  background-color: rgba(0, 0, 255, 0.2);\\n  opacity: 0;\\n  position: absolute;\\n  transition: 0.3s ease-in-out opacity;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10000;\\n  min-height: 5px;\\n}\\n\\n.spacing-bar:hover {\\n  transition-delay: 0.2s;\\n}\\n\\n.spacing-bar .spacing-bar-current-value {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  pointer-events: none;\\n}\\n\\n.spacing-bar-inside-top {\\n  min-height: 5px;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n/* column drag */\\n.drag-dots-left-width {\\n  margin-right: 22px;\\n}\\n\\n.drag-dots-column-widths-values {\\n  display: flex;\\n  flex-direction: row;\\n  position: absolute;\\n  left: -66px;\\n  top: -8px;\\n}\\n\\n.drag-dots-left-width,\\n.drag-dots-right-width {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  width: 48px;\\n}\\n\\n/* Node Chrome */\\n\\n.node-chrome,\\n.node-titlebar-wrapper,\\n.node-hover-controls {\\n  transition: 0.3s opacity ease;\\n}\\n\\n.node-chrome--hide-all,\\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\\n.node-chrome--hide-hover .node-hover-controls {\\n  opacity: 0;\\n}\\n\\n/* Titlebars */\\n\\n.node-titlebar-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n  direction: ltr;\\n  z-index: 10000;\\n  outline: 1px solid rgb(32, 43, 67);\\n  user-select: none;\\n}\\n\\n.node-titlebar {\\n  pointer-events: auto;\\n\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n\\n  bottom: 100%;\\n  height: 28px;\\n  padding: 0 10px;\\n  border-radius: 4px 4px 0 0;\\n\\n  font-family: var(--bde-app-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n\\n  letter-spacing: normal;\\n  text-transform: none;\\n\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n  z-index: 1000000;\\n\\n  left: -1px;\\n}\\n\\n.node-titlebar-is-draft-section {\\n  background-color: rgb(122, 125, 133);\\n}\\n\\n/*\\n * Moving you mouse over the node titlebar or spacing bars\\n * will trigger an erroneous mouseleave event on the element\\n * you are dragging, when your mouse is not outside of it yet.\\n */\\n.dragging .spacing-bar,\\n.dragging .node-titlebar {\\n  pointer-events: none;\\n}\\n\\n.node-titlebar-is-dragging,\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  cursor: grabbing;\\n}\\n\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  opacity: 0.5;\\n}\\n\\n.node-titlebar-is-dragging {\\n  /* color: rgb(32, 43, 67); */\\n  background-color: rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper-is-dragging {\\n  outline: 1px solid rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper .node-titlebar-button {\\n  color: rgba(255, 255, 255, 0.85);\\n  cursor: pointer;\\n}\\n\\n.node-titlebar-button:hover {\\n  color: rgba(255, 255, 255, 1);\\n}\\n\\n.node-titlebar-title {\\n  white-space: nowrap;\\n  cursor: grab;\\n  display: flex;\\n  align-items: center;\\n  letter-spacing: normal;\\n}\\n\\n.node-titlebar-title .node-titlebar-button {\\n  margin-right: 4px;\\n  margin-left: 0px;\\n}\\n\\n.node-titlebar-title .node-titlebar-button svg {\\n  cursor: grab;\\n}\\n\\n.node-titlebar-button-activate-parent {\\n  margin-left: 6px;\\n}\\n\\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.node-titlebar-button {\\n  margin-left: 9px;\\n}\\n\\n.node-titlebar-button > svg {\\n  width: 13px;\\n  height: 13px;\\n}\\n\\n.node-titlebar-margin-left {\\n  margin-left: 20px;\\n}\\n\\n/* Other */\\n.breakdance-drag-placeholder-wrapper {\\n  pointer-events: none;\\n}\\n\\n.breakdance-drag-placeholder {\\n  /* this won't work if something other than the window has position relative on it,\\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\\n\\n  /* some months later\\n  ... really? The above sounds like bullshit. I can put position relative\\n  on all sorts of stuff and this works fine\\n  so maybe we are already mounting the overlaid UI chrome in the right place?\\n  */\\n\\n  position: absolute;\\n  /* ---- */\\n  background-color: var(--blue500);\\n  z-index: 100001;\\n  display: none;\\n  border-radius: 2px;\\n}\\n\\n.breakdance-drag-target-outline {\\n  outline: 6px solid var(--blue300);\\n  outline-offset: -6px;\\n  z-index: 100000;\\n  display: none;\\n}\\n\\n.breakdance-children-pointer-events-none > * {\\n  pointer-events: none;\\n}\\n\\n/* global blocks */\\n.breakdance-themeless-global-block {\\n  cursor: default;\\n}\\n\\n.breakdance-themeless-global-block::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-themeless-global-block *::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-foreign-documents-overlay {\\n  font-family: var(--bde-canvas-font-family);\\n  position: fixed;\\n  z-index: 9999;\\n  outline: 1px solid rgb(255 182 216);\\n  outline-offset: -1px;\\n  cursor: not-allowed;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  display: none;\\n}\\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar {\\n  position: relative;\\n  left: -50%;\\n  height: 28px;\\n  padding: 0 10px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n  background-color: rgb(255 182 216);\\n  border-radius: 0px 0px 4px 4px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  user-select: none;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a {\\n  cursor: pointer;\\n  color: black;\\n  text-decoration: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a svg {\\n  margin-left: 5px;\\n  width: 14px;\\n  height: 14px;\\n}\\n\\n.breakdance-foreign-document-wrapper:hover\\n  .breakdance-foreign-document-wrapper__overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/* node hover controls */\\n.node-hover-controls {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 9999;\\n}\\n\\n.node-hover-controls--outline {\\n  outline: 1px solid rgb(177, 202, 255);\\n}\\n\\n.node-hover-controls > div {\\n  display: none;\\n  z-index: 100000;\\n}\\n\\n.node-hover-controls.node-hover-controls-show > div {\\n  display: flex;\\n}\\n\\n.node-hover-controls-button {\\n  position: absolute;\\n  pointer-events: auto;\\n  flex-direction: column;\\n\\n  border-radius: 50%;\\n\\n  width: 40px;\\n  height: 40px;\\n\\n  font-size: 20px;\\n  font-weight: 700;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n}\\n\\n.node-hover-controls-bottom-button {\\n  top: calc(100% - 20px);\\n  left: calc(50% - 20px);\\n}\\n\\n.node-hover-controls-right-button {\\n  top: 50%;\\n  left: calc(100% - 48px);\\n  transform: translateY(-50%);\\n}\\n\\n.node-hover-controls-menu {\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  border-radius: 3px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 13px;\\n  font-weight: 500;\\n  flex-direction: column;\\n  background-color: white;\\n  color: black;\\n  display: none;\\n  position: absolute;\\n  top: calc(100% - 20px);\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 170px;\\n  overflow: hidden;\\n}\\n\\n.node-hover-controls-menu > div {\\n  padding: 9px 12px;\\n  text-align: center;\\n}\\n\\n.node-hover-controls-menu > div:hover {\\n  background-color: #fafafa;\\n}\\n\\n.node-hover-controls-menu--open {\\n  display: flex;\\n}\\n\\n/* We do the outlining with JS to add some logic to it*/\\n*:focus[contenteditable=\\\"true\\\"] {\\n  border: none;\\n  outline: none;\\n}\\n\\n.node-content-editable {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 1000;\\n  outline: 1px solid var(--blue500);\\n}\\n\\n/* EMPTY CONTAINER */\\n\\n.breakdance-empty-container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  min-height: 200px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  font-family: var(--bde-canvas-font-family);\\n\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n\\n  user-select: none;\\n\\n  background-color: var(--blue50);\\n  width: 42px;\\n  height: 42px;\\n  border-radius: 3px;\\n  margin: 10px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  color: var(--blue500);\\n}\\n\\n.breakdance-empty-container__add-element:hover {\\n  background-color: var(--blue100);\\n}\\n\\n.breakdance-empty-container__add-element--disabled,\\n.breakdance-empty-container__add-element--disabled:hover {\\n  cursor: not-allowed;\\n  background: var(--grey-100);\\n  color: var(--grey-300);\\n}\\n\\n/* COLUMNS */\\n\\n.breakdance-empty-columns {\\n  font-family: var(--bde-canvas-font-family);\\n  box-sizing: border-box;\\n  width: 100%;\\n  overflow: hidden;\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\\n  padding: 50px;\\n}\\n\\n.breakdance-empty-columns-choices-heading {\\n  font-weight: 500;\\n  font-size: 16px;\\n  text-align: center;\\n  margin-bottom: 16px;\\n  user-select: none;\\n}\\n\\n.breakdance-empty-columns-choices {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-choices-row {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper {\\n  padding: 4px;\\n  margin: 16px;\\n  cursor: pointer;\\n  border-radius: 3px;\\n  transition: 0.3s ease-in-out filter;\\n  filter: grayscale(90%);\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper:hover {\\n  filter: grayscale(0%);\\n}\\n\\n.breakdance-empty-columns-column-icon {\\n  width: 160px;\\n  height: 90px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n}\\n\\n.breakdance-empty-columns-column-icon-column {\\n  margin: 4px;\\n  width: 100%;\\n  background-color: #bfdbfe;\\n  border-radius: 3px;\\n}\\n\\n.breakdance--empty-container:not(.breakdance--active-element) {\\n  outline: 2px solid #eee;\\n  outline-offset: -2px;\\n}\\n\\n/* ELEMENT */\\n\\n.builder-element {\\n  cursor: default;\\n}\\n\\n/* right click menu. This is  duplicated in the RightClickMenu\\n\\nWe need it also here because this is used both in the canvas and the structure panel\\n*/\\n\\n.breakdance-canvas-right-click-menu {\\n  position: absolute;\\n  z-index: 2147483647;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: var(--white);\\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\\n  min-width: 200px;\\n  border-radius: 4px;\\n  padding: 6px 0px;\\n  user-select: none;\\n}\\n\\n.breakdance-canvas-right-click-menu-item {\\n  font-size: 13px;\\n  font-weight: 400;\\n  font-size: 13px;\\n  min-height: 40px;\\n  padding-left: 18px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  cursor: pointer;\\n  color: #333;\\n}\\n\\n.breakdance-canvas-right-click-menu-divider {\\n  height: 1px;\\n  background-color: #ddd;\\n  margin-top: 6px;\\n  margin-bottom: 6px;\\n}\\n\\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\\n  background-color: #eee;\\n}\\n\\n.breakdance-canvas-right-click-menu-item-disabled {\\n  opacity: 0.5;\\n  cursor: default !important;\\n}\\n\\n/* Empty State */\\n\\n.breakdance-canvas-empty-element {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100%;\\n  padding: 30px;\\n  text-align: center;\\n  border: 2px dashed #c3c4c7;\\n}\\n\\n.breakdance-canvas-empty-element__title {\\n  font-size: 18px;\\n  font-weight: normal;\\n  color: #646970;\\n  margin-bottom: 0;\\n}\\n\\n/*** Warning ***/\\n\\n.bde-no-custom-query-error {\\n  background: rgb(254, 242, 242);\\n  color: var(--red600);\\n  padding: 12px;\\n}\\n\\n/*** Loading ***/\\n\\n.breakdance-empty-ssr-message {\\n  padding: 12px;\\n  background: rgb(242, 242, 254);\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  color: black;\\n  font-size: 13px;\\n  font-weight: 500;\\n  margin: 12px 0;\\n}\\n\\n.breakdance-empty-ssr-message-error {\\n  background: rgb(254, 242, 242);\\n}\\n\\n.breakdance-empty-ssr-message small {\\n  margin-top: 6px;\\n  color: black;\\n  font-size: 11px;\\n  font-weight: 400;\\n}\\n\\n.breakdance-element-is-updating:empty {\\n  min-height: 80px;\\n  max-width: 100%;\\n  width: 400px;\\n}\\n\\n.breakdance-element-is-updating {\\n  opacity: 0.3;\\n  background: repeating-linear-gradient(\\n    45deg,\\n    #eee 0px,\\n    #eee 10px,\\n    #d4d4d4 10px,\\n    #d4d4d4 20px\\n  );\\n}\\n\\n.breakdance-node-titlebar-loading-spinner {\\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\\n}\\n\\n@keyframes breakdance-node-titlebar-loading-spinner {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\";","import {\n  CreateElement,\n  VNode,\n  VNodeChildren,\n  VNodeChildrenArrayContents,\n  VNodeData\n} from \"vue\";\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\n\nexport function htmlToVNodes(\n  html: string,\n  createElement: CreateElement,\n  functionToRenderChildren: () => VNode | VNode[],\n  {\n    enableContentEditableAndFocus,\n    saveContentEditable\n  }: {\n    enableContentEditableAndFocus: Function;\n    saveContentEditable: Function;\n  }\n): VNodeChildrenArrayContents {\n  const processNodes = (nodes: NodeListOf<ChildNode>) => {\n    const arrayOfNodes: VNodeChildrenArrayContents = [];\n    nodes.forEach(node => {\n      if (node.nodeType === TEXT_NODE) {\n        // nodeValue can have white spaces and we must preserve them, otherwise the HTML may end up wrong\n        const nodeValue = node.nodeValue;\n\n        if (nodeValue?.trim() === \"%%CHILDREN%%\") {\n          // '<div> %%CHILDREN%% </div>' will lose the whitespace around children, which is technically a bug.\n          // But this probably doesn't matter.\n          arrayOfNodes.push(functionToRenderChildren());\n        } else if (nodeValue) {\n          arrayOfNodes.push(nodeValue);\n        }\n      } else if (node.nodeType === ELEMENT_NODE && node instanceof Element) {\n        /* property attributes actually does exist of nodeType is ELEMENT_NODE, apparently */\n        const rawAttributes = node.attributes;\n        const tag = node.nodeName;\n        const attsObj: VNodeData[\"attrs\"] = {};\n        const domProps: VNodeData[\"domProps\"] = {};\n        const contentEditableEvents: VNodeData[\"on\"] = {};\n        const children: VNodeChildren = [];\n\n        // Don't add class or style if variable is empty (it needs to be undefined as null is considered set)\n        let classString: string | undefined = undefined;\n        let styleString: string | undefined = undefined;\n\n        for (let i = 0; i < rawAttributes.length; i++) {\n          const rawAttribute = rawAttributes.item(i);\n\n          if (rawAttribute) {\n            const attributeName = rawAttribute.name;\n\n            if (attributeName === \"class\") {\n              classString = rawAttribute.value;\n            } else if (attributeName === \"style\") {\n              styleString = rawAttribute.value;\n            } else {\n              attsObj[attributeName] = rawAttribute.value;\n            }\n\n            /**\n             * Once we met content-editable DOM node, there's no point in creating\n             * VNodes for its child DOM nodes. Setting innerHTML is a correct\n             * workaround for this bug:\n             *\n             * https://github.com/vuejs/vue/issues/5805#issuecomment-305951126\n             */\n            if (attributeName === \"data-content-editable-property-path\") {\n              contentEditableEvents.dblclick = enableContentEditableAndFocus;\n              contentEditableEvents.blur = saveContentEditable;\n              domProps.innerHTML = node.innerHTML;\n            }\n          }\n        }\n\n        if (!domProps.innerHTML && node.hasChildNodes()) {\n          children.push(...processNodes(node.childNodes));\n        }\n\n        arrayOfNodes.push(\n          createElement(\n            tag,\n            {\n              class: classString,\n              style: styleString,\n              attrs: { ...attsObj },\n              on: { ...contentEditableEvents },\n              domProps\n            },\n            children\n          )\n        );\n      }\n    });\n\n    return arrayOfNodes;\n  };\n\n  const domParser = new DOMParser();\n\n  // decode the HTML to fix issues like HTML entities '&pound;'\n  const decodedHtml = domParser.parseFromString(html, \"text/html\").body;\n  // Then XML serialize it because we need it to be xhtml to process it and the HTML may not be valid XML (like with img closing tags)\n  const serializedXml = new XMLSerializer().serializeToString(decodedHtml);\n  // remove the body so that we only get the innerHTML. Since this is an XML string, I didn't find any easier way.\n  const xmlWithoutBodyTag = serializedXml\n    // remove the body tags\n    // '.*?' = match everything until the next match,  which is > (non-greedy catch all)\n    .replace(/<body.*?>/, \"\")\n    .replace(\"</body>\", \"\");\n\n  const doc = domParser.parseFromString(\n    \"<root>\" + xmlWithoutBodyTag + \"</root>\",\n    \"application/xhtml+xml\"\n  );\n\n  return processNodes(doc.documentElement.childNodes);\n}\n","import * as t from \"io-ts\";\nimport { ElementDependencyAndConditionV } from \"@/types/elements\";\n\nexport const GlobalGeneratedCssFilePathsV = t.partial({\n  globalSettingsCssFilePath: t.string,\n  globalSelectorsCssFilePath: t.string,\n  defaultCssForAllElementsFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type GlobalGeneratedCssFilePaths = t.TypeOf<\n  typeof GlobalGeneratedCssFilePathsV\n>;\n\nexport const PostGeneratedCssFilePathsV = t.partial({\n  postCssFilePath: t.string,\n  postDefaultsCssFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type PostGeneratedCssFilePaths = t.TypeOf<\n  typeof PostGeneratedCssFilePathsV\n>;\n\nexport const PostAssetsWithoutDependenciesV = t.type({\n  postsGeneratedCssFilePaths: t.record(t.string, PostGeneratedCssFilePathsV)\n});\n\nexport const PostAssetsV = t.intersection([\n  PostAssetsWithoutDependenciesV,\n  t.type({\n    dependencies: ElementDependencyAndConditionV\n  })\n]);\n\n// this type also exists in Psalm\nexport type PostAssets = t.TypeOf<typeof PostAssetsV>;\n\n// this type also exists in Psalm\nexport type PostAssetsWithoutDependencies = t.TypeOf<\n  typeof PostAssetsWithoutDependenciesV\n>;\n","import * as t from \"io-ts\";\nimport { PostAssetsV, PostAssetsWithoutDependenciesV } from \"@/types/assets\";\n\nexport const SsrNodeV = t.intersection([\n  t.type({\n    html: t.string\n  }),\n  PostAssetsWithoutDependenciesV\n]);\n\n// this type also exists in Psalm\nexport type SsrNode = t.TypeOf<typeof SsrNodeV>;\n\nexport const SsrNodeWithDependenciesV = t.intersection([SsrNodeV, PostAssetsV]);\n\n// this type also exists in Psalm\nexport type SsrNodeWithDependencies = t.TypeOf<typeof SsrNodeWithDependenciesV>;\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { documentStore } from \"@/store/store\";\nimport {\n  SsrNode,\n  SsrNodeV,\n  SsrNodeWithDependencies,\n  SsrNodeWithDependenciesV\n} from \"@/types/server-side-render\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { getFrontendUrl } from \"@/lib/document\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nconst debounceTimeoutTable: {\n  [key: number]: NodeJS.Timeout;\n} = {};\n\n/*\n * Works the same as a debounce function, but it return a promise that will execute its function and be resolved\n * after \"interval\" of not being called.\n *\n * It uses a timeoutTable to be able to debounce different calls at the same time.\n */\nfunction promiseDebounce(\n  exec: (...args: any[]) => Promise<Either<_Error[], SsrNode>>,\n  interval: number,\n  id: number\n): () => ReturnType<typeof exec> {\n  let resolves: Array<(value: Promise<Either<_Error[], SsrNode>>) => void> = [];\n\n  return async (...args: unknown[]) => {\n    if (debounceTimeoutTable[id]) {\n      clearTimeout(debounceTimeoutTable[id]);\n    }\n\n    debounceTimeoutTable[id] = setTimeout(() => {\n      const result = exec(...args);\n      resolves.forEach(resolve => resolve(result));\n      resolves = [];\n\n      delete debounceTimeoutTable[id];\n    }, interval);\n\n    return new Promise(resolve => resolves.push(resolve));\n  };\n}\n\nexport function serverSideRender(\n  elementSlug: string,\n  properties: PropertiesData,\n  id: number,\n  parentProperties: PropertiesData\n): Promise<Either<_Error[], SsrNode>> {\n  const makeWordPressAjaxRequestFunction = () =>\n    makeWordPressAjaxRequest({\n      action: \"breakdance_server_side_render\",\n      overrideAjaxUrl: getFrontendUrl(),\n      dataToPost: {\n        properties: fpJsonStringify(properties),\n        parentProperties: fpJsonStringify(parentProperties),\n        elementSlug,\n        triggeringDocument: documentStore.document.documentMeta.id\n      },\n      decoder: SsrNodeV\n    });\n\n  return promiseDebounce(makeWordPressAjaxRequestFunction, 1000, id)();\n}\n\nexport function serverSideRenderWithDependencies(\n  elementSlug: string,\n  properties: PropertiesData,\n  parentProperties: PropertiesData\n): Promise<Either<_Error[], SsrNodeWithDependencies>> {\n  // not debounced because we can add two identical Blocks and they should both be requested\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_server_side_render_with_dependencies\",\n    overrideAjaxUrl: getFrontendUrl(),\n    dataToPost: {\n      properties: fpJsonStringify(properties),\n      parentProperties: fpJsonStringify(parentProperties),\n      elementSlug\n    },\n    decoder: SsrNodeWithDependenciesV\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-container\",attrs:{\"id\":\"breakdance-empty-container\"}},[_c('div',{staticClass:\"breakdance-empty-container__add-element\",class:{\n      'breakdance-empty-container__add-element--disabled': !_vm.canAddElement\n    },on:{\"click\":_vm.openAddPanel}},[_c('Icon',{attrs:{\"icon\":\"PlusIcon\",\"size\":\"22\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { uiStore } from \"@/store/store\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class EmptyContainer extends Vue {\n  @Prop({ default: null })\n  id!: number | null;\n\n  get canAddElement() {\n    return uiStore.hasFullAccess;\n  }\n\n  openAddPanel(e: Event) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.canAddElement) return;\n\n    openUiPanel(\"add\");\n\n    uiStore.activateElement(this.id);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyContainer.vue?vue&type=template&id=a21ec9ea&\"\nimport script from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-heading\"},[_vm._v(\" Choose a column structure \")]),_c('div',{staticClass:\"breakdance-empty-columns-choices\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2)}}},[_vm._m(0)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 3)}}},[_vm._m(1)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 4)}}},[_vm._m(2)])]),_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [35, 65])}}},[_vm._m(3)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [65, 35])}}},[_vm._m(4)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PATH_TO_WIDTH_PROPERTY } from \"@/lib/columns/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { COLUMN_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { rewidthColumnsAndCommitToStore } from \"@/lib/columns/rewidthing\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({})\nexport default class EmptyColumns extends Vue {\n  @Prop()\n  id!: number;\n\n  addColumns(e: Event, numberOfColumns: number, columnWidths?: number[]) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    const nodes: TreeNode[] = [];\n    const columnProperties = columnWidths\n      ? columnWidths.map(columnWidth => {\n          const columnWidthSanitized = parseFloatAndFixTo2Digits(columnWidth);\n\n          return lodash.set({}, PATH_TO_WIDTH_PROPERTY, {\n            number: columnWidthSanitized,\n            unit: \"%\",\n            style: `${columnWidthSanitized}%`\n          });\n        })\n      : []; // rewidthColumnsAndCommitToStore will do all the math necessary for the columns when they're equal\n\n    for (let i = 0; i < numberOfColumns; i++) {\n      nodes.push({\n        id: i,\n        data: {\n          type: COLUMN_SLUG,\n          properties: columnWidths ? columnProperties[i] : {}\n        },\n        children: []\n      });\n    }\n\n    breakdanceUndo.transaction(() => {\n      documentStore.addMultipleNodes({\n        nodes: nodes,\n        parentId: this.id\n      });\n\n      if (!columnWidths) {\n        rewidthColumnsAndCommitToStore(this.id);\n      }\n    }, `Set amount of columns to ${numberOfColumns}`);\n\n    openUiPanel(\"elementproperties\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyColumns.vue?vue&type=template&id=3a94f906&\"\nimport script from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const excludedScripts = [\"jquery\", \"wp-polyfill-js\"];\n\nexport function rerunAllScriptsInCanvasDocumentBody() {\n  const canvasDocument = window.Breakdance.canvas.document;\n  const allScripts = canvasDocument.querySelectorAll(\n    // only the direct children of the body\n    `script`\n  ) as NodeListOf<HTMLScriptElement>;\n\n  for (const script of allScripts) {\n    if (\n      excludedScripts.find(\n        excludedScript =>\n          script.id.toLowerCase().includes(excludedScript) ||\n          script.src.toLowerCase().includes(excludedScript)\n      )\n    ) {\n      continue;\n    }\n\n    const newScript = cloneScriptNode(script);\n\n    script.remove();\n    canvasDocument.querySelector(\"body\")?.appendChild(newScript);\n  }\n}\n\nfunction cloneScriptNode(scriptNode: HTMLScriptElement) {\n  const newScriptNode = document.createElement(\"script\");\n\n  Array.from(scriptNode.attributes).forEach(attr => {\n    newScriptNode.setAttribute(attr.name, attr.value);\n  });\n\n  if (scriptNode.src) {\n    newScriptNode.src = scriptNode.src;\n  } else {\n    newScriptNode.innerHTML = scriptNode.innerHTML;\n  }\n\n  return newScriptNode;\n}\n","import { RequiredPlugin } from \"@/types/elements\";\n\nexport const emptyHtmlFromSsrMessage = `\n<div class=\"breakdance-empty-ssr-message\">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>`;\n\nexport const ssrErrorMessage = `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    There was an error on the server when rendering this element.\n</div>`;\n\nexport const requiredPluginsNotAvailableMessage = (\n  elementName: string,\n  requiredPlugins: RequiredPlugin[]\n) => {\n  return `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    The <strong>\"${elementName}\"</strong> element requires the plugins <em>\"${requiredPlugins.join(\n    \", \"\n  )}\"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;\n};\n","\nimport AsyncComputed from \"vue-async-computed-decorator\";\nimport Vue, { CreateElement, VNodeData } from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { generateCss } from \"@/lib/canvas/styles\";\nimport { PropertiesData, TreeNode } from \"@/types/tree\";\nimport {\n  getDynamicShortcodesFromPropertiesData,\n  loadDynamicData\n} from \"@/lib/dynamic-data/load\";\nimport lodash from \"lodash\";\nimport { applyFilters } from \"@/lib/api/api\";\nimport {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { addBuilderElementDependenciesToHead } from \"@/lib/canvas/builder-element-dependencies\";\nimport { htmlToVNodes } from \"@/lib/canvas/html-to-vnodes\";\nimport {\n  serverSideRender,\n  serverSideRenderWithDependencies\n} from \"@/lib/server-side-render/server-side-render\";\nimport { SelectorCSSName } from \"@/types/selectors\";\nimport { VNode } from \"vue/types/vnode\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\n\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport EmptyColumns from \"@/components/Canvas/Empty/EmptyColumns.vue\";\nimport {\n  getBuilderElementAdditionalClassTemplateCacheKey,\n  getBuilderElementAttributeTemplateCacheKey,\n  getBuilderElementTemplateCacheKey,\n  renderTags,\n  renderTwig\n} from \"@/lib/twig/twig\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  getDynamicMetaPath,\n  isDynamicShortcode\n} from \"@/lib/dynamic-data/utils\";\nimport { isObject, objectDeepMap } from \"@/util/objects\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { rerunAllScriptsInCanvasDocumentBody } from \"@/lib/server-side-render/rerun-javascripts\";\nimport { BuilderElementAttribute } from \"@/types/elements\";\nimport { COLUMNS_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport {\n  emptyHtmlFromSsrMessage,\n  requiredPluginsNotAvailableMessage,\n  ssrErrorMessage\n} from \"@/lib/canvas/ssr-html-strings\";\nimport { SsrNode, SsrNodeWithDependencies } from \"@/types/server-side-render\";\nimport {\n  addOrUpdateElementSubStylesComingFromSsr,\n  addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead,\n  addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead,\n  removeElementDefaultStylesFromCanvasHead,\n  removeElementStylesCameFromSsrFromCanvasHead,\n  removeElementStylesFromCanvasHead\n} from \"@/lib/canvas/assets/css-in-head\";\nimport { countNodesOfTypeInTree, isDescendant } from \"@/lib/tree/tree\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport {\n  getNodeHtmlId,\n  getClassNameForNode,\n  getBaseClassNameForBuilderElement\n} from \"@/lib/elements/utils\";\nimport { getNestingRuleFromElementSlug } from \"@/lib/tree/nesting\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport { isDefined } from \"ts-is-present\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\nimport { PostAssets } from \"@/types/assets\";\nimport { getHash } from \"@/util/hash\";\nimport { GLOBAL_SETTINGS_PATHS } from \"@/store/modules/global\";\nimport { DynamicFieldOutput } from \"@/types/dynamic-data\";\nimport { nl2br } from \"@/util/nl2br\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { v4 } from \"uuid\";\n\nconst addDependenciesToHeadDebounced = lodash.debounce(\n  addBuilderElementDependenciesToHead,\n  500\n);\n\n@Component({})\nexport default class BuilderElementComponent extends Vue {\n  // TODO - this is a TreeNode. Not an element. Rename it to node.\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  parentId!: number;\n\n  @Prop()\n  ssrParentProperties?: PropertiesData;\n\n  isActive = false;\n\n  /**\n   * @see https://github.com/soflyy/breakdance/issues/4236\n   */\n  uniqueId = v4();\n\n  get isEmptyContainer() {\n    const elementNestingRuleType = getNestingRuleFromElementSlug(\n      this.element.data.type\n    ).type;\n\n    const isContainer =\n      elementNestingRuleType === \"popup\" ||\n      elementNestingRuleType === \"container\" ||\n      elementNestingRuleType === \"container-link\" ||\n      elementNestingRuleType === \"section\";\n\n    return isContainer && this.element.children.length === 0;\n  }\n\n  get isEmptyColumns() {\n    return (\n      this.element.data.type === COLUMNS_SLUG &&\n      this.element.children.length === 0\n    );\n  }\n\n  get parentProps() {\n    const sharePropsWithSSRChildren =\n      this.baseElement.settings &&\n      this.baseElement.settings.sharePropsWithSSRChildren;\n\n    // Intentionally ignore design props.\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { design, ...props } = this.element.data.properties || {};\n\n    // Share its own properties if it must, otherwise pass down the parent's\n    // because we don't know if at some higher level the parent is sharing them\n    return (sharePropsWithSSRChildren ? props : this.ssrParentProperties) || {};\n  }\n\n  __render(h: CreateElement) {\n    const RootTag = this.rootTag;\n\n    if (!this.shouldShow) {\n      return false;\n    }\n\n    if (this.isEmptyColumns) {\n      return (\n        <RootTag\n          {...{ attrs: { ...this.attributes } }}\n          onMousedown={this.activateAndMaybeStartDrag}\n          onDragstart={this.disableDefaultDrag}\n          onClick={this.maybePreventDefault}\n          id={this.htmlId}\n          class={this.classList}\n        >\n          <EmptyColumns\n            // @ts-ignore\n            id={this.element.id}\n          />\n        </RootTag>\n      );\n    }\n    const innerHTML = renderTags(this.processedTemplate, {\n      ssr: this.ssrValueOrMessage\n    });\n\n    const children = this.isEmptyContainer ? (\n      <EmptyContainer\n        // @ts-ignore\n        id={this.element.id}\n      />\n    ) : (\n      this.element.children.map(node => {\n        return (\n          <BuilderElementComponent\n            // @ts-ignore\n            key={node.id}\n            // @ts-ignore\n            element={node}\n            parentId={this.element.id}\n            ssrParentProperties={this.parentProps}\n          />\n        );\n      })\n    );\n\n    const shouldRenderContentAsHtml =\n      // content editable elements don't have children since their content is a string. Use their innerHTML directly\n      this.contentEditablePropertyPath ||\n      // SSR content should be replaced, as JS can modify an element in the html, and it won't be updated since the SSR didn't change that child.\n      (this.ssrValueOrMessage !== null &&\n        // except when it needs to render %%CHILDREN%%. We need to convert them into v nodes\n        !this.ssrValueOrMessage.includes(\"%%CHILDREN%%\"));\n\n    const domProps: VNodeData[\"domProps\"] = {};\n\n    if (shouldRenderContentAsHtml) {\n      domProps.innerHTML = innerHTML;\n    }\n\n    const arrayOfChildVNodes = shouldRenderContentAsHtml\n      ? []\n      : htmlToVNodes(\n          innerHTML,\n          h,\n          /* %%CHILDREN%% in the HTML will be replaced with this jsx */\n          () => children,\n          {\n            enableContentEditableAndFocus: this.enableContentEditableAndFocus,\n            saveContentEditable: this.saveContentEditable\n          }\n        );\n\n    return h(\n      this.rootTag,\n      {\n        class: this.classList,\n        attrs: {\n          ...this.attributes,\n          id: this.htmlId\n        },\n        domProps,\n        on: {\n          mousedown: this.activateAndMaybeStartDrag,\n          dragstart: this.disableDefaultDrag,\n          click: this.maybePreventDefault,\n          dblclick: this.contentEditablePropertyPath\n            ? this.enableContentEditableAndFocus\n            : () => {},\n          blur: this.contentEditablePropertyPath\n            ? this.saveContentEditable\n            : () => {}\n        }\n      },\n      arrayOfChildVNodes\n    );\n  }\n\n  render(h: CreateElement) {\n    return this.__render(h) as VNode;\n  }\n\n  /*\n  Create a hash of the element properties. It's a simple way to verify a change\n  */\n  get elementPropertiesHash() {\n    const elementPropertiesAsJsonString =\n      jsonStringifyOrUndefined(this.element.data.properties) || \"\";\n\n    return getHash(`${elementPropertiesAsJsonString}${this.element.id}`);\n  }\n\n  get processedTemplate() {\n    if (\n      !this.hasRequiredPluginsAndTheyAreAvailable &&\n      this.baseElement.settings &&\n      this.baseElement.settings.requiredPlugins\n    ) {\n      return requiredPluginsNotAvailableMessage(\n        this.baseElement.name,\n        this.baseElement.settings.requiredPlugins\n      );\n    }\n\n    const template = renderTwig(\n      this.baseElement.template,\n      this.twigProps,\n      getBuilderElementTemplateCacheKey(this.baseElement)\n    );\n\n    if (!template) return \"\";\n\n    return renderTags(template, this.tags);\n  }\n\n  get shouldSsr() {\n    const isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist =\n      uiStore.lastModifiedElementProperty.elementId === this.element.id &&\n      this.baseElement.propertyPathsToSsrElementWhenValueChanges\n        ? this.baseElement.propertyPathsToSsrElementWhenValueChanges.find(\n            path =>\n              // startsWith because a path can be for a sections to make all children SSR\n              uiStore.lastModifiedElementProperty.path?.startsWith(path)\n          )\n        : true;\n\n    return (\n      this.processedTemplate.includes(\"%%SSR%%\") &&\n      (isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist ||\n        this.refreshSsr)\n    );\n  }\n\n  get refreshSsr() {\n    if (!uiStore.refreshSsrElementId) return false;\n\n    return uiStore.refreshSsrElementId === this.element.id;\n  }\n\n  get hasRequiredPluginsAndTheyAreAvailable() {\n    if (\n      !this.baseElement.settings ||\n      !this.baseElement.settings.requiredPlugins\n    ) {\n      return true;\n    }\n\n    const availablePlugins = this.baseElement.settings.requiredPlugins.filter(\n      requiredPlugin =>\n        configStore.availableWordpressPlugins.includes(requiredPlugin)\n    );\n\n    return (\n      availablePlugins.length ===\n      this.baseElement.settings.requiredPlugins.length\n    );\n  }\n\n  get ssrValueOrMessage() {\n    // An element with no ssr content may be updated by a non-ssr prop, so shouldSsr is false\n    if (this.ssrInnerHtml === \"\") {\n      if (uiStore.settings.disableNoticeForEmptySSRElements) return \"\";\n\n      return emptyHtmlFromSsrMessage;\n    }\n\n    // Keep the SSR result if a non-SSR property is changed\n    if (!this.shouldSsr && !this.ssrInnerHtml) return null;\n\n    if (this.isElementUpdating) {\n      return this.ssrInnerHtml || \"\";\n    }\n\n    return this.ssrInnerHtml;\n  }\n\n  get tags() {\n    return {\n      id: this.element.id,\n      selector: this.elementSelector,\n      postId: this.postId\n    };\n  }\n\n  elementDependenciesFromSsr?: PostAssets[\"dependencies\"];\n\n  elementPostsGeneratedCssFilePathsFromSsr?: PostAssets[\"postsGeneratedCssFilePaths\"];\n\n  get isElementUpdating() {\n    return !!uiStore.elementsThatAreUpdating[this.element.id];\n  }\n\n  ssrInnerHtml: null | string = null;\n\n  oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n\n  @Watch(\"ssrParentProperties\", {\n    deep: true\n  })\n  async rerenderFromServeOnParentPropertyChange() {\n    if (!this.shouldSsr) return;\n\n    // Prop object references change on every render\n    // So we can't rely on @Watch without comparing if the value actually changed\n    // Use state for old value, since @Watch newValue/oldValue params are the same for props\n    // Details & video explanation: https://github.com/soflyy/breakdance/pull/3856\n    if (\n      !lodash.isEqual(this.ssrParentProperties, this.oldSsrParentProperties)\n    ) {\n      this.oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n      await this.maybeRerenderFromServer();\n\n      // Why are we not calling \"runActionsAfterSsr\" here? Is that on purpose?\n    }\n  }\n\n  @Watch(\"refreshSsr\")\n  async rerenderFromServerOnRefreshSsr() {\n    if (this.refreshSsr) {\n      await this.maybeRerenderFromServer();\n\n      uiStore.setRefreshSsrElementId(null);\n\n      this.runActionsAfterSsr();\n    }\n  }\n\n  oldTwigProps = defensiveCopy(this.element.data.properties);\n  @Watch(\"twigProps\")\n  async maybeRerenderFromServerOnPropertyChange() {\n    if (!this.shouldSsr) {\n      // An element can have conditional SSR. Clean the SSR result if it's no longer applicable\n      if (!this.processedTemplate.includes(\"%%SSR%%\")) {\n        this.ssrInnerHtml = null;\n        /**\n         * TODO this call entirely or some of its sub-calls may be redundant,\n         * it used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n         * and was preserved for a potential backwards compatibility.\n         */\n        this.updateSsrDependenciesAndStyles();\n        // TODO shouldn't we also clean SSR dependencies and styles?\n      }\n\n      return;\n    }\n\n    /**\n     * When switching previews, \"dynProps\" will rerun, causing twigProps to change in reference but not value\n     * If we rerun SSR at this point, it'll be\n     *\n     * 1) useless since no properties changed and\n     * 2) bug prone because actions (like onMount) can run before the element finished rendering\n     *\n     * This also prevents useless re-renders when mounting an ssr element\n     *\n     * Explanation: https://github.com/soflyy/breakdance/pull/4290\n     */\n    if (lodash.isEqual(this.twigProps, this.oldTwigProps)) {\n      return;\n    }\n\n    this.oldTwigProps = this.twigProps;\n    await this.maybeRerenderFromServer();\n\n    this.runActionsAfterSsr();\n  }\n\n  runActionsAfterSsr() {\n    breakdanceStoreActions.run.onBeforeDeletingElement({\n      elementId: this.element.id\n    });\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: undefined\n      });\n    }\n\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  async maybeRerenderFromServer() {\n    if (!this.shouldSsr) {\n      return;\n    }\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: true\n    });\n\n    const withDependenciesInHtml =\n      this.baseElement.settings &&\n      this.baseElement.settings.withDependenciesInHtml;\n\n    const result = pipe(\n      withDependenciesInHtml\n        ? await serverSideRenderWithDependencies(\n            this.baseElement.slug,\n            this.element.data.properties,\n            this.parentProps\n          )\n        : await serverSideRender(\n            this.baseElement.slug,\n            this.element.data.properties,\n            this.element.id,\n            this.parentProps\n          ),\n      fold(\n        errors => {\n          errors.forEach(error => {\n            NotificationLogger.log.message(error.msg);\n          });\n\n          return ssrErrorMessage;\n        },\n        (ssrHtml: SsrNode | SsrNodeWithDependencies) => {\n          if (\"dependencies\" in ssrHtml) {\n            this.elementDependenciesFromSsr = ssrHtml.dependencies;\n          }\n\n          this.elementPostsGeneratedCssFilePathsFromSsr =\n            ssrHtml.postsGeneratedCssFilePaths;\n\n          return ssrHtml.html;\n        }\n      )\n    );\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: false\n    });\n\n    this.ssrInnerHtml = result;\n    this.updateSsrDependenciesAndStyles();\n  }\n\n  maybeRerunAllScriptsInCanvasDocumentBody() {\n    const dependsOnGlobalScripts =\n      this.baseElement.settings &&\n      this.baseElement.settings.dependsOnGlobalScripts;\n\n    if (dependsOnGlobalScripts) {\n      rerunAllScriptsInCanvasDocumentBody();\n    }\n  }\n\n  /**\n   * This cannot be inside a \"ssrInnerHtml\" watcher:\n   * ssrInnerHtml value may remain intact after re-render,\n   * but the contents of CSS files may change.\n   *\n   * TODO Get rid of this.elementPostsGeneratedCssFilePathsFromSsr and this.elementDependenciesFromSsr,\n   * those don't have to be stateful, use function arguments instead. Less state = less problems.\n   */\n  updateSsrDependenciesAndStyles() {\n    this.maybeRerunAllScriptsInCanvasDocumentBody();\n\n    const withDependenciesInHtml =\n      this.baseElement.settings &&\n      this.baseElement.settings.withDependenciesInHtml;\n\n    if (withDependenciesInHtml && this.elementDependenciesFromSsr) {\n      addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n        dependencies: [this.elementDependenciesFromSsr],\n        // An element (like Block elements) can be added multiple times with scripts that need to rerun\n        addInlineScriptsAsUnique: false,\n        element: this.element\n      });\n    }\n\n    addOrUpdateElementSubStylesComingFromSsr(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      this.elementPostsGeneratedCssFilePathsFromSsr\n    );\n  }\n\n  get shouldShow() {\n    return applyFilters(\n      \"elementShouldShow\",\n      true,\n      this.element.data.properties,\n      {\n        currentBreakpoint: uiStore.currentBreakpoint\n        // Add any data you want to share with filters here\n      }\n    );\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  // Update the styles if a breakpoint changes\n  // E.G: a breakpoint value was updated or the user switched breakpoint types\n  @Watch(\"breakpoints\", { deep: true })\n  onBreakpointsChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"twigProps\", { deep: true, immediate: true })\n  onTwigPropsChange() {\n    this.generateElementsCSS();\n  }\n\n  //--- These values can change through Element Studio\n  @Watch(\"baseElement.cssTemplate\")\n  onCssTemplateChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.defaultCss\")\n  onDefaultCssChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.dependencies\", { deep: true })\n  onInternalDependenciesChange() {\n    if (this.baseElement.dependencies) {\n      // Don't run internal scripts to avoid errors if the code is being saved before it's ready\n      // Let the user execute manually\n      const internalDependenciesWithoutInlineScripts = this.baseElement.dependencies.map(\n        deps => ({\n          ...deps,\n          inlineScripts: []\n        })\n      );\n\n      addDependenciesToHeadDebounced(getBuilderCanvasDocument(), {\n        dependencies: internalDependenciesWithoutInlineScripts,\n        tags: this.tags,\n        element: this.element\n      });\n    }\n  }\n  //---\n\n  //---\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  /**\n   * For typography macro presets, we only render the values if they're set (so only add font-weight if it's set in the preset)\n   * But the element is not tied to the global settings in any way (aka, no reactivity)\n   * so a change in global settings won't cause a re-render without this\n   *\n   * Downside: a change in Global Settings will re-render *all* elements, even ones without typography or presets.\n   * If this becomes too slow, we should find a way to know if an element has a typography preset set.\n   */\n  @Watch(`globalSettings.${GLOBAL_SETTINGS_PATHS.typographyPresets}`, {\n    deep: true\n  })\n  refreshIfTypographyPresetsChange() {\n    this.generateElementsCSS();\n  }\n\n  get elementChildrenCount() {\n    return this.element.children.length;\n  }\n\n  @Watch(\"elementChildrenCount\", {})\n  elementChildrenCountChanged() {\n    this.generateElementsCSS();\n  }\n\n  generateElementsCSS() {\n    const css = generateCss(\n      this.twigProps,\n      this.breakpoints,\n      this.baseElement.cssTemplate,\n      this.tags,\n      this.baseElement.propertyPathsToWhitelistInFlatProps,\n      this.elementChildrenCount\n    );\n\n    // default CSS first to make the element's CSS (the func below) higher precedence\n    addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.baseElement.slug,\n      this.baseElement.defaultCss\n    );\n\n    addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      css,\n      this.uniqueId\n    );\n  }\n\n  async mounted() {\n    /**\n     * TODO this call entirely or some of its sub-calls might be redundant.\n     * It used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n     * which was \"immediate\" and fired before mount,\n     * so this call was preserved for backwards compatibility.\n     * @see https://github.com/soflyy/breakdance/pull/4560/files#r1013915111\n     */\n    this.updateSsrDependenciesAndStyles();\n\n    // Run both method in parallel\n    await Promise.all([\n      this.loadDependencies(),\n      this.maybeRerenderFromServer()\n    ]);\n\n    // Run onMountedElement action after dependencies and SSR are loaded\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  destroyed() {\n    const areThereNoOtherElementsOfThisType =\n      countNodesOfTypeInTree(\n        documentStore.document.tree.root,\n        this.baseElement.slug\n      ) === 0;\n\n    if (areThereNoOtherElementsOfThisType) {\n      removeElementDefaultStylesFromCanvasHead(\n        getBuilderCanvasDocument(),\n        this.baseElement.slug\n      );\n    }\n\n    removeElementStylesFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      this.uniqueId\n    );\n\n    removeElementStylesCameFromSsrFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id\n    );\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: `DocumentDeleteElement:ID:${this.element.id}`\n      });\n    }\n  }\n\n  loadDependencies() {\n    return addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n      dependencies: [\n        ...(this.baseElement.dependencies || []),\n        ...(configStore.elementsExternalAttrsDepsAndActions.dependencies || [])\n      ],\n      element: this.element,\n      tags: this.tags\n    });\n  }\n\n  get elementSelector() {\n    return `.breakdance .${this.uniqueClassName}`;\n  }\n\n  get rootTag(): string {\n    const customTag: unknown = this.baseElement.htmlTag.pathToControl\n      ? lodash.get(\n          this.element.data.properties,\n          this.baseElement.htmlTag.pathToControl\n        )\n      : this.element.data.properties?.settings?.advanced?.tag;\n\n    if (typeof customTag === \"string\")\n      return customTag || this.baseElement.htmlTag.default;\n\n    return this.baseElement.htmlTag.default;\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  // @ts-ignore\n  @AsyncComputed({\n    default: function() {\n      // if we use %%SSR%% inside a twig conditional, it'll run on mounted, before \"dynProps\" are calculated\n      // So it'll never run because twigProps = {}, instead of the real element props. This is a better default than \"{}\"\n      return this.element.data.properties;\n    },\n    // Rerun when the hash changes\n    watch: [\"elementPropertiesHash\"]\n  })\n  async dynProps(): Promise<unknown> {\n    if (configStore.dynamicDataCache.loading) {\n      return this.element.data.properties;\n    }\n\n    const cachedDynamicData = configStore.dynamicDataCache.data;\n\n    const dynamicShortcodes = getDynamicShortcodesFromPropertiesData(\n      this.element.data.properties,\n      cachedDynamicData\n    );\n\n    const uncachedDynamicShortcodes = dynamicShortcodes.filter(\n      dynamicShortcode =>\n        !Object.keys(cachedDynamicData).includes(dynamicShortcode)\n    );\n\n    // Request new dynamic values if they're not in the store (e.g. the element was added)\n    if (uncachedDynamicShortcodes.length) {\n      const newDynamicData = await loadDynamicData(uncachedDynamicShortcodes);\n      configStore.updateDynamicDataCache({\n        ...cachedDynamicData,\n        ...newDynamicData\n      });\n    }\n\n    const isThereSomethingToPreview = !!configStore.previewedItem;\n\n    return objectDeepMap(this.element.data.properties, (value: unknown) => {\n      if (isDynamicShortcode(value)) {\n        /*\n        if there is nothing to preview (i.e. preview dropdown is in an error state)\n        we show the raw shortcode.\n\n        if there is something to preview, then dynamic data is working, and\n        if a dynamic data point really is blank/undefined/false/whatever...\n        then we just let it be blank. we don't return the raw shortcode.\n        we only return the raw shortcode when the preview dropdown is in an error state.\n\n        relevant explanation / rationale / thoughts: https://github.com/soflyy/breakdance/issues/349#issuecomment-882815000\n        */\n        if (cachedDynamicData[value] || isThereSomethingToPreview) {\n          return cachedDynamicData[value];\n        }\n        return value;\n      }\n\n      return value;\n    });\n  }\n\n  get twigProps() {\n    if (\n      isObject(this.element.data.properties) &&\n      Object.entries(this.element.data.properties).length !== 0\n    ) {\n      return this.dynProps;\n    }\n\n    return {};\n  }\n\n  get postId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  get htmlId() {\n    return getNodeHtmlId(this.element);\n  }\n\n  get currentlyDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  get uniqueClassName() {\n    return getClassNameForNode(this.element, this.postId);\n  }\n\n  get baseClassName() {\n    return getBaseClassNameForBuilderElement(this.baseElement);\n  }\n\n  get classList() {\n    const classes = [\n      this.uniqueClassName,\n      \"builder-element\",\n      this.baseClassName\n    ];\n\n    if (this.isActive) {\n      classes.push(\"breakdance--active-element\");\n    }\n\n    if (this.currentlyDragging) {\n      classes.push(\"breakdance--currently-dragging\");\n    }\n\n    if (this.isEmptyContainer) {\n      classes.push(\"breakdance--empty-container\");\n    }\n\n    const classList = (this.element.data.properties?.settings?.advanced\n      ?.classes ?? false) as false | SelectorCSSName[];\n\n    if (classList) {\n      classes.push(...classList);\n    }\n\n    if (\n      this.baseElement.settings &&\n      this.baseElement.settings.bypassPointerEvents\n    ) {\n      classes.push(\"breakdance-children-pointer-events-none\");\n    }\n\n    if (this.isElementUpdating) {\n      classes.push(\"breakdance-element-is-updating\");\n    }\n\n    classes.push(...this.additionalClasses);\n\n    return classes;\n  }\n\n  get additionalClasses(): string[] {\n    if (!this.baseElement.additionalClasses) return [];\n    return this.baseElement.additionalClasses\n      .map(classRule => {\n        const template = renderTwig(\n          classRule.template,\n          this.twigProps,\n          getBuilderElementAdditionalClassTemplateCacheKey(\n            this.baseElement,\n            classRule\n          )\n        );\n\n        if (!template) return;\n\n        return {\n          name: classRule.name,\n          include: template\n        };\n      })\n      .filter(isDefined)\n      .filter(x => !!x.include)\n      .map(x => x.name);\n  }\n\n  renderAttributeValue(attribute: BuilderElementAttribute): string | null {\n    if (\"template\" in attribute) {\n      return renderTwig(\n        attribute.template,\n        this.twigProps,\n        getBuilderElementAttributeTemplateCacheKey(this.baseElement, attribute)\n      );\n    }\n    if (\"propertyPath\" in attribute) {\n      return String(\n        lodash.get(this.element.data.properties, attribute.propertyPath, \"\")\n      );\n    }\n    if (\"rawValue\" in attribute) {\n      return attribute.rawValue;\n    }\n\n    return null;\n  }\n\n  get attributes() {\n    type attrs = {\n      [key: string]: string | undefined;\n    };\n    const atts: attrs = {};\n\n    /* attribute rules defined by the element */\n    const attributes = [\n      ...(this.baseElement.attributes || []),\n      ...(configStore.elementsExternalAttrsDepsAndActions.attributes || [])\n    ];\n\n    attributes.forEach(rule => {\n      const value = this.renderAttributeValue(rule);\n\n      if (value) {\n        atts[rule.name] = renderTags(value, this.tags);\n      }\n    });\n\n    type Attribute = { name: string; value: string };\n\n    /* user attribute settings at settings. this might make more sense to code in a plugin and run with a hook */\n    const userAttSettings = (this.element.data.properties?.settings?.advanced\n      ?.attributes ?? []) as Attribute[];\n\n    userAttSettings.forEach((userAtt: Attribute) => {\n      atts[userAtt.name] = userAtt.value;\n    });\n\n    atts[\"data-node-id\"] = `${this.element.id}`;\n\n    // remove blank attributes.\n    const cleanAtts: attrs = {};\n\n    Object.keys(atts).forEach(key => {\n      if (atts[key]) {\n        cleanAtts[key] = atts[key];\n      }\n    });\n\n    return cleanAtts;\n  }\n\n  get contentEditablePropertyPath() {\n    return this.attributes[\"data-content-editable-property-path\"];\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  /**\n   * If isActive was a computed property, any change made to\n   * the uiStore.activeElementId would cause a complete re-render\n   * of the component.\n   */\n  @Watch(\"activeElementId\", { immediate: true })\n  handleActiveElementIdChange() {\n    this.isActive = this.activeElementId === this.element.id;\n  }\n\n  get behaviorModeEnabled() {\n    const builderBehaviorId = uiStore.builderBehaviorElementId;\n\n    if (builderBehaviorId) {\n      return isDescendant(\n        documentStore.document.tree,\n        builderBehaviorId,\n        this.element.id\n      );\n    }\n\n    return false;\n  }\n\n  /* drag logic */\n  dragMouseStartX: false | number = false;\n  dragMouseStartY: false | number = false;\n\n  easyEvent = new EasyEvent();\n\n  activateElement() {\n    if (this.behaviorModeEnabled) return;\n\n    uiStore.activateElement(this.element.id);\n    openUiPanel(\"elementproperties\");\n  }\n\n  canDrag(e: MouseEvent) {\n    if (!this.isDragAndDropEnabled) return false;\n\n    const target = e.target as HTMLElement;\n    const elementsToIgnore = [\"textarea\", \"input\", \"select\"];\n    const currentElement = target.tagName.toLowerCase();\n\n    // disable dragging if the current element should be ignored.\n    if (elementsToIgnore.includes(currentElement)) return false;\n\n    // html content editable relies on mousedown events\n    if (uiStore.elementWithContentEditable) return false;\n\n    return true;\n  }\n\n  disableDefaultDrag(e: MouseEvent) {\n    // Prevents the default html-draggable event from happening\n    e.preventDefault();\n  }\n\n  maybePreventDefault(event: Event) {\n    /*\n     * Prevent:\n     * 1. Following links in the Builder\n     * 2. Buttons from submitting forms.\n     */\n\n    const target = event.target as HTMLElement;\n    const elementsToPrevent = [\"a\", \"button\"];\n    const selector = elementsToPrevent.join(\", \");\n    const isAChild = elementsToPrevent.some(el => target.closest(el));\n\n    if (target.matches(selector) || isAChild) {\n      event.preventDefault();\n    }\n  }\n\n  activateAndMaybeStartDrag(e: MouseEvent) {\n    e.stopPropagation();\n\n    this.activateElement();\n\n    if (!this.canDrag(e)) return;\n    if (this.behaviorModeEnabled) return;\n\n    this.dragMouseStartX = e.clientX;\n    this.dragMouseStartY = e.clientY;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.removeDragListeners);\n  }\n\n  removeDragListeners() {\n    this.easyEvent.removeAll();\n\n    this.dragMouseStartX = false;\n    this.dragMouseStartY = false;\n  }\n\n  dragging(e: MouseEvent) {\n    if (this.behaviorModeEnabled) return;\n    if (!isCanvasEvent(e)) return;\n\n    if (this.dragMouseStartX === false || this.dragMouseStartY === false)\n      return;\n\n    const mouseX = e.clientX;\n    const mouseY = e.clientY;\n\n    if (\n      Math.abs(mouseX - this.dragMouseStartX) > 3 ||\n      Math.abs(mouseY - this.dragMouseStartY) > 3\n    ) {\n      uiStore.setCanvasElementDraggedId(this.element.id);\n      this.removeDragListeners();\n    }\n  }\n\n  /* End drag logic */\n\n  /* ContentEditable logic */\n\n  // On double click\n  enableContentEditableAndFocus(e: Event) {\n    const target: HTMLElement = e.target as HTMLElement;\n    let editableElement = null;\n\n    // the element itself\n    if (target.dataset.contentEditablePropertyPath || target.dataset.nodeId) {\n      editableElement = target;\n    }\n    // Or the closest parent that has a \"data-content-editable-property-path\" property\n    // (the click can happen in a child that isn't content editable)\n    else {\n      editableElement = target.closest(\n        \"[data-content-editable-property-path]\"\n      ) as HTMLElement;\n    }\n\n    if (!editableElement) return;\n\n    const contentEditablePropertyPath =\n      editableElement.dataset.contentEditablePropertyPath;\n\n    if (contentEditablePropertyPath) {\n      const maybeDynamicData: DynamicFieldOutput | undefined = lodash.get(\n        this.twigProps,\n        getDynamicMetaPath(contentEditablePropertyPath)\n      );\n\n      const elementValueIsDynamic = maybeDynamicData?.field.slug;\n\n      if (elementValueIsDynamic) {\n        return;\n      }\n    }\n\n    const elementIsAlreadyActive =\n      editableElement.getAttribute(\"contenteditable\") === \"true\";\n\n    if (elementIsAlreadyActive) return;\n\n    uiStore.setContentEditableElementId(this.element.id);\n\n    editableElement.setAttribute(\"contenteditable\", \"true\");\n    editableElement.focus();\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    editableElement.addEventListener(\"paste\", this.pasteWithoutFormatting);\n  }\n\n  // on blur\n  saveContentEditable(e: Event) {\n    const target = e.target as HTMLElement;\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    target.removeEventListener(\"paste\", this.pasteWithoutFormatting);\n\n    target.setAttribute(\"contenteditable\", \"false\");\n\n    uiStore.setContentEditableElementId(null);\n\n    const path =\n      target.dataset.contentEditablePropertyPath ||\n      this.contentEditablePropertyPath;\n\n    if (!path) {\n      return;\n    }\n\n    target.innerHTML = target.innerHTML.trim();\n\n    // Remove the last <br> tag if it's present. Some browsers (firefox) add it\n    const lastElement = target.childNodes[target.childNodes.length - 1] as\n      | HTMLElement\n      | undefined;\n\n    if (lastElement && lastElement.tagName === \"BR\") {\n      lastElement.remove();\n    }\n\n    // save decoded HTML to prevent stuff like & becoming &amp\n    const textAreaWithTargetInnerHtml = document.createElement(\"textarea\");\n    textAreaWithTargetInnerHtml.innerHTML = target.innerHTML;\n    const decodedHtml = textAreaWithTargetInnerHtml.value;\n\n    documentStore.throttledPropertyChanged({\n      elementId: this.element.id,\n      path,\n      value: decodedHtml,\n      meta: {\n        snapshotLabel: generateDocumentStorePropertyChangeSnapshotLabel.forElementBasingOnChangedStorePropertyPath(\n          this.baseElement,\n          path,\n          SnapshotLabelAction.CHANGE\n        )\n      }\n    });\n  }\n\n  // Force pasted text to be without formatting (colors, bold, etc)\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event#live_example\n  pasteWithoutFormatting(event: ClipboardEvent) {\n    const paste = event.clipboardData?.getData(\"text/plain\");\n    if (!paste) return;\n\n    window.Breakdance.canvas.document.execCommand(\n      \"insertHTML\",\n      false,\n      // since we get the pasted data as plain text, and HTML renders new lines as just space, we turn them into BR\n      // to get the same behaviour as if the user had pressed enter\n      nl2br(paste)\n    );\n\n    // prevent at the end, in case \"getData\" failed\n    event.preventDefault();\n  }\n\n  handleKeydownInsideContentEditable(event: KeyboardEvent) {\n    // Pressing Space doesn't always work inside content editable.\n    // https://stackoverflow.com/q/48512479\n    if (event.code === \"Space\") {\n      event.preventDefault();\n      event.stopPropagation();\n      window.Breakdance.canvas.document.execCommand(\"insertText\", false, \" \");\n      return;\n    }\n\n    /**\n     * add line break on enter. This makes all browsers behave the same, instead of some of them adding it and some not\n     * https://stackoverflow.com/a/61237402/5993042\n     * \"execCommand\" is deprecated but \"insertLineBreak\" works fine on all big browsers and knowing the web, it'll never\n     * be removed due to backwards compatibility.\n     */\n    if (event.code === \"Enter\") {\n      window.Breakdance.canvas.document.execCommand(\"insertLineBreak\");\n      event.preventDefault();\n      return;\n    }\n\n    if (event.code === \"Escape\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n\n    // prevent the \"save\" dialog when inside content editable. Our global shortcuts don't apply here for some reason\n    // instead make it \"save\" the changes in the content editable\n    if ((event.ctrlKey || event.metaKey) && event.key === \"s\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n  }\n}\n","var render, staticRenderFns\nimport script from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\nexport * from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-chrome\",class:_vm.hideClass},[_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]},[_c('SpacingBars'),_c('ColumnDragSizer')],1),_c('NodeTitlebar'),_c('NodeHoverControls'),_c('NodeContentEditable')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.dragDotsWrapperPositionStyle)},[_c('div',{staticClass:\"drag-dot drag-dot-top-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":_vm.dragStart}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPositionAndSize } from \"../helpers\";\nimport { documentStore, uiStore } from \"@/store/store\";\n\nexport type DragHandleBehavior = {\n  xProperty?: string /* this should be an array of properties... i.e. padding.left and padding.left */;\n  yProperty?: string;\n};\n\nexport type DragCallback = (\n  elementPositionAndSize: ElementPositionAndSize,\n  mouseDragInfo: ValidMouseDragInfo\n) => void;\n\nexport type MouseDragInfo = ValidMouseDragInfo | false;\n\nexport type ValidMouseDragInfo = {\n  startX: number;\n  startY: number;\n  currentX: number;\n  currentY: number;\n  lastXChange: number;\n  lastYChange: number;\n  totalXChange: number;\n  totalYChange: number;\n};\n\nexport function makeDragCallback(dragHandleBehavior: DragHandleBehavior) {\n  return (\n    elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo\n  ) => {\n    if (uiStore.activeElementId) {\n      const combinatorFunction = (a: number, b: number) => {\n        return a + b >= 0 ? a + b : 0;\n      };\n\n      /*\n\n      for an image:\n       - any drag anywhere only affects width\n\n       for an image frame\n        - we'd need percentages, not px widths\n\n       for a button:\n        - drag a corner proportionally increases paddings\n        - drag middle side - incerases padding left and right\n        - drag middle top or bottom - increases padding top and bottom\n        \n        \n        /*\n\n      top left - decrease x, decrease y\n      top middle - decrease y\n      top right - increase x, decrease y\n\n      bottom left - decrease x, increase y\n      bottom middle - increase y\n      bottom right - increase x, increqase y\n\n      left middle - decrease x\n      right middle - increase x\n\n      */\n\n      if (\"xProperty\" in dragHandleBehavior && dragHandleBehavior.xProperty) {\n        const controlPath = dragHandleBehavior.xProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.width,\n          mouseDragInfo.lastXChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n\n      if (\"yProperty\" in dragHandleBehavior && dragHandleBehavior.yProperty) {\n        const controlPath = dragHandleBehavior.yProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.height,\n          mouseDragInfo.lastYChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n    }\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { getActiveElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport {\n  DragHandleBehavior,\n  makeDragCallback,\n  MouseDragInfo,\n  DragCallback\n} from \"@/lib/canvas/drag/drag\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\nconst imageDragHandleBehavior: DragHandleBehavior = {\n  xProperty:\n    \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* i'd like it better without the mediaquery thing */\n  //   yProperty:\n  //     \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* how do we enforce this is a path to a valid control of type unit input? */\n};\n\n@Component({})\nexport default class NodeChrome extends Vue {\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragDotsWrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  dragCallback: false | DragCallback = false;\n\n  unsubscribeFromStorePositionDotsWrapper = () => {};\n  nextTickPositionDragDotsWrapper() {\n    forceNextTick(() => this.positionDragDotsWrapper());\n  }\n  beforeMount() {\n    this.positionDragDotsWrapper();\n\n    this.unsubscribeFromStorePositionDotsWrapper = this.$store.subscribe(\n      this.nextTickPositionDragDotsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionDotsWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    this.dragCallback = makeDragCallback(imageDragHandleBehavior);\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const elementPositionAndSize = getActiveElementPositionAndSize();\n      if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n      this.mouseDragInfo = {\n        ...this.mouseDragInfo,\n        currentX: e.clientX,\n        currentY: e.clientY,\n        lastXChange: e.clientX - this.mouseDragInfo.currentX,\n        lastYChange: e.clientY - this.mouseDragInfo.currentY,\n        totalXChange: e.clientX - this.mouseDragInfo.startX,\n        totalYChange: e.clientY - this.mouseDragInfo.startY\n      };\n\n      if (this.dragCallback) {\n        this.dragCallback(elementPositionAndSize, this.mouseDragInfo);\n      }\n\n      this.positionDragDotsWrapper();\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    this.mouseDragInfo = false;\n    this.dragCallback = false;\n  }\n\n  positionDragDotsWrapper() {\n    if (!uiStore.activeElementId) {\n      this.dragDotsWrapperPositionStyle = {\n        display: \"none\"\n      };\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.dragDotsWrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: y.toString() + \"px\",\n      left: x.toString() + \"px\",\n      width: width.toString() + \"px\",\n      height: height.toString() + \"px\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragDots.vue?vue&type=template&id=bfb1318c&\"\nimport script from \"./DragDots.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragDots.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.bars),function(bar,i){return _c('SpacingBar',{key:i,attrs:{\"bar\":bar,\"isDragging\":_vm.isDragging,\"isActiveBar\":_vm.clickedHandle === bar.location},on:{\"mousedown\":function($event){return _vm.dragStart($event, bar.location)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component } from \"vue-property-decorator\";\nimport { MouseDragInfo, ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport Vue from \"vue\";\nimport {\n  getActiveElementPositionAndSize,\n  ElementPositionAndSize,\n  clearTextSelection\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport _throttle from \"lodash/throttle\";\n\n@Component\nexport class DragMixin extends Vue {\n  clickedHandle: string | false = false;\n\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _elementPositionAndSize: ElementPositionAndSize,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _mouseDragInfo: ValidMouseDragInfo,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {\n    console.warn(\"To use DragMixin you must implement dragCallback()\");\n  } /* how do we type this so that you can't override it in the wrong way? */\n\n  dragEndCallback() {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStartCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStart(e: MouseEvent, handle?: string) {\n    // e.preventDefault(); // If we don't call `preventDefault` we will continue to receive events, even if we leave the iframe\n    e.stopPropagation();\n\n    if (typeof handle !== \"string\") {\n      console.warn(\n        \"To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')\"\n      );\n      return;\n    }\n\n    uiStore.setDragMixinDragging(true);\n    this.clickedHandle = handle;\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.addEventListener(\"mouseup\", this.dragEnd);\n\n    this.dragStartCallback(handle);\n  }\n\n  throttledDragging = _throttle(this.dragging, 60);\n\n  dragging(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    requestAnimationFrame(() => this._draggingFunc(e));\n  }\n\n  _draggingFunc(e: MouseEvent) {\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n    this.mouseDragInfo = {\n      ...this.mouseDragInfo,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: e.clientX - this.mouseDragInfo.currentX,\n      lastYChange: e.clientY - this.mouseDragInfo.currentY,\n      totalXChange: e.clientX - this.mouseDragInfo.startX,\n      totalYChange: e.clientY - this.mouseDragInfo.startY\n    };\n\n    if (this.clickedHandle) {\n      this.dragCallback(\n        elementPositionAndSize,\n        this.mouseDragInfo,\n        this.clickedHandle\n      );\n    }\n\n    this.positionWrapper();\n    clearTextSelection();\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line prettier/prettier\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mouseup\",\n      this.dragEnd\n    );\n    this.mouseDragInfo = false;\n    this.clickedHandle = false;\n\n    uiStore.setDragMixinDragging(false);\n    this.dragEndCallback();\n    clearTextSelection();\n  }\n\n  get isDragging() {\n    return !!this.mouseDragInfo;\n  }\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.positionWrapper);\n  }\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (!uiStore.activeElementId) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.wrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spacing-bar\",class:_vm.classList,style:(_vm.style),on:{\"mousedown\":function($event){return _vm.$emit('mousedown', $event)},\"mouseover\":function($event){_vm.isHovering = true},\"mouseleave\":function($event){_vm.isHovering = false}}},[_c('div',{staticClass:\"spacing-bar-current-value\"},[_vm._v(_vm._s(_vm.value)+\"px\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getElementComputedStyleFromNode } from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport lodash from \"lodash\";\n\nexport function getSpacingPropertyValue(\n  propertyPath: string,\n  cssProperty: string\n) {\n  const valInPx = getCurrentValueInPx(propertyPath, cssProperty);\n  return valInPx ? valInPx : 0;\n}\n\nexport function getCurrentValueInPx(path: string, cssProperty: string) {\n  if (!uiStore.activeElement) return false;\n\n  const fullPath = fullPathToSpacingProp(path, uiStore.currentBreakpoint.id);\n\n  let currentValue = parseInt(\n    lodash.get(uiStore.activeElement, `data.properties.${fullPath}.number`)\n  );\n\n  if (!currentValue) {\n    currentValue = 0;\n  }\n\n  let currentUnit = lodash.get(\n    uiStore.activeElement,\n    `data.properties.${fullPath}.unit`\n  );\n\n  if (!currentUnit) {\n    currentUnit = \"px\";\n  }\n\n  if (currentUnit !== \"px\" && currentValue !== 0) {\n    const computedStyle = getElementComputedStyleFromNode(\n      uiStore.activeElement\n    );\n    if (!computedStyle) return false;\n\n    const styleValue = parseInt(computedStyle.getPropertyValue(cssProperty));\n\n    return styleValue;\n  }\n  return currentValue;\n}\n\nexport function fullPathToSpacingProp(path: string, breakpointSlug: string) {\n  return path.replace(\"%%BREAKPOINT%%\", breakpointSlug);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport { getSpacingPropertyValue } from \"@/lib/canvas/spacing-bars\";\nimport {\n  ElementPositionAndSize,\n  getDomElementFromTreeNode,\n  getDomElementPositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class SpacingBar extends Vue {\n  @Prop()\n  bar!: SpacingBarDescription;\n\n  @Prop()\n  isDragging!: boolean;\n\n  @Prop()\n  isActiveBar!: boolean;\n\n  isHovering = false;\n\n  resizeObserver: ResizeObserver = new ResizeObserver(\n    this.onActiveElementResize\n  );\n\n  activeElementPositionAndSize: ElementPositionAndSize | null = null;\n  valueAtMomentOfElementPositionAndSizeCalculation: number | null = null;\n\n  intervalHandle: NodeJS.Timeout | undefined;\n\n  get value() {\n    return getSpacingPropertyValue(\n      this.bar.affectedPropertyPath,\n      this.bar.cssProperty\n    );\n  }\n\n  get activeElement() {\n    return uiStore.activeElement;\n  }\n\n  updateActiveElementPositionWhenItsPresent() {\n    const activeElement = this.activeElement;\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.activeElementPositionAndSize =\n          getDomElementPositionAndSize(activeElementDomNode) || null;\n        // Defensively copy this.value in case it'll become an object in the future\n        this.valueAtMomentOfElementPositionAndSizeCalculation = this.value;\n\n        return;\n      }\n    }\n\n    this.activeElementPositionAndSize = null;\n    this.valueAtMomentOfElementPositionAndSizeCalculation = null;\n  }\n\n  mounted() {\n    this.intervalHandle = setInterval(() => {\n      forceNextTick(this.updateActiveElementPositionWhenItsPresent);\n    }, 50);\n  }\n\n  @Watch(\"activeElement\", { immediate: true })\n  handleActiveElementChange() {\n    this.updateActiveElementPositionWhenItsPresent();\n\n    this.resizeObserver.disconnect();\n\n    const activeElement = this.activeElement;\n\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.resizeObserver.observe(activeElementDomNode, {\n          box: \"border-box\"\n        });\n        if (activeElementDomNode.parentElement) {\n          this.resizeObserver.observe(activeElementDomNode.parentElement, {\n            box: \"border-box\"\n          });\n        }\n      }\n    }\n  }\n\n  onActiveElementResize() {\n    this.updateActiveElementPositionWhenItsPresent();\n  }\n\n  get classList() {\n    return [`spacing-bar-${this.bar.location}`];\n  }\n\n  get style() {\n    if (\n      (this.isDragging && this.isActiveBar) ||\n      // don't show other bars while dragging\n      (this.isHovering && !this.isDragging)\n    ) {\n      return { ...this.barStyle, opacity: 1 };\n    }\n\n    return this.barStyle;\n  }\n\n  get barStyle() {\n    const positionAndSize = this.activeElementPositionAndSize;\n\n    if (!positionAndSize) return {};\n\n    const valueAtMomentOfElementPositionAndSizeCalculation =\n      this.valueAtMomentOfElementPositionAndSizeCalculation || this.value;\n\n    const { width, height, y: top, x: left } = positionAndSize;\n\n    const valueMin5 =\n      valueAtMomentOfElementPositionAndSizeCalculation > 5\n        ? valueAtMomentOfElementPositionAndSizeCalculation\n        : 5;\n\n    switch (this.bar.location) {\n      case \"inside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${-valueMin5 + top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height - valueMin5}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"inside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width}px`,\n          cursor: \"col-resize\"\n        };\n      default:\n        return {};\n    }\n  }\n\n  beforeDestroy() {\n    this.resizeObserver.disconnect();\n    if (this.intervalHandle) {\n      clearInterval(this.intervalHandle);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBar.vue?vue&type=template&id=76f02033&\"\nimport script from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { DragMixin } from \"./DragMixin\";\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport SpacingBar from \"./SpacingBar.vue\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  fullPathToSpacingProp,\n  getCurrentValueInPx\n} from \"@/lib/canvas/spacing-bars\";\nimport { SpacingBarDescription, SpacingBarLocation } from \"@/types/elements\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\n\n@Component({\n  components: { SpacingBar }\n})\nexport default class SpacingBars extends Mixins(DragMixin) {\n  get bars(): SpacingBarDescription[] {\n    return this.activeElementSpacingBars ? this.activeElementSpacingBars : [];\n  }\n\n  get activeElementSpacingBars() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).spacingBars\n      : false;\n  }\n\n  originalValue: number | false = false;\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: SpacingBarLocation\n  ) {\n    const bar = this.bars.filter(b => b.location === handle).pop();\n\n    if (!uiStore.activeElementId || !bar) return;\n\n    let newValue = 0;\n    let currentValue = getCurrentValueInPx(\n      bar.affectedPropertyPath,\n      bar.cssProperty\n    );\n\n    if (!currentValue) {\n      currentValue = 0;\n    }\n\n    if (!this.originalValue) {\n      this.originalValue = currentValue;\n    }\n\n    switch (handle) {\n      case \"inside-top\":\n      case \"inside-bottom\":\n      case \"outside-top\":\n      case \"outside-bottom\":\n        newValue = this.originalValue + mouseDragInfo.totalYChange;\n        break;\n      case \"inside-left\":\n      case \"inside-right\":\n      case \"outside-left\":\n      case \"outside-right\":\n        newValue = this.originalValue + mouseDragInfo.totalXChange;\n        break;\n    }\n\n    if (newValue < 0) {\n      newValue = 0;\n    }\n\n    const fullPathToSpacingProperty = fullPathToSpacingProp(\n      bar.affectedPropertyPath,\n      uiStore.currentBreakpoint.id\n    );\n\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElementId,\n      path: fullPathToSpacingProperty,\n      value: {\n        number: newValue,\n        unit: \"px\",\n        style: `${newValue}px`\n      },\n      meta: {\n        snapshotLabel: generateDocumentStorePropertyChangeSnapshotLabel.forElementByTreeNodeId(\n          uiStore.activeElementId,\n          fullPathToSpacingProperty,\n          SnapshotLabelAction.CHANGE\n        )\n      }\n    });\n  }\n\n  dragEndCallback() {\n    this.originalValue = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBars.vue?vue&type=template&id=920c868e&\"\nimport script from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shouldShow)?_c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.wrapperPositionStyle)},[(_vm.isNotFarLeftColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'left')}}},[(_vm.resizedWidths && 'left' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.siblingWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.resizedWidth)+\"% \")])]):_vm._e()]):_vm._e(),(_vm.isNotFarRightColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'right')}}},[(_vm.resizedWidths && 'right' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.resizedWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.siblingWidth)+\"% \")])]):_vm._e()]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { TreeNode } from \"@/types/tree\";\nimport {\n  getTreeNodePositionAndSize,\n  getElementComputedStyleFromNode\n} from \"@/lib/canvas/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { getNodeParent } from \"../tree/tree\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nexport function getOnCanvasColumnWidthInPercent(column: TreeNode) {\n  const columnWidthInPx = getOnCanvasColumnWidthInPixels(column);\n  const columnParentWidthInPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthInPx || !columnParentWidthInPx) return false;\n\n  const columnWidthInPercent = parseFloatAndFixTo2Digits(\n    (columnWidthInPx / columnParentWidthInPx) * 100\n  );\n\n  return columnWidthInPercent ? columnWidthInPercent : false;\n}\n\nexport function calcNewPercentWidthForColumn(\n  column: TreeNode,\n  pixelsToAdd: number,\n  currentWidthInPx: number\n) {\n  const columnWidthPx = currentWidthInPx;\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthPx || !columnParentWidthPx) return false;\n\n  const newColumnWidthInPercent =\n    100 * ((columnWidthPx + pixelsToAdd) / columnParentWidthPx);\n\n  return parseFloatAndFixTo2Digits(newColumnWidthInPercent);\n}\n\nexport function getOnCanvasColumnWidthInPixels(column: TreeNode) {\n  const columnPosition = getTreeNodePositionAndSize(column);\n  if (columnPosition) {\n    return columnPosition.width;\n  }\n\n  return false;\n}\n\nfunction getOnCanvasColumnParentWidthInPixels(column: TreeNode) {\n  const columnParent = getNodeParent(documentStore.document.tree, column.id);\n\n  if (columnParent) {\n    const columnParentPosition = getTreeNodePositionAndSize(columnParent);\n    if (columnParentPosition) {\n      return columnParentPosition.width;\n    }\n  }\n\n  return false;\n}\n\nexport function getOnCanvasColumnMinWidthBasedOnPadding(column: TreeNode) {\n  const computedStyle = getElementComputedStyleFromNode(column);\n  if (!computedStyle) return false;\n\n  const paddingLeft = parseInt(computedStyle.getPropertyValue(\"padding-left\"));\n  const paddingRight = parseInt(\n    computedStyle.getPropertyValue(\"padding-right\")\n  );\n\n  if (Number.isNaN(paddingLeft) || Number.isNaN(paddingRight)) return false;\n\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnParentWidthPx) return false;\n\n  const minColumnWidthInPercent =\n    100 * ((paddingLeft + paddingRight) / columnParentWidthPx);\n\n  return Math.ceil(minColumnWidthInPercent);\n}\n","import { TreeNode } from \"@/types/tree\";\nimport {\n  getColumnWidth,\n  rewidthIfColumnsNotAddUpTo100\n} from \"@/lib/columns/helpers\";\nimport { getOnCanvasColumnMinWidthBasedOnPadding } from \"./canvas\";\nimport { changeColumnWidthAndCommitToStore } from \"./store\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nconst DEFAULT_MIN_WIDTH = 20;\n\nexport type NewColumnWidths = {\n  resizedWidth: number;\n  siblingWidth: number;\n};\n\nexport function resizeTwoColumnsAndCommit(\n  columns: TreeNode,\n  columnToResizeIndex: number,\n  newWidth: number,\n  adjustSibling: \"right\" | \"left\"\n): NewColumnWidths | false {\n  const siblingToResizeIndex =\n    adjustSibling === \"right\"\n      ? columnToResizeIndex + 1\n      : columnToResizeIndex - 1;\n  const siblingToResize = columns.children[siblingToResizeIndex];\n  const columnToResize = columns.children[columnToResizeIndex];\n\n  if (!columnToResize || !siblingToResize) return false;\n  if (columnToResizeIndex < 0 || siblingToResizeIndex < 0) return false;\n\n  const columnMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    columnToResize\n  );\n  const siblingMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    siblingToResize\n  );\n\n  let MIN_WIDTH = DEFAULT_MIN_WIDTH;\n\n  if (columnMinWidth !== false && siblingMinWidth !== false) {\n    MIN_WIDTH = Math.max(columnMinWidth, siblingMinWidth);\n  }\n\n  let unavailableWidth =\n    100 - getColumnWidth(columnToResize) - getColumnWidth(siblingToResize);\n\n  let siblingWidth = 100 - unavailableWidth - newWidth;\n\n  if (newWidth < MIN_WIDTH) {\n    newWidth = MIN_WIDTH;\n    siblingWidth = 100 - unavailableWidth - newWidth;\n  }\n\n  if (siblingWidth < MIN_WIDTH) {\n    siblingWidth = MIN_WIDTH;\n    newWidth = 100 - unavailableWidth - siblingWidth;\n  }\n\n  if (unavailableWidth > 100 - MIN_WIDTH * 2) {\n    newWidth = (100 - unavailableWidth) / 2;\n    siblingWidth = (100 - unavailableWidth) / 2;\n  }\n\n  newWidth = parseFloatAndFixTo2Digits(newWidth);\n  siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  unavailableWidth = parseFloatAndFixTo2Digits(unavailableWidth);\n\n  if (newWidth + siblingWidth + unavailableWidth !== 100) {\n    siblingWidth = 100 - unavailableWidth - newWidth;\n    siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  }\n\n  changeColumnWidthAndCommitToStore(columnToResize.id, newWidth);\n  changeColumnWidthAndCommitToStore(siblingToResize.id, siblingWidth);\n\n  rewidthIfColumnsNotAddUpTo100(columns);\n\n  return {\n    resizedWidth: newWidth,\n    siblingWidth: siblingWidth\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport { DragMixin } from \"./DragMixin\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  getOnCanvasColumnWidthInPercent,\n  calcNewPercentWidthForColumn,\n  getOnCanvasColumnWidthInPixels\n} from \"@/lib/columns/canvas\";\nimport { resizeTwoColumnsAndCommit } from \"@/lib/columns/drag\";\nimport { getColumnsElement, isColumnElement } from \"@/lib/columns/helpers\";\nimport { NewColumnWidths } from \"@/lib/columns/drag\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { BASE_BREAKPOINT_ID } from \"@/lib/breakpoints/breakpoints\";\nimport { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport lodash from \"lodash\";\n\n@Component({})\nexport default class ColumnDragSizer extends Mixins(DragMixin) {\n  resizedWidths:\n    | false\n    | { left: NewColumnWidths }\n    | { right: NewColumnWidths } = false;\n\n  widthOnDragStart: number | false = false;\n\n  get columnsAreNotResizeableAtBaseBreakpoint() {\n    if (!this.activeColumn) return false;\n\n    const columns = getColumnsElement(this.activeColumn);\n    if (!columns) return false;\n\n    const VERTICAL_STACKING_PATH = \"design.layout.stack_vertically\";\n    const FIFTY_FIFTY_PATH = \"design.layout.fifty_percent\";\n\n    const verticalStacking = lodash.get(\n      columns.data.properties,\n      VERTICAL_STACKING_PATH,\n      false\n    );\n    const fiftyFifty = lodash.get(\n      columns.data.properties,\n      FIFTY_FIFTY_PATH,\n      false\n    );\n\n    return (\n      verticalStacking === BASE_BREAKPOINT_ID ||\n      fiftyFifty === BASE_BREAKPOINT_ID\n    );\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.currentBreakpoint.id === BASE_BREAKPOINT_ID &&\n      this.activeColumn &&\n      !this.columnsAreNotResizeableAtBaseBreakpoint\n    );\n  }\n\n  dragStartCallback() {\n    breakdanceUndo.startTransaction();\n  }\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: string\n  ) {\n    if (!this.activeColumn || (handle !== \"left\" && handle !== \"right\")) return;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n\n    if (columnIndex === false || columnParent === false) return;\n\n    let adjustPx = 0;\n\n    if (!this.widthOnDragStart) {\n      this.widthOnDragStart = getOnCanvasColumnWidthInPixels(this.activeColumn);\n    }\n\n    if (!this.widthOnDragStart) return;\n\n    adjustPx =\n      handle === \"right\"\n        ? mouseDragInfo.totalXChange\n        : -1 * mouseDragInfo.totalXChange;\n\n    /* we need to product mouseDragInfo from having any NaN values */\n\n    const newWidth = calcNewPercentWidthForColumn(\n      this.activeColumn,\n      adjustPx,\n      this.widthOnDragStart\n    );\n\n    if (!newWidth) return;\n\n    const resizedWidths = resizeTwoColumnsAndCommit(\n      columnParent,\n      columnIndex,\n      newWidth,\n      handle\n    );\n\n    if (resizedWidths) {\n      // @ts-ignore\n      this.resizedWidths = {\n        [handle]: {\n          resizedWidth: Number(resizedWidths.resizedWidth.toFixed(2)),\n          siblingWidth: Number(resizedWidths.siblingWidth.toFixed(2))\n        }\n      };\n    }\n  }\n\n  dragEndCallback() {\n    this.resizedWidths = false;\n    this.widthOnDragStart = false;\n    breakdanceUndo.endTransaction(\"Resizing column\");\n  }\n\n  get isNotFarLeftColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false) return false;\n\n    return columnIndex !== 0;\n  }\n\n  get isNotFarRightColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false || columnParent === false) return false;\n\n    return columnIndex !== columnParent.children.length - 1;\n  }\n\n  get activeColumn() {\n    return isColumnElement(uiStore.activeElement)\n      ? uiStore.activeElement\n      : false;\n  }\n\n  get columnWidthInPercent() {\n    if (!this.activeColumn) return false;\n    return getOnCanvasColumnWidthInPercent(this.activeColumn);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColumnDragSizer.vue?vue&type=template&id=7c45e06a&\"\nimport script from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'node-titlebar-wrapper': true,\n    'node-titlebar-wrapper-is-dragging': _vm.isDragging\n  },style:(_vm.wrapperPositionStyle)},[_c('div',{staticClass:\"node-titlebar\",class:_vm.titlebarClasses,style:(_vm.titlebarPositionStyle),on:{\"contextmenu\":_vm.openContextMenu}},[(_vm.isDragAndDropEnabled)?_c('OnCanvasDragHandle',{attrs:{\"node\":_vm.node}},[_c('span',{staticClass:\"node-titlebar-title\",attrs:{\"title\":\"Drag element\"}},[_c('span',{staticClass:\"node-titlebar-button\"},[_c('Icon',{attrs:{\"icon\":\"MaximizeIcon\",\"size\":\"10\"}})],1),_c('span',[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),(_vm.isDraftSection)?_c('span',{staticStyle:{\"margin-left\":\"4px\"}},[_vm._v(\" (Draft) \")]):_vm._e()])]):[_vm._v(_vm._s(_vm.elementTitle))],(_vm.hasParent)?_c('span',{staticClass:\"node-titlebar-button node-titlebar-button-activate-parent\",attrs:{\"title\":\"Select parent\"},on:{\"click\":_vm.activateParent}},[_c('Icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"180\",\"size\":\"10\"}})],1):_vm._e(),(_vm.hasSSr)?_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': true,\n        'breakdance-node-titlebar-loading-spinner': _vm.isElementUpdating\n      },attrs:{\"title\":\"Refresh element\"},on:{\"click\":_vm.refreshSsr}},[_c('Icon',{attrs:{\"icon\":\"RotateIcon\",\"size\":\"13\"}})],1):_vm._e(),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': !_vm.hasSSr\n      },attrs:{\"title\":\"Duplicate\"},on:{\"click\":_vm.duplicate}},[_c('Icon',{attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"13\"}})],1),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],staticClass:\"node-titlebar-button\",attrs:{\"title\":\"Remove\"},on:{\"click\":_vm.remove}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.updateCurrentlyDraggingElementId($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Vue, Component, Prop, Watch } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { DragPayload } from \"@/lib/structure-panel-drag/util\";\nimport { TreeNode } from \"@/types/tree\";\nimport {\n  getNodeIdAtPointInCanvas,\n  shouldItBeInsertedBeforeOrAfter,\n  getStackingStyle,\n  getNodesIdsAtPointInCanvas\n} from \"@/lib/canvas/drag/element-drag\";\nimport {\n  clearTextSelection,\n  ElementPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { distance } from \"@/util/distance\";\nimport { CanvasDragPlaceholderPosition } from \"@/types/ui\";\nimport { findNode, getNodeParent, treeNodeReduce } from \"@/lib/tree/tree\";\nimport {\n  findNearestParentThatWillAcceptNodes,\n  getNestingRuleFromNode,\n  isThisNodeAllowedInsideThatNode\n} from \"@/lib/tree/nesting\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\ntype PlaceholderPosition = {\n  dropTargetId: number;\n  dragPlaceholderIndex: number;\n  beforeOrAfter: \"before\" | \"after\";\n}; // this is a silly type because we already have a very similar one - CanvasDragPlaceholderPosition\n\n@Component\nexport default class OnCanvasDragHandle extends Vue {\n  @Prop()\n  node!: TreeNode;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  get nestingPermissions() {\n    return getNestingRuleFromNode(this.node);\n  }\n\n  get canvasElementDraggedId() {\n    return uiStore.currentlyDraggingCanvasElementId;\n  }\n\n  @Watch(\"canvasElementDraggedId\")\n  watchCanvasElementDraggedId() {\n    this.dragStart();\n  }\n\n  // Call this instead of dragStart directly. dragStart will be called by the watcher\n  // This allows us to trigger a drag event from anywhere by updating the canvasElementDraggedId\n  updateCurrentlyDraggingElementId() {\n    uiStore.setCanvasElementDraggedId(this.node.id);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart() {\n    if (!uiStore.hasFullAccess || !this.canvasElementDraggedId) return;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      this.node.id\n    );\n\n    if (maybeParent) {\n      this.setCanvasDragPlaceholderPosition({\n        nodeIndex: -1, // bs, doesnt matter\n        position: \"before\", // bs, doesnt matter\n        parentId: maybeParent.id,\n        onlyShowTargetOutline: true\n      }); // only reason we call this is to outline the parent\n    }\n\n    clearTextSelection();\n  }\n\n  setCanvasDragPlaceholderPosition(\n    canvasDragPlaceholderPosition: CanvasDragPlaceholderPosition | null\n  ) {\n    uiStore.setCanvasDragPlaceholderPosition(canvasDragPlaceholderPosition);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const mouseX = e.clientX;\n      const mouseY = e.clientY;\n\n      const nodeMouseIsOverId = getNodeIdAtPointInCanvas(mouseX, mouseY);\n\n      if (nodeMouseIsOverId === undefined) return;\n\n      const nodeMouseIsOver = findNode(\n        documentStore.document.tree,\n        nodeMouseIsOverId\n      );\n      if (nodeMouseIsOver === undefined) return;\n\n      const dropTargetNode = findNearestParentThatWillAcceptNodes(\n        documentStore.document.tree,\n        nodeMouseIsOver,\n        this.nestingPermissions\n      );\n\n      if (!dropTargetNode) return;\n\n      const dropTargetNodeId = dropTargetNode.id;\n\n      // ---------------------------------\n\n      if (\n        nodeMouseIsOverId === this.node.id ||\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          this.node,\n          undefined\n        )\n      ) {\n        /**\n         * if over self, outline parent and do nothing\n         */\n        this.setCanvasDragPlaceholderPosition({\n          nodeIndex: -1, // bs, doesnt matter\n          position: \"before\", // bs, doesnt matter\n          parentId: dropTargetNodeId,\n          onlyShowTargetOutline: true\n        }); // only reason we call this is to outline the parent\n\n        this.setDropPosition(false);\n      } else if (nodeMouseIsOverId === dropTargetNodeId) {\n        /*\n        if we are over the drop target, but not any of its children\n        */\n        this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        dropTargetNode.children.find(n => nodeMouseIsOverId === n.id)\n      ) {\n        /*\n        if we are over an immediate child of the drop target, and not the self\n        */\n        this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        /*\n        if we are over a deeper child of the drop target, and not the self\n        */\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          dropTargetNode,\n          undefined\n        )\n      ) {\n        const childOfDropTargetThatMouseIsReallyOver = getNodesIdsAtPointInCanvas(\n          mouseX,\n          mouseY\n        ).reduce((foundNode: TreeNode | undefined, nodeId: number) => {\n          if (!foundNode) {\n            return dropTargetNode.children.find(n => n.id === nodeId);\n          }\n          return foundNode;\n        }, undefined);\n\n        if (childOfDropTargetThatMouseIsReallyOver) {\n          this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n            mouseX,\n            mouseY,\n            childOfDropTargetThatMouseIsReallyOver.id,\n            this.node.id,\n            dropTargetNode\n          );\n        }\n      }\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      documentStore.moveElement(this.lastSubmittedDrag);\n    }\n\n    this.setCanvasDragPlaceholderPosition(null);\n    this.lastSubmittedDrag = false;\n    uiStore.endCanvasElementDrag();\n\n    clearTextSelection();\n  }\n\n  handleDragWhenMouseIsOverAChildOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode,\n    placeholderOnly = false\n  ) {\n    const stackingStyle = getStackingStyle(dropTargetNode);\n\n    const insertBeforeOrAfter =\n      shouldItBeInsertedBeforeOrAfter(\n        mouseX,\n        mouseY,\n        mouseOverNodeId,\n        stackingStyle\n      ) === \"before\"\n        ? \"before\"\n        : \"after\";\n\n    const nodesInDropTarget = dropTargetNode.children\n      .map(node => node.id)\n      .filter(id => id !== draggedNodeId);\n\n    const dragPlaceholderIndex = dropTargetNode.children\n      .map(node => node.id)\n      .findIndex(id => id === mouseOverNodeId);\n\n    let dropPlacementIndex = nodesInDropTarget.findIndex(\n      id => id === mouseOverNodeId\n    );\n\n    if (insertBeforeOrAfter === \"after\") {\n      dropPlacementIndex++; // for the placement of the dropped element, 0 inserts before the first node, 1 inserts after the first node\n    }\n\n    if (placeholderOnly === true) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition(false);\n    } else {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    _mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode\n  ) {\n    if (dropTargetNode.children.length === 0) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: 0,\n        beforeOrAfter: \"after\"\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: 0\n      });\n    } else {\n      const rects = (dropTargetNode.children\n        .map((node, i) => {\n          return {\n            positionAndSize: getTreeNodePositionAndSize(node, \"absolute\"), // we need to save the index to figure out which rect,\n            index: i,\n            id: node.id\n          };\n        })\n        .filter(r => r.positionAndSize) as {\n        index: number;\n        positionAndSize: ElementPositionAndSize;\n        id: number;\n      }[])\n        .map(r => {\n          return {\n            min: {\n              x: r.positionAndSize.x,\n              y: r.positionAndSize.y\n            },\n            max: {\n              x: r.positionAndSize.x + r.positionAndSize.width,\n              y: r.positionAndSize.y + r.positionAndSize.height\n            },\n            nodeIndex: r.index,\n            id: r.id\n          };\n        })\n        .map(r => {\n          return {\n            ...r,\n            distance: distance(r, { x: mouseX, y: mouseY })\n          };\n        });\n\n      const nearestRect = rects.reduce((r1, r2) =>\n        r1.distance < r2.distance ? r1 : r2\n      );\n\n      const xCenter = (nearestRect.min.x + nearestRect.max.x) / 2;\n      const yCenter = (nearestRect.min.y + nearestRect.max.y) / 2;\n\n      const leftOrRight = xCenter > mouseX ? \"left\" : \"right\";\n      const aboveOrBelow = yCenter > mouseY ? \"above\" : \"below\";\n\n      const stackingStyle = getStackingStyle(dropTargetNode);\n\n      let insertBeforeOrAfter: \"before\" | \"after\";\n\n      if (stackingStyle === \"vertical\") {\n        insertBeforeOrAfter = aboveOrBelow === \"above\" ? \"before\" : \"after\";\n      } else {\n        insertBeforeOrAfter = leftOrRight === \"left\" ? \"before\" : \"after\";\n      }\n\n      if (nearestRect.id === draggedNodeId) {\n        // if nearest node is self, just recompute the placeholder position.\n\n        this.setPlaceholder({\n          dropTargetId: dropTargetNode.id,\n          dragPlaceholderIndex: nearestRect.nodeIndex,\n          beforeOrAfter: insertBeforeOrAfter\n        });\n\n        this.setDropPosition(false);\n\n        return;\n      }\n\n      const nodesInDropTargetIds = dropTargetNode.children\n        .map(node => node.id)\n        .filter(id => id !== draggedNodeId);\n\n      let dropPlacementIndex = nodesInDropTargetIds.findIndex(\n        id => id === nearestRect.id\n      );\n\n      if (insertBeforeOrAfter === \"after\") {\n        dropPlacementIndex++;\n      }\n\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: nearestRect.nodeIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  setPlaceholder(placeholderPosition: PlaceholderPosition) {\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        placeholderPosition.dropTargetId\n      )\n    ) {\n      this.movePlaceholder(\n        placeholderPosition.dropTargetId,\n        placeholderPosition.dragPlaceholderIndex,\n        placeholderPosition.beforeOrAfter\n      );\n    }\n  }\n\n  setDropPosition(dropPosition: DragPayload | false) {\n    if (dropPosition === false) {\n      this.lastSubmittedDrag = false;\n      return;\n    }\n\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        dropPosition.droppedOnElementId\n      )\n    ) {\n      this.lastSubmittedDrag = dropPosition;\n    }\n  }\n\n  movePlaceholder(\n    dropTargetId: number,\n    dragPlaceholderIndex: number,\n    beforeOrAfter: \"before\" | \"after\"\n  ) {\n    let onlyShowTargetOutline = false;\n\n    /* hide if placeholder is on the dragged node */\n    const dropTarget = findNode(documentStore.document.tree, dropTargetId);\n    if (dropTarget) {\n      const maybeChildWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex];\n      const maybeChildBeforeWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex - 1];\n      const maybeChildAFterWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex + 1];\n\n      if (maybeChildWherePlaceholderIs) {\n        if (maybeChildWherePlaceholderIs.id === this.node.id) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildBeforeWherePlaceholderIs) {\n        if (\n          maybeChildBeforeWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"before\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildAFterWherePlaceholderIs) {\n        if (\n          maybeChildAFterWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"after\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n    }\n    /* ---------- */\n\n    /* only move if it is materially different than last position */\n    if (uiStore.canvasDragPlaceholderPosition) {\n      const movedForwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex +\n          1;\n\n      const movedBackwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex -\n          1;\n\n      if (uiStore.canvasDragPlaceholderPosition.parentId === dropTargetId) {\n        if (\n          movedForwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"after\" &&\n          beforeOrAfter === \"before\"\n        ) {\n          return;\n        }\n\n        if (\n          movedBackwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"before\" &&\n          beforeOrAfter === \"after\"\n        ) {\n          return;\n        }\n      }\n    }\n    /* ------ */\n\n    this.setCanvasDragPlaceholderPosition({\n      parentId: dropTargetId,\n      nodeIndex: dragPlaceholderIndex,\n      position: beforeOrAfter,\n      onlyShowTargetOutline: onlyShowTargetOutline\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OnCanvasDragHandle.vue?vue&type=template&id=616df96e&\"\nimport script from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getCanvasPositionAndSize } from \"@/lib/canvas/helpers\";\n\nexport function getRightClickMenuPositionInCanvas(\n  mouseX: number,\n  mouseY: number\n) {\n  const { x: canvasX, y: canvasY } = getCanvasPositionAndSize();\n\n  const iframe = document.getElementById(\"iframe\");\n\n  const menuElement = window.Breakdance.canvas.document.querySelector(\n    \".breakdance-canvas-right-click-menu\"\n  ) as HTMLElement;\n\n  if (!menuElement || !iframe) {\n    return;\n  }\n\n  const {\n    width: iframeWidth,\n    height: iframeHeight\n  } = iframe.getBoundingClientRect();\n\n  const { menuWidth, menuHeight } = getMenuSize(menuElement);\n\n  const x =\n    mouseX + menuWidth + 15 > iframeWidth\n      ? mouseX - canvasX - menuWidth\n      : mouseX - canvasX;\n\n  const y =\n    mouseY + menuHeight + 15 > iframeHeight\n      ? mouseY - canvasY - menuHeight\n      : mouseY - canvasY;\n\n  return {\n    x,\n    y\n  };\n}\n\nfunction getMenuSize(menuElement: HTMLElement) {\n  // getBoundingClientRect sizes will be 0 if the element is hidden\n  menuElement.style.display = \"block\";\n  const { width, height } = menuElement.getBoundingClientRect();\n\n  return {\n    menuWidth: width,\n    menuHeight: height\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport OnCanvasDragHandle from \"./OnCanvasDragHandle.vue\";\nimport { getNodeParent } from \"@/lib/tree/tree\";\nimport {\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode,\n  getNodeTitlebarStyles\n} from \"@/lib/canvas/helpers\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\n\n@Component({\n  components: {\n    Icon,\n    OnCanvasDragHandle\n  }\n})\nexport default class NodeTitlebar extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.calculateStylesAndTitle);\n  }\n\n  openContextMenu(e: MouseEvent) {\n    // don't reach the event in the menu, otherwise It'll select the wrong element\n    e.stopPropagation();\n    e.preventDefault();\n\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!uiStore.activeElementId || !position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId: uiStore.activeElementId,\n      position\n    });\n  }\n\n  mounted() {\n    this.calculateStylesAndTitle();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    this.interval = setInterval(\n      this.nextTickPositionsWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    clearInterval(this.interval);\n  }\n\n  get isDraftSection() {\n    if (!uiStore.activeElement) return false;\n\n    if (uiStore.activeElement.data.type !== SECTION_SLUG) return false;\n\n    const isDraft = lodash.get(\n      uiStore.activeElement.data.properties,\n      \"settings.advanced.draft\"\n    );\n\n    return !!isDraft;\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  get isElementUpdating() {\n    if (!uiStore.activeElementId) return false;\n    return !!uiStore.elementsThatAreUpdating[uiStore.activeElementId];\n  }\n\n  titlebarPositionStyle: { [key: string]: string } = {};\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  elementTitle = \"\";\n\n  // Everything is calculated in a func to avoid UI flicker caused by values being calculated at different times\n  calculateStylesAndTitle() {\n    if (uiStore.elementWithContentEditable || !uiStore.activeElement) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.elementTitle = configStore.element(\n      uiStore.activeElement.data.type\n    ).name;\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(uiStore.activeElement)\n    );\n\n    this.titlebarPositionStyle = getNodeTitlebarStyles(uiStore.activeElement);\n  }\n\n  get titlebarClasses() {\n    return {\n      \"node-titlebar-is-dragging\": this.isDragging,\n      \"node-titlebar-is-draft-section\": this.isDraftSection\n    };\n  }\n\n  get isDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === uiStore.activeElementId;\n  }\n\n  duplicate() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({ nodeId: uiStore.activeElementId });\n    }\n  }\n\n  refreshSsr() {\n    uiStore.setRefreshSsrElementId(uiStore.activeElementId);\n  }\n\n  get hasSSr() {\n    const activeElementBase =\n      uiStore.activeElement &&\n      configStore.element(uiStore.activeElement.data.type);\n\n    if (!activeElementBase) {\n      return \"\";\n    }\n\n    return activeElementBase.template.includes(\"%%SSR%%\");\n  }\n\n  get hasParent() {\n    return this.parentElement && this.parentElement.data.type !== \"root\";\n  }\n\n  get node() {\n    // False should never happen\n    return uiStore.activeElement || false;\n  }\n\n  activateParent() {\n    if (this.parentElement) {\n      uiStore.activateElement(this.parentElement.id);\n    }\n  }\n\n  get parentElement() {\n    if (!uiStore.activeElement) return false;\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      uiStore.activeElement.id\n    );\n\n    return maybeParent ? maybeParent : false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeTitlebar.vue?vue&type=template&id=071ac525&\"\nimport script from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-hover-controls\",class:_vm.wrapperClassList,style:(_vm.wrapperPositionStyle)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport {\n  getTreeNodePositionAndSize,\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport throttle from \"lodash/throttle\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeHoverControls extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n  shouldShowControls = false;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n\n  throttledNextTickPositionWrapper = throttle(\n    () => forceNextTick(() => this.positionWrapper()),\n    100\n  );\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.throttledNextTickPositionWrapper\n    );\n\n    window.addEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n  }\n\n  mounted() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    if (!canvasElement) return;\n\n    canvasElement.addEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    canvasElement.addEventListener(\n      \"mouseleave\",\n      this.disableMouseHoverOnMouseLeaveCanvas\n    );\n\n    this.interval = setInterval(\n      this.throttledNextTickPositionWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n    canvasElement?.removeEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    clearInterval(this.interval);\n  }\n\n  get wrapperClassList() {\n    return {\n      \"node-hover-controls-show\": this.shouldShowControls && this.isNotDragging,\n      \"node-hover-controls--outline\": this.isNotDragging\n    };\n  }\n\n  get isNotDragging() {\n    return !uiStore.isCanvasElementBeingDragged && !uiStore.isDragMixinDragging;\n  }\n\n  get element() {\n    if (\n      !uiStore.lastHoveredOnCanvasElementId ||\n      uiStore.elementWithContentEditable\n    )\n      return false;\n\n    const lastHoveredElement = findNode(\n      documentStore.document.tree,\n      uiStore.lastHoveredOnCanvasElementId\n    );\n\n    return lastHoveredElement || false;\n  }\n\n  setHoveredNode(x: number, y: number) {\n    const hoveredNodeId = getNodeIdAtPointInCanvas(x, y);\n\n    if (hoveredNodeId !== undefined) {\n      const hoveredNode = findNode(documentStore.document.tree, hoveredNodeId);\n\n      if (hoveredNode) {\n        uiStore.setLastHoveredOnCanvasElementId(hoveredNode.id);\n      }\n    }\n  }\n\n  disableMouseHoverOnMouseLeaveCanvas = () => {\n    // without a timeout, the mousemove event will trigger after mouseleave\n    // setting the hoveredElement again\n    setTimeout(() => uiStore.setLastHoveredOnCanvasElementId(null), 110);\n  };\n\n  throttledShowHoverControlsOnMouseMoveCanvas = throttle(\n    this.showHoverControlsOnMouseMoveCanvas,\n    100\n  );\n  showHoverControlsOnMouseMoveCanvas(e: MouseEvent) {\n    const { clientX: mouseX, clientY: mouseY } = e;\n\n    this.setHoveredNode(mouseX, mouseY);\n\n    if (this.element === false) return;\n\n    const elementPositionAndSize = getTreeNodePositionAndSize(\n      this.element,\n      \"absolute\"\n    );\n\n    if (!elementPositionAndSize) return;\n\n    const {\n      x: elementX,\n      y: elementY,\n      width: elementWidth,\n      height: elementHeight\n    } = elementPositionAndSize;\n\n    this.shouldShowControls =\n      mouseX > elementX + elementWidth - 48 &&\n      mouseX < elementX + elementWidth &&\n      mouseY > elementY &&\n      mouseY < elementY + elementHeight;\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (uiStore.elementWithContentEditable || !this.element) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(this.element)\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeHoverControls.vue?vue&type=template&id=ccf96b4e&\"\nimport script from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-content-editable\",style:(_vm.wrapperStyle)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport {\n  getDomElementFromTreeNode,\n  getNodeElementWrapperStyles\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeContentEditable extends Vue {\n  unsubscribeFromStorePositionWrapper = () => {};\n  wrapperStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n  lastModifiedDomElement: HTMLElement | null = null;\n\n  mounted() {\n    this.calculateWrapperStyles();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.calculateWrapperStyles\n    );\n\n    window.addEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  get domElement() {\n    if (!uiStore.elementWithContentEditable) return null;\n\n    const contentEditableElement = findNode(\n      documentStore.document.tree,\n      uiStore.elementWithContentEditable\n    );\n\n    if (!contentEditableElement) return null;\n\n    const domElement = getDomElementFromTreeNode(contentEditableElement);\n\n    if (domElement?.contentEditable === \"true\") {\n      this.lastModifiedDomElement = domElement;\n      return domElement;\n    }\n\n    const childWithContentEditable = domElement?.querySelector(\n      '[contenteditable=\"true\"]'\n    );\n\n    if (childWithContentEditable) {\n      this.lastModifiedDomElement = childWithContentEditable as HTMLElement;\n\n      return childWithContentEditable;\n    }\n\n    return null;\n  }\n\n  calculateWrapperStyles() {\n    // wait for the domElement to recalculate\n    forceNextTick(() => {\n      if (!this.domElement && this.lastModifiedDomElement) {\n        this.lastModifiedDomElement.removeEventListener(\n          \"input\",\n          this.calculateWrapperStyles\n        );\n        this.lastModifiedDomElement = null;\n      }\n\n      this.wrapperStyle = getNodeElementWrapperStyles(\n        this.domElement as HTMLElement\n      );\n\n      if (this.domElement) {\n        // a contenteditable element won't update the store until it's blurred, but we need to update the wrapper styles\n        this.domElement.addEventListener(\"input\", this.calculateWrapperStyles);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeContentEditable.vue?vue&type=template&id=10cffb2c&\"\nimport script from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport DragDots from \"./DragDots.vue\";\nimport SpacingBars from \"./SpacingBars.vue\";\nimport ColumnDragSizer from \"./ColumnDragSizer.vue\";\nimport NodeTitlebar from \"./NodeTitlebar.vue\";\nimport NodeHoverControls from \"./NodeHoverControls.vue\";\nimport NodeContentEditable from \"@/components/Canvas/OverlaidUI/NodeContentEditable.vue\";\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  getDomElementFromTreeNode,\n  shouldHideElementNodeControls\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NodeContentEditable,\n    DragDots,\n    SpacingBars,\n    ColumnDragSizer,\n    NodeTitlebar,\n    NodeHoverControls\n  }\n})\nexport default class NodeChrome extends Vue {\n  observer?: MutationObserver;\n  hoverObserver?: MutationObserver;\n  hideTitleBar = false;\n  hideHoverControls = false;\n\n  get element() {\n    return uiStore.activeElement || false;\n  }\n\n  get hoveredElement() {\n    if (uiStore.lastHoveredOnCanvasElementId) {\n      return findNode(\n        documentStore.document.tree,\n        uiStore.lastHoveredOnCanvasElementId\n      );\n    }\n\n    return false;\n  }\n\n  get hideClass() {\n    let prefix = null;\n\n    if (this.hideTitleBar && this.hideHoverControls) {\n      prefix = \"all\";\n    } else if (this.hideHoverControls) {\n      prefix = \"hover\";\n    } else if (this.hideTitleBar) {\n      prefix = \"titlebar\";\n    }\n\n    return prefix ? `node-chrome--hide-${prefix}` : null;\n  }\n\n  @Watch(\"element\")\n  onElementSelected() {\n    this.observer?.disconnect();\n    if (!this.element) return;\n\n    this.observer = this.observePositionChange(this.element, target => {\n      this.hideTitleBar = shouldHideElementNodeControls(target);\n    });\n  }\n\n  @Watch(\"hoveredElement\")\n  onHoveredElementSelected() {\n    this.hoverObserver?.disconnect();\n    if (!this.hoveredElement) return;\n\n    this.hoverObserver = this.observePositionChange(\n      this.hoveredElement,\n      target => {\n        this.hideHoverControls = shouldHideElementNodeControls(target);\n      }\n    );\n  }\n\n  beforeDestroy() {\n    this.destroyObserver();\n  }\n\n  observePositionChange(\n    element: TreeNode | false,\n    callback: (target: HTMLElement) => void\n  ) {\n    if (!element) return;\n    const node = getDomElementFromTreeNode(element);\n\n    if (!node) return;\n\n    const onMutate = (mutations: MutationRecord[]) => {\n      mutations.forEach(record => {\n        const target = record.target as HTMLElement;\n        callback(target);\n      });\n    };\n\n    const observer = new MutationObserver(onMutate);\n\n    const options = {\n      attributes: true,\n      attributeFilter: [\"class\"]\n    };\n\n    observer.observe(node, options);\n    return observer;\n  }\n\n  destroyObserver() {\n    this.observer?.disconnect();\n    this.hoverObserver?.disconnect();\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeChrome.vue?vue&type=template&id=6b8240c2&\"\nimport script from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('DragPlaceholder'),_c('RightClickMenu',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-drag-placeholder-wrapper\"},[_c('div',{staticClass:\"breakdance-drag-placeholder\",style:(_vm.dragPlaceholderPositionStyle)}),_c('div',{staticClass:\"breakdance-drag-target-outline\",style:(_vm.dragTargetOutlineStyle)})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport {\n  getEmptyContainerPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { getStackingStyle } from \"@/lib/canvas/drag/element-drag\";\nimport { findNode, ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\n\n@Component({\n  components: {}\n})\nexport default class DragPlaceholder extends Vue {\n  get canvasDragPlaceholderPosition() {\n    return uiStore.canvasDragPlaceholderPosition;\n  }\n\n  get parentNode() {\n    if (!this.canvasDragPlaceholderPosition) return false;\n\n    const maybeNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n    return maybeNode ? maybeNode : false;\n  }\n\n  get stackingStyle() {\n    if (!this.canvasDragPlaceholderPosition) return {};\n\n    if (!this.parentNode) return {};\n\n    return getStackingStyle(this.parentNode);\n  }\n\n  get dragPlaceholderPositionStyle() {\n    if (\n      !this.canvasDragPlaceholderPosition ||\n      this.canvasDragPlaceholderPosition.onlyShowTargetOutline === true\n    )\n      return {};\n\n    const parentNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n\n    if (!parentNode) return {};\n\n    const widthOrHeightNumber = 8;\n    // - 1 for the border of the parent element\n    const widthOrHeightValue = `${widthOrHeightNumber}px`;\n\n    if (parentNode.children.length === 0) {\n      // this is similar to that shit in DragMixin.ts\n      const elementPositionAndSize =\n        parentNode.id === ROOT_ELEMENT_ID\n          ? getEmptyContainerPositionAndSize()\n          : getTreeNodePositionAndSize(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      // eslint-disable-next-line prefer-const\n      let { x, y, width, height } = elementPositionAndSize;\n\n      if (width - 40 > 100) {\n        x = x + 20;\n        width = width - 40;\n      }\n\n      return {\n        display: \"block\",\n        top: `${y + height / 2 - widthOrHeightNumber / 2}px`,\n        left: `${x}px`,\n        width: `${width}px`,\n        height: widthOrHeightValue\n      };\n    } else {\n      const overNode =\n        parentNode.children[this.canvasDragPlaceholderPosition.nodeIndex];\n      // this is a little dangerous. What if the index of the placeholder is not right and the shit doesnt exist?\n      // when we upgrade TypeScript to use noUncheckedIndexedAccess, this will be caught\n\n      const elementPositionAndSize = getTreeNodePositionAndSize(overNode); // this is similar to that shit in DragMixin.ts\n      const stackingStyle = getStackingStyle(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      const { x, y, width, height } = elementPositionAndSize;\n\n      if (stackingStyle === \"vertical\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y - (widthOrHeightNumber / 2 - 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            top: `${height + y - (widthOrHeightNumber / 2 + 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        }\n      } else if (stackingStyle === \"horizontal\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y}px`,\n            left: `${x - widthOrHeightNumber / 2}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            left: `${width + x - widthOrHeightNumber / 2}px`,\n            top: `${y}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        }\n      }\n    }\n\n    return {};\n  }\n\n  get dragTargetOutlineStyle() {\n    if (!this.parentNode) return {};\n\n    const elementPositionAndSize =\n      this.parentNode.id === ROOT_ELEMENT_ID &&\n      documentStore.document.tree.root.children.length === 0\n        ? getEmptyContainerPositionAndSize()\n        : getTreeNodePositionAndSize(this.parentNode);\n\n    if (!elementPositionAndSize) return {};\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    return {\n      display: \"block\",\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it\n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragPlaceholder.vue?vue&type=template&id=8f2066d6&\"\nimport script from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShow),expression:\"shouldShow\"}],staticClass:\"breakdance-canvas-right-click-menu\",style:(_vm.wrapperPositionStyle)},[_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.copyElement}},[_vm._v(\" Copy \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElement},on:{\"click\":_vm.pasteElement}},[_vm._v(\" Paste \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_vm._v(\" Paste Design \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_vm._v(\" Paste Settings \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.deleteElement}},[_vm._v(\" Delete \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canSaveAsGlobalBlock},on:{\"click\":_vm.openSaveGlobalBlockDialog}},[_vm._v(\" Save as Global Block \")])],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.elementIdToSaveAsGlobalBlock},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e(),_c('ClipboardDialog',{model:{value:(_vm.clipboardDialog),callback:function ($$v) {_vm.clipboardDialog=$$v},expression:\"clipboardDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'breakdance-canvas-right-click-menu-item': true,\n    'breakdance-canvas-right-click-menu-item-disabled': _vm.disabled\n  },on:{\"click\":function($event){_vm.disabled ? function () {} : _vm.$emit('click', $event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class RightClickMenuItem extends Vue {\n  @Prop({ default: false })\n  disabled!: boolean;\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenuItem.vue?vue&type=template&id=f2edc36e&\"\nimport script from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":_vm.value,\"width\":500,\"closeable\":true},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Enable Paste\")]},proxy:true},{key:\"text\",fn:function(){return [_c('p',[_vm._v(\" To paste using the Edit menu, \"),(_vm.status && !_vm.status.secure)?[_vm._v(\" your website needs to be served with HTTPS. \")]:(_vm.status && _vm.status.permission.state !== 'granted')?[_vm._v(\" please allow access to your clipboard. \")]:_vm._e()],2),_c('p',[_vm._v(\"Alternatively, you can use your keyboard shortcuts:\")]),_c('ul',{staticClass:\"clipboard-dialog-shortcuts\"},[_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" C\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"copy\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" X\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"cut\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" V\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"paste\")])])])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\nimport { ClipboardStatus } from \"@/types/copy-paste\";\n\n@Component({ components: { Dialog } })\nexport default class ClipboardDialog extends Vue {\n  @Prop()\n  value!: boolean;\n\n  status: ClipboardStatus | null = null;\n\n  @Watch(\"value\", { immediate: true })\n  async onChange() {\n    this.status = await getClipboardStatus();\n\n    this.status.permission.onchange = () => {\n      this.$emit(\"input\", false);\n    };\n  }\n\n  get metaKey() {\n    return this.isAppleDevice ? \"⌘\" : \"Ctrl + \";\n  }\n\n  get isAppleDevice() {\n    return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n  }\n\n  close() {\n    this.$emit(\"input\", false);\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClipboardDialog.vue?vue&type=template&id=9520505a&\"\nimport script from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport RightClickMenuItem from \"./RightClickMenuItem.vue\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport ClipboardDialog from \"@/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    ClipboardDialog,\n    GlobalBlockDialog,\n    RightClickMenuItem\n  }\n})\nexport default class RightClickMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  async mounted() {\n    window.Breakdance.canvas.document.addEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  beforeDestroy() {\n    window.Breakdance.canvas.document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  get menuState() {\n    return uiStore.onCanvasRightClickMenuState !== \"closed\"\n      ? uiStore.onCanvasRightClickMenuState\n      : null;\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onCanvasRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  handleRightClickInCanvas(e: MouseEvent) {\n    e.preventDefault();\n\n    const elementId = getNodeIdAtPointInCanvas(e.clientX, e.clientY);\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId,\n      position\n    });\n  }\n\n  closeRightClickMenuIfClickHappensOutsideRightClickMenu(e: MouseEvent) {\n    if (this.saveGlobalBlockDialog) return;\n\n    const closestMenu = (e.target as HTMLElement).closest(\n      \".breakdance-canvas-right-click-menu\"\n    );\n\n    if (!closestMenu) {\n      uiStore.setOnCanvasRightClickMenuState(\"closed\");\n    }\n  }\n\n  get wrapperPositionStyle() {\n    if (!this.menuState) return {};\n\n    return {\n      left: `${this.menuState.position.x}px`,\n      top: `${this.menuState.position.y}px`\n    };\n  }\n\n  get elementIdPresent() {\n    return this.menuState?.elementId;\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.menuState?.elementId) {\n      copyElement(this.menuState.elementId);\n    }\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElement(this.menuState.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElementProperties(this.menuState.elementId, path);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  deleteElement() {\n    if (!this.menuState?.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.menuState?.elementId });\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  elementIdToSaveAsGlobalBlock: number | null = null;\n  openSaveGlobalBlockDialog() {\n    if (this.menuState?.elementId) {\n      this.elementIdToSaveAsGlobalBlock = this.menuState.elementId;\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.elementIdToSaveAsGlobalBlock = null;\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return (\n      this.menuState?.elementId &&\n      canSaveAsGlobalBlock(this.menuState.elementId)\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenu.vue?vue&type=template&id=494dd4ca&\"\nimport script from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport DragPlaceholder from \"./Canvas/DragPlaceholder.vue\";\nimport RightClickMenu from \"./Canvas/RightClickMenu.vue\";\n\n@Component({\n  components: {\n    DragPlaceholder,\n    RightClickMenu\n  }\n})\nexport default class CanvasChrome extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CanvasChrome.vue?vue&type=template&id=4b09c05c&\"\nimport script from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderElement from \"./BuilderElement.vue\";\nimport NodeChrome from \"./OverlaidUI/NodeChrome.vue\";\nimport CanvasChrome from \"./OverlaidUI/CanvasChrome.vue\";\nimport { uiStore, documentStore, globalStore } from \"@/store/store\";\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\n\n@Component({\n  components: {\n    EmptyContainer,\n    BuilderElement,\n    NodeChrome,\n    CanvasChrome\n  }\n})\nexport default class Canvas extends Vue {\n  render() {\n    const children = () => {\n      if (this.rootElement.children.length === 0) {\n        return <EmptyContainer />;\n      }\n\n      return this.rootElement.children.map(element => (\n        <BuilderElement\n          // @ts-ignore\n          key={element.id}\n          // @ts-ignore\n          parentId={this.rootElement.id}\n          element={element}\n        />\n      ));\n    };\n\n    return (\n      <div key={this.canvasKey} class={this.classList} id=\"breakdance_canvas\">\n        {children()}\n        <NodeChrome />\n        <CanvasChrome />\n      </div>\n    );\n  }\n\n  mounted() {\n    uiStore.setCanvasState(\"normal\");\n  }\n\n  get canvasKey() {\n    return uiStore.canvasKey;\n  }\n\n  get classList() {\n    return {\n      breakdance: true,\n      canvas: true,\n      dragging:\n        uiStore.isCanvasElementBeingDragged || uiStore.isAddElementBeingDragged\n    };\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    handleGlobalSettingsChanged(getBuilderCanvasDocument());\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    handleGlobalSelectorsChanged(getBuilderCanvasDocument());\n  }\n}\n","var render, staticRenderFns\nimport script from \"./Canvas.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classes,style:(_vm.style)},[_c('Icon',{staticClass:\"breakdance-preview-width-adjustment-handle align-center\",attrs:{\"icon\":\"EllipsisStrokeVerticalIcon\",\"size\":\"6\",\"heightAuto\":true},on:{\"mousedown\":_vm.dragStart,\"dblclick\":_vm.resetPreviewWidth}}),(_vm.isDragging || _vm.currentPreviewWidthIsSetByUser)?_c('div',{staticClass:\"breakdance-px-amount\"},[_vm._v(\" \"+_vm._s(_vm.pxAmount)+\" \"),_c('Icon',{staticClass:\"px-amount-reset-icon\",attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"11\"},on:{\"click\":_vm.resetPreviewWidth}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: { Icon }\n})\nexport default class PreviewWidthAdjustmentHandle extends Vue {\n  @Prop()\n  iframeWrapperPosition!: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n\n  @Prop() previewWidth!: CanvasPreviewWidth;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Prop() mainWrapper!: HTMLDivElement | null;\n  @Prop() iframe!: HTMLIFrameElement | null;\n\n  get currentPreviewWidthIsSetByUser() {\n    if (this.currentBreakpoint.defaultPreviewWidth === \"100%\") {\n      return this.previewWidth.width !== \"100%\";\n    } else {\n      return (\n        this.previewWidth.width !== this.currentBreakpoint.defaultPreviewWidth\n      );\n    }\n  }\n\n  get style() {\n    return {\n      left: `${this.iframeWrapperPosition.x +\n        this.iframeWrapperPosition.width}px`,\n      height: `${this.iframeWrapperPosition.height}px`\n    };\n  }\n\n  get pxAmount() {\n    return this.previewWidth.width === \"100%\"\n      ? \"100%\"\n      : `${this.previewWidth.width}px`;\n  }\n\n  get alreadyAtMaximumWidth() {\n    if (this.previewWidth.width === \"100%\") return true;\n\n    return (\n      this.previewWidth.width >= this.previewWidth.availableCanvasSize.width\n    );\n  }\n\n  mouseXChange = 0;\n  lastMouseX = 0;\n\n  isDragging = false;\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    this.lastMouseX = e.clientX;\n\n    if (this.iframe) {\n      // without this, once the mouse goes over the iframe, the mousemove event stops firing\n      this.iframe.style.pointerEvents = \"none\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"col-resize\";\n    }\n  }\n\n  dragging(e: MouseEvent) {\n    if (!isCanvasEvent(e)) {\n      this.isDragging = true;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.mouseXChange = e.clientX - this.lastMouseX;\n\n      this.adjustPreviewWidth(this.mouseXChange * 2);\n\n      this.lastMouseX = e.clientX;\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.iframe) {\n      this.iframe.style.pointerEvents = \"auto\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"auto\";\n    }\n\n    this.isDragging = false;\n  }\n\n  adjustPreviewWidth(adjustX: number) {\n    let newPreviewWidth: number;\n\n    const previousPreviewWidth = this.previewWidth.width;\n\n    if (this.alreadyAtMaximumWidth && adjustX > 0) {\n      adjustX = 0;\n    }\n\n    if (this.previewWidth.width === \"100%\") {\n      if (!this.iframe) {\n        console.warn(\"iframe element is missing\");\n        return;\n      }\n      newPreviewWidth = this.iframe.offsetWidth - adjustX;\n    } else {\n      newPreviewWidth = this.previewWidth.width + adjustX;\n    }\n\n    if (\n      previousPreviewWidth !== \"100%\" &&\n      newPreviewWidth > previousPreviewWidth &&\n      newPreviewWidth > this.previewWidth.availableCanvasSize.width\n    ) {\n      newPreviewWidth = this.previewWidth.availableCanvasSize.width;\n    }\n\n    this.$emit(\"previewWidthChangeWithAdjustmentBar\", newPreviewWidth);\n  }\n\n  resetPreviewWidth() {\n    this.$emit(\"resetPreviewWidth\");\n  }\n\n  get classes() {\n    return {\n      \"breakdance-preview-width-bar\": true,\n      \"breakdance-preview-width-bar-is-dragging\": this.isDragging\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewWidthAdjustmentHandle.vue?vue&type=template&id=f3217438&\"\nimport script from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',_vm._g({class:_vm.classList,attrs:{\"elevation\":\"0\",\"loading\":_vm.loading,\"height\":\"37\",\"minWidth\":_vm.minWidth,\"outlined\":\"\",\"data-test-id\":_vm.testId}},_vm.$listeners),[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class StandardButton extends Vue {\n  @Prop({\n    default: false\n  })\n  loading!: boolean;\n  @Prop({\n    default: false\n  })\n  active!: boolean;\n  @Prop({\n    default: \"auto\"\n  })\n  minWidth!: number | \"auto\";\n\n  @Prop()\n  testId!: string;\n\n  get classList() {\n    return {\n      \"breakdance-toolbar-button\": true,\n      \"breakdance-toolbar-button--active\": this.active\n    };\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StandardButton.vue?vue&type=template&id=5274ded5&\"\nimport script from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StandardButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { throttle } from \"lodash\";\nimport { px } from \"@/util/css\";\nimport { SomeNonNullable } from \"@/types/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { uiStore } from \"@/store/store\";\n\nenum ForeignDocumentTypeLabels {\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  breakdance_header = \"header\",\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  breakdance_footer = \"footer\"\n}\n\n@Component({\n  components: { Icon }\n})\nexport default class ForeignDocumentsOverlay extends Vue {\n  @Prop()\n  canvasElement!: HTMLElement;\n\n  @Prop()\n  iframeDocument!: Document;\n\n  @Prop()\n  elementsToWatch!: NodeListOf<HTMLElement>;\n\n  hoveredForeignDocumentDomElement: HTMLElement | null = null;\n  hoveredForeignDocumentDomElementCoords: DOMRect | null = null;\n\n  isScrolling = false;\n  isScrollingCleanupTimerId: NodeJS.Timeout | null = null;\n  throttledHandleIframeScroll = throttle(this.handleIframeScroll, 120);\n  throttledHandleWatchedElementMouseMove = throttle(\n    this.handleWatchedElementMouseMove,\n    60\n  );\n\n  get showOverlay(): boolean {\n    return uiStore.hasFullAccess;\n    //    return this.isThereHoveredElementAndItsCoords() && !this.isScrolling;\n  }\n\n  get foreignDocumentBuilderUrl(): string | undefined {\n    return this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentBuilderUrl;\n  }\n\n  get foreignDocumentTypeLabel(): string {\n    const documentType = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentType as\n      | keyof typeof ForeignDocumentTypeLabels\n      | undefined;\n\n    return documentType ? ForeignDocumentTypeLabels[documentType] ?? \"\" : \"\";\n  }\n\n  get foreignDocumentTitle(): string {\n    const documentTitle = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentTitle as string | undefined;\n    return documentTitle ? documentTitle : \"Unknown Document\";\n  }\n\n  get overlayStyles() {\n    if (!this.isThereHoveredElementAndItsCoords()) {\n      return undefined;\n    }\n\n    const {\n      top,\n      left,\n      height,\n      width\n    } = this.hoveredForeignDocumentDomElementCoords;\n\n    return {\n      display: \"flex\",\n      top: px(top),\n      left: px(left),\n      height: px(height),\n      width: px(width)\n    };\n  }\n\n  mounted() {\n    this.addEventListenersToIframeDocument();\n    this.addEventListenersToWatchedElements();\n  }\n\n  beforeDestroy() {\n    this.removeEventListenersFromIframeDocument();\n    this.removeEventListenersFromWatchedElements();\n  }\n\n  addEventListenersToIframeDocument() {\n    this.iframeDocument.addEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  removeEventListenersFromIframeDocument() {\n    this.iframeDocument.removeEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  addEventListenersToWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.addEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.addEventListener(\"mouseleave\", this.handleWatchedElementMouseLeave);\n    });\n  }\n\n  removeEventListenersFromWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.removeEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.removeEventListener(\n        \"mouseleave\",\n        this.handleWatchedElementMouseLeave\n      );\n    });\n  }\n\n  isThereHoveredElementAndItsCoords(): this is SomeNonNullable<\n    this,\n    | \"hoveredForeignDocumentDomElement\"\n    | \"hoveredForeignDocumentDomElementCoords\"\n  > {\n    return (\n      this.hoveredForeignDocumentDomElement !== null &&\n      this.hoveredForeignDocumentDomElementCoords !== null\n    );\n  }\n\n  setHoveredForeignDocumentDomElement(value: HTMLElement | null) {\n    this.hoveredForeignDocumentDomElement = value;\n    this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n  }\n\n  getCoords() {\n    const el = this.hoveredForeignDocumentDomElement;\n    if (el?.childElementCount === 1) {\n      // The child element could be position fixed,\n      // so we need to use its coords instead of the foreign element.\n      const child = el.firstElementChild as HTMLElement;\n      return child.getBoundingClientRect();\n    } else {\n      return el?.getBoundingClientRect() ?? null;\n    }\n  }\n\n  setIsScrolling(isScrolling: boolean) {\n    if (isScrolling) {\n      this.hoveredForeignDocumentDomElement = null;\n      this.hoveredForeignDocumentDomElementCoords = null;\n      this.removeEventListenersFromWatchedElements();\n    } else {\n      this.addEventListenersToWatchedElements();\n    }\n    this.isScrolling = isScrolling;\n  }\n\n  handleIframeScroll() {\n    this.setIsScrolling(true);\n\n    if (this.isScrollingCleanupTimerId) {\n      clearTimeout(this.isScrollingCleanupTimerId);\n    }\n\n    this.isScrollingCleanupTimerId = setTimeout(\n      () => this.setIsScrolling(false),\n      120\n    );\n  }\n\n  handleOverlayMouseLeave() {\n    this.setHoveredForeignDocumentDomElement(null);\n  }\n\n  handleWatchedElementMouseMove(e: MouseEvent) {\n    if (!e.currentTarget) return;\n\n    this.setHoveredForeignDocumentDomElement(\n      e.currentTarget as HTMLElement | null\n    );\n  }\n\n  handleWatchedElementMouseLeave(e: MouseEvent) {\n    if (this.$el.contains(e.relatedTarget as Node | null)) {\n      if (this.hoveredForeignDocumentDomElement !== null) {\n        this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n      }\n    } else {\n      this.setHoveredForeignDocumentDomElement(null);\n    }\n  }\n\n  openBuilderUrl() {\n    const builderUrl = this.foreignDocumentBuilderUrl;\n    if (builderUrl) {\n      this.$emit(\"openDocument\", {\n        builderUrl,\n        title: this.foreignDocumentTitle\n      });\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showOverlay)?_c('div',{staticClass:\"breakdance-foreign-documents-overlay\",style:(_vm.overlayStyles),on:{\"mouseleave\":_vm.handleOverlayMouseLeave}},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar-wrapper\"},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar\"},[_c('a',{attrs:{\"href\":_vm.foreignDocumentBuilderUrl},on:{\"click\":_vm.openBuilderUrl}},[_vm._v(\" Edit \"+_vm._s(_vm.foreignDocumentTitle)+\" \"),_c('Icon',{attrs:{\"icon\":\"EditIcon\"}})],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const px = (v: number) => `${v}px`;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ForeignDocumentsOverlay.vue?vue&type=template&id=6d5ebb54&\"\nimport script from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mainWrapper\",staticClass:\"breakdance-iframe-main-wrapper\",style:(_vm.mainWrapperStyle),attrs:{\"id\":\"canvas-area\"}},[_c('PreviewWidthAdjustmentHandle',{attrs:{\"iframe-wrapper-position\":_vm.iframeWrapperPosition,\"preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe\":_vm.iframe,\"main-wrapper\":_vm.mainWrapper},on:{\"resetPreviewWidth\":function () { return this$1.$emit('resetPreviewWidth'); },\"previewWidthChangeWithAdjustmentBar\":function (width) { return this$1.$emit('previewWidthChangeWithAdjustmentBar', width); }}}),(_vm.iframeExited)?_c('div',{staticClass:\"iframe-reloaded-warning-block\"},[_vm._v(\" Something navigated you away from the page you are editing. \"),_c('StandardButton',{staticClass:\"mt-4\",attrs:{\"minWidth\":\"80\"},on:{\"click\":_vm.handleReloadWanted}},[_vm._v(\" Continue Editing \")])],1):_c('div',{ref:\"iframeWrapper\",staticClass:\"breakdance-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles),attrs:{\"id\":\"iframe-wrapper\"}},[(_vm.iframeIsLoading)?_c('Loading',{attrs:{\"absolute\":\"\"}}):_vm._e(),_c('iframe',{key:_vm.iframeUrl,ref:\"iframe\",staticClass:\"breakdance-iframe\",style:(_vm.iframeStyle),attrs:{\"id\":_vm.iframeId,\"name\":_vm.iframeId,\"src\":_vm.iframeUrl},on:{\"load\":_vm.handleIframeLoaded}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport PreviewWidthAdjustmentHandle from \"@/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { CanvasPreviewWidth, InterfaceState } from \"@/types/ui\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\nconst CANVAS_PADDING = 8;\n\n@Component({\n  components: {\n    StandardButton,\n    Loading,\n    PreviewWidthAdjustmentHandle\n  }\n})\nexport default class IframeWrapper extends Vue {\n  @Prop() iframeState!: InterfaceState;\n  @Prop() iframePreviewWidth!: CanvasPreviewWidth;\n  @Prop() iframeUrl!: string;\n  @Prop() iframeId!: string;\n  @Prop() minWidth!: number;\n  @Prop() iframeExited!: boolean;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Ref() readonly mainWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframeWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframe!: HTMLIFrameElement | null;\n\n  iframeWrapperPosition = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n\n  get mainWrapperStyle() {\n    return {\n      padding: `${CANVAS_PADDING}px`\n    };\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width:\n        this.iframePreviewWidth.width === \"100%\"\n          ? \"100%\"\n          : `${this.iframePreviewWidth.width}px`,\n      overflow:\n        uiStore.settings.scaleToFit === \"SCALED_TO_FIT\" ? \"hidden\" : \"auto\"\n    };\n  }\n\n  get iframeStyle() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(\n        1,\n        this.iframePreviewWidth.availableCanvasSize.width / width\n      );\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.iframePreviewWidth.availableCanvasSize.height *\n          (1 / scaleFactor)}px`\n      };\n    };\n\n    if (uiStore.settings.scaleToFit === \"ACTUAL_SIZE\") {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      } else {\n        return {\n          width: `${this.iframePreviewWidth.width}px`\n        };\n      }\n    } else {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        if (this.iframePreviewWidth.availableCanvasSize.width < this.minWidth) {\n          return scaledStyles(this.minWidth);\n        } else {\n          return {\n            width: \"100%\",\n            minWidth: `${this.minWidth}px`\n          };\n        }\n      } else {\n        return scaledStyles(this.iframePreviewWidth.width);\n      }\n    }\n  }\n\n  get iframeIsLoading() {\n    return this.iframeState === \"loading\";\n  }\n\n  handleIframeLoaded() {\n    if (this.iframe?.contentWindow) {\n      this.iframe.contentWindow.onunload = () => {\n        this.$emit(\"iframeUnloaded\");\n      };\n    }\n\n    this.$emit(\"iframeLoaded\", this.iframe);\n  }\n\n  handleReloadWanted() {\n    this.$emit(\"reloadWanted\");\n  }\n\n  mounted() {\n    if (this.mainWrapper) {\n      new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper);\n    } else {\n      uiStore.logError(\"No canvas element.\");\n    }\n\n    if (this.iframeWrapper) {\n      new ResizeObserver(this.setIframeWrapperPosition).observe(\n        this.iframeWrapper\n      );\n    } else {\n      uiStore.logError(\"No iframe wrapper element.\");\n    }\n\n    this.setAvailableCanvasSize();\n  }\n\n  setAvailableCanvasSize() {\n    if (this.mainWrapper) {\n      const rect = this.mainWrapper.getBoundingClientRect();\n\n      const newPreviewWidth: CanvasPreviewWidth = {\n        ...this.iframePreviewWidth,\n        availableCanvasSize: {\n          width: rect.width - CANVAS_PADDING * 2,\n          height: rect.height - CANVAS_PADDING * 2\n        }\n      };\n\n      this.$emit(\"previewWidthChange\", newPreviewWidth);\n    }\n\n    // resizing the available canvas could move the iframe wrapper (for example, when the properties panel is toggled),\n    // so when the resize observer calls setAvailableCanvasSize, we want to also call setIframeWrapperPosition\n    this.setIframeWrapperPosition();\n  }\n\n  setIframeWrapperPosition() {\n    if (this.iframeWrapper) {\n      const rect = this.iframeWrapper.getBoundingClientRect();\n      this.iframeWrapperPosition = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      };\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeWrapper.vue?vue&type=template&id=53315b28&\"\nimport script from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/// <reference types=\"resize-observer-browser\" />\n// @ts-ignore\nimport iframeCss from \"./OverlaidUI/styles.iframecss\";\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Canvas from \"./Canvas.vue\";\nimport store, {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { initializeOrReinitializeCombokeys } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport PreviewWidthAdjustmentHandle from \"../Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport vuetify from \"@/plugins/vuetify\";\nimport ForeignDocumentsOverlay from \"@/components/Canvas/ForeignDocumentsOverlay.vue\";\nimport { createStyleTagWithRawCssCodeInside } from \"@/util/dom\";\nimport {\n  getBuilderCanvasHead,\n  setWindowBreakdanceCanvasDocument\n} from \"@/lib/canvas/helpers\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: {\n    IframeWrapper,\n    Loading,\n    Canvas,\n    ForeignDocumentsOverlay,\n    PreviewWidthAdjustmentHandle,\n    StandardButton\n  }\n})\nexport default class IframeCanvas extends Vue {\n  iframeExited = false;\n  foreignDocumentsOverlayVueApp: Vue | null = null;\n  canvasApp: Vue | null = null;\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  setIframeAsExited() {\n    if (configStore.leavingIframeOnPurpose) {\n      configStore.setLeavingIframeOnPurpose(false);\n    } else {\n      this.iframeExited = true;\n    }\n  }\n\n  reloadIframe() {\n    this.iframeExited = false;\n    // the reload needs to be timeouted to wait for the iframe block to be rendered\n    setTimeout(() => {\n      // @ts-ignore\n      window.frames[\"iframe\"].location.reload();\n    }, 0);\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get canvasPreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get previewWidth() {\n    return uiStore.canvasPreviewWidth.width;\n  }\n\n  get canvasState() {\n    return uiStore.canvasState;\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  get iframeURL() {\n    if (\n      configStore.documentSpecificNeededUrls &&\n      documentStore.document.documentMeta.id !== -1\n    ) {\n      const iframeUrl = new URL(\n        configStore.documentSpecificNeededUrls.iframeUrl\n      );\n      iframeUrl.searchParams.append(\"breakdance_iframe\", \"true\");\n      iframeUrl.searchParams.append(\n        \"breakdance_open_document\",\n        `${documentStore.document.documentMeta.id}`\n      );\n      return iframeUrl.toString();\n    }\n    return null;\n  }\n\n  protected mountForeignDocumentsOverlayVueAppInIframe(\n    iframeDocument: Document,\n    canvasEl: Element\n  ) {\n    const overlayMountpoint = iframeDocument.createElement(\"div\");\n    overlayMountpoint.classList.add(\n      \"breakdance-foreign-documents-overlay-mountpoint\"\n    );\n    iframeDocument.body.appendChild(overlayMountpoint);\n\n    this.foreignDocumentsOverlayVueApp = new Vue<{\n      fragment: DocumentFragment | null;\n      builderUrl: string | null;\n    }>({\n      el: overlayMountpoint,\n      store,\n      vuetify,\n      render(h) {\n        return h(ForeignDocumentsOverlay, {\n          props: {\n            elementsToWatch: iframeDocument.querySelectorAll(\n              \"[data-breakdance-foreign-document]\"\n            ),\n            canvasElement: canvasEl,\n            iframeDocument\n          },\n          on: {\n            openDocument: (docInfo: { builderUrl: string; title: string }) => {\n              if (confirm(`Edit ${docInfo.title}?`)) {\n                window.open(docInfo.builderUrl, \"_top\");\n              }\n            }\n          }\n        });\n      }\n    });\n  }\n\n  mountCanvasInIframe(loadedIframe: HTMLIFrameElement) {\n    if (!loadedIframe.contentDocument) {\n      throw \"Unable to mount canvas in iframe because its document is missing\";\n    }\n\n    setWindowBreakdanceCanvasDocument(loadedIframe.contentDocument);\n\n    initializeOrReinitializeCombokeys(\n      document,\n      window.Breakdance.canvas.document\n    );\n\n    breakdanceStoreActions.registerAllStoreActions();\n\n    const canvasVueInstanceMountpoint = window.Breakdance.canvas.document.querySelector(\n      \"#breakdance-canvas-wrapper\"\n    ) as Element;\n\n    this.canvasApp = new Vue({\n      store,\n      vuetify,\n      render: h => h(Canvas)\n    }).$mount(canvasVueInstanceMountpoint);\n\n    this.mountForeignDocumentsOverlayVueAppInIframe(\n      window.Breakdance.canvas.document,\n      this.canvasApp.$el\n    );\n\n    getBuilderCanvasHead().appendChild(\n      createStyleTagWithRawCssCodeInside(document, iframeCss, \"iframe-styles\")\n    );\n\n    this.unbindClickEventOnInnerIframeLinks();\n    this.$emit(\"loaded\");\n  }\n\n  unbindClickEventOnInnerIframeLinks() {\n    const allLinks = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"a:not([force-allow-clicks])\"\n      )\n    ];\n    const linksInsideBreakdanceCanvas = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"#breakdance_canvas a\"\n      )\n    ];\n\n    // We don't want to alter BuilderElement(s) behavior\n    const linksExcludingTheOnesInBreakdanceCanvas = allLinks.filter(\n      element => !linksInsideBreakdanceCanvas.includes(element)\n    );\n\n    linksExcludingTheOnesInBreakdanceCanvas.forEach(link => {\n      link.addEventListener(\"click\", (event: Event) => {\n        event.preventDefault();\n      });\n    });\n  }\n\n  destroyed() {\n    if (this.canvasApp) {\n      this.canvasApp.$destroy();\n    }\n\n    if (this.foreignDocumentsOverlayVueApp) {\n      this.foreignDocumentsOverlayVueApp.$destroy();\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeCanvas.vue?vue&type=template&id=1bbf1b9f&\"\nimport script from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBar',[_c('UpgradeToPro'),_c('AddButton',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('IconButton',{staticClass:\"open-properties-toolbar-button\",attrs:{\"active\":_vm.isElementPropertiesOpen,\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleElementProperties}})],1),_c('v-spacer',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('DocumentChooser'),_c('PreviewContentChooserDialog'),_c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{staticClass:\"top-bar-settings-and-structure-section\",attrs:{\"border-left\":true}},[_c('IconButton',{staticClass:\"open-structure-toolbar-button\",attrs:{\"active\":_vm.isStructurePanelOpen,\"icon\":\"LayersIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleStructurePanel}}),_c('SettingsDropdown')],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Save')],1),_c('Exit')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\",\"testId\":\"main-save-button\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"./ajax\";\nimport { documentStore, globalStore, uiStore } from \"@/store/store\";\nimport { exportTree } from \"../tree/tree\";\nimport * as t from \"io-ts\";\nimport { Either, fold, right, left } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"./data\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\nexport async function saveToWordPressWithErrorsLoggedToUiStore(): Promise<\n  Either<_Error[], unknown>\n> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving to WordPress\",\n      action: \"breakdance_save\",\n      dataToPost: {\n        id: documentStore.document.documentMeta.id,\n        tree: fpJsonStringify(exportTree(documentStore.document.tree)),\n        globalSettings: fpJsonStringify(globalStore.globalSettings),\n        classes: fpJsonStringify(globalStore.cssSelectors)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return left(errors);\n      },\n      r => {\n        uiStore.setUnsavedChangesPresent(false);\n        breakdanceUndo.ignore(() => {\n          globalStore.markCurrentGlobalSettingsAsUntouched();\n          globalStore.markCurrentSelectorsAsUntouched();\n        });\n        return right(r);\n      }\n    )\n  );\n}\n","import { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { keyboardShortcuts } from \"./keyboard-shortcuts\";\n\nexport const KEYBOARD_SHORTCUTS = {\n  CMD_A: [\"command+a\", \"ctrl+a\"],\n  CMD_B: [\"command+b\", \"ctrl+b\"],\n  CMD_S: [\"command+s\", \"ctrl+s\"],\n  CMD_Z: [\"command+z\", \"ctrl+z\"],\n  CMD_SHIFT_Z: [\"command+shift+z\", \"ctrl+shift+z\"],\n  // These are handled by copy-paste.ts\n  CMD_C: [\"command+c\", \"ctrl+c\"],\n  //  CMD_X: [\"command+x\", \"ctrl+x\"],\n  CMD_V: [\"command+v\", \"ctrl+v\"],\n  CMD_D: [\"command+d\", \"ctrl+d\"],\n  ESC: [\"esc\"],\n  BACKSPACE: [\"backspace\"],\n  DELETE: [\"delete\"],\n  CMD_OPTION_R: [\"command+option+r\", \"ctrl+alt+r\"],\n  CMD_SLASH: [\"command+/\", \"ctrl+/\"],\n  CMD_SHIFT_SLASH: [\"command+shift+/\", \"ctrl+shift+/\"],\n  CMD_QUESTION: [\"command+?\", \"ctrl+?\"],\n  CMD_SHIFT_S: [\"command+shift+s\", \"ctrl+shift+s\"]\n};\n\nexport const registerGlobalShortcuts = () => {\n  return {\n    register() {\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.ESC, () => {\n        /*\n        we want this shortcut to do two things, depending on the context:\n         - if the a popout section is open, esc should close it\n         - otherwise, esc should de-activate the active element\n\n         i couldn't figure out a proper way to do that...\n         trying to use keyboardShortcuts.register in the Dropdown component\n         just overrides this shortcut. trying to manually listen to a keyboard\n         event in the Dropdown component doesn't work either because this library\n         catches it first.\n\n         so i implemented this hack.\n         */\n        if (\n          document.dispatchEvent(\n            new CustomEvent(\"close-dropdowns-when-escape-is-pressed\", {\n              cancelable: true\n            })\n          )\n        ) {\n          uiStore.activateElement(null);\n        }\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.BACKSPACE, () => {\n        uiStore.activeElementId &&\n          documentStore.deleteElement({ nodeId: uiStore.activeElementId });\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_D, () => {\n        if (uiStore.activeElementId) {\n          documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n        }\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_OPTION_R, () => {\n        uiStore.selectNextBreakpoint();\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_SLASH, () => {\n        uiStore.setKeyboardShortcutHelpModalOpen(true);\n      });\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SLASH, () => {\n        uiStore.setKeyboardShortcutHelpModalOpen(true);\n      });\n\n      keyboardShortcuts.register(\"e l e m e n t\", () => {\n        configStore.setElementStudioPowerUser(true);\n      });\n    },\n    unbind() {\n      keyboardShortcuts.unbind(\"e l e m e n t\");\n\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.ESC);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_D);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.BACKSPACE);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_OPTION_R);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_SLASH);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SLASH);\n    }\n  };\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class Save extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    document.dispatchEvent(new Event(\"breakdanceSaveButtonClicked\"));\n\n    this.saveInProgress = true;\n\n    await saveToWordPressWithErrorsLoggedToUiStore();\n\n    this.saveInProgress = false;\n  }\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  unsubscribe: null | (() => void) = null;\n\n  mounted() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n\n    this.unsubscribe = this.$store.subscribe(mutationPayload => {\n      if (!breakdanceUndo.shouldMutationBeIgnored(mutationPayload)) {\n        uiStore.setUnsavedChangesPresent(true);\n      }\n    });\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => uiStore.unsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    this.unsubscribe && this.unsubscribe();\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=2328ce76&\"\nimport script from \"./Save.vue?vue&type=script&lang=ts&\"\nexport * from \"./Save.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({staticStyle:{\"margin-right\":\"0\"},attrs:{\"active\":!_vm.isBase,\"icon\":_vm.getDeviceIcon(_vm.currentBreakpoint.id),\"rotate\":_vm.getDeviceIconRotation(_vm.currentBreakpoint.id),\"size\":\"18\"}},on))]}}])},[_c('v-list',_vm._l((_vm.breakpoints),function(breakpoint){return _c('v-list-item',{key:breakpoint.id,class:_vm.activeClass(breakpoint.id),attrs:{\"two-line\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.changeBreakpoint(breakpoint)}}},[_c('div',{staticClass:\"device-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":_vm.getDeviceIcon(breakpoint.id),\"rotate\":_vm.getDeviceIconRotation(breakpoint.id),\"size\":\"18\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(_vm._s(breakpoint.label))]),_c('v-list-item-subtitle',[(breakpoint.label === 'Desktop')?[_vm._v(\" All device widths \")]:_vm._e(),(breakpoint.maxWidth && !breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.maxWidth)+\"px and below \")]:_vm._e(),(!breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.minWidth)+\"px and above \")]:_vm._e(),(breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" Between \"+_vm._s(breakpoint.minWidth)+\"px and \"+_vm._s(breakpoint.maxWidth)+\"px \")]:_vm._e()],2)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { uiStore, configStore } from \"@/store/store\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport {\n  BASE_BREAKPOINT_ID,\n  customBreakpointIcon,\n  DEVICE_ICONS\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class BreakpointsSelection extends Vue {\n  @Prop()\n  value!: Breakpoint;\n\n  getDeviceIcon(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.icon || customBreakpointIcon;\n  }\n\n  getDeviceIconRotation(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.rotate;\n  }\n\n  get isBase() {\n    return this.currentBreakpoint.id === BASE_BREAKPOINT_ID;\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get currentBreakpoint() {\n    return this.value;\n  }\n\n  activeClass(breakpointId: string) {\n    return this.currentBreakpoint.id === breakpointId\n      ? \"breakpoint-active\"\n      : false;\n  }\n\n  changeBreakpoint(breakpoint: Breakpoint) {\n    this.$emit(\"input\", breakpoint);\n  }\n\n  @Watch(\"breakpoints\", {\n    deep: true,\n    immediate: true\n  })\n  onBreakpointsChanged() {\n    if (!this.breakpoints.find(b => b.id === this.currentBreakpoint.id)) {\n      // select base breakpoint since the selected one before isn't present anymore\n      uiStore.selectBaseBreakpoint();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BreakpointsSelection.vue?vue&type=template&id=25384aaa&\"\nimport script from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{staticClass:\"undo-redo-top-bar-section\",attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"disabled\":!_vm.canUndo,\"icon\":\"UndoIcon\",\"size\":\"18\"},on:{\"click\":_vm.undo}}),_c('IconButton',{attrs:{\"disabled\":!_vm.canRedo,\"icon\":\"RedoIcon\",\"size\":\"18\"},on:{\"click\":_vm.redo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class TopBarSection extends Vue {\n  @Prop({\n    default: false\n  })\n  borderLeft!: boolean;\n\n  @Prop({\n    default: false\n  })\n  borderRight!: boolean;\n\n  get classList() {\n    const classList = [\"topbar-section\"];\n\n    if (this.borderLeft) classList.push(\"topbar-section-bl\");\n    if (this.borderRight) classList.push(\"topbar-section-br\");\n\n    return classList;\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBarSection.vue?vue&type=template&id=690a5c7f&\"\nimport script from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { snapshotStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class UndoRedo extends Vue {\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_Z, this.undo);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z, this.redo);\n  }\n\n  get canUndo() {\n    return snapshotStore.canUndo;\n  }\n\n  get canRedo() {\n    return snapshotStore.canRedo;\n  }\n\n  undo() {\n    if (!this.canUndo) return;\n    breakdanceUndo.undo();\n  }\n\n  redo() {\n    if (!this.canRedo) return;\n    breakdanceUndo.redo();\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_Z);\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UndoRedo.vue?vue&type=template&id=6e646a08&\"\nimport script from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nexport * from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UndoRedo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.previews)?_c('div',[_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\",class:_vm.nothingToPreviewAndNoSearchQueryAndNotLoading\n              ? 'document-chooser-zero-case'\n              : ''},on),[_c('div',{staticClass:\"document-chooser-text\"},[(_vm.currentPreviewedItem)?[_c('h2',[_vm._v(\"Previewing \"+_vm._s(_vm.currentPreviewedItem.type))]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentPreviewedItem.label || (\"ID \" + (_vm.currentPreviewedItem.id)))+\" \")])]:(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?[_c('h2',[_vm._v(\"Nothing to Preview\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" No match found \")])]:[_c('h2',[_vm._v(\"Previewing\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose \")])]],2),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}],null,false,1209928268),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":_vm.nothingToPreviewAndNoSearchQueryAndNotLoading ? undefined : 350,\"loading\":_vm.isLoading}},[(!_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1):_vm._e(),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.previews),function(item,i){return [_c('v-list-item',{key:i,class:{\n                'document-chooser-item-selected':\n                  item.url === _vm.currentPreviewedItem.url\n              },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.setPreviewedItem(item)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.label || item.url)+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.type))])])],1)]}),(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"previewable-items-zero-case previewable-items-zero-case-error\"},[_c('h4',[_vm._v(\" Nothing To Preview \")]),_c('p',[_vm._v(\" Your template settings don't match any content. You can: \")]),_c('ul',[_c('li',[_vm._v(\" Update your template settings in the WP admin at \"),_c('b',[_vm._v(\"Breakdance > Templates > Edit Template\")])]),_c('li',[_vm._v(\" Add some content to your site that matches the template settings. \")])])]):(_vm.previews.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case align-center text-center\"},[_c('h4',[_vm._v(\" No results apply to this template \")])]):_vm._e()],2)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { TemplatePreviewableItemsV } from \"@/types/templates\";\n\nexport async function fetchTemplatePreviewableItems({\n  id,\n  search = \"\"\n}: {\n  id: number;\n  search?: string;\n  overrideAjaxUrl?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_template_previewable_items_with_search\",\n    dataToPost: {\n      search,\n      id\n    },\n    decoder: TemplatePreviewableItemsV,\n    resultKey: \"data\"\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { loadAllDynamicDataFromTreeIntoStore } from \"@/lib/dynamic-data/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport lodash from \"lodash\";\nimport { TemplatePreviewableItem } from \"@/types/templates\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchTemplatePreviewableItems } from \"@/lib/dynamic-data/templates\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { saveLastPreviewedItemInWp } from \"@/lib/wordpress/load\";\n\n@Component({\n  components: { Icon, Dropdown, IconButton, TopBarSection }\n})\nexport default class PreviewContentChooserDialog extends Vue {\n  open = false;\n  search = \"\";\n  isLoading = false;\n\n  get previews() {\n    return (\n      configStore.templatePreview &&\n      configStore.templatePreview.previewableItems\n    );\n  }\n\n  get currentPreviewedItem() {\n    return configStore.previewedItem;\n  }\n\n  get nothingToPreviewAndNoSearchQueryAndNotLoading() {\n    return (\n      (!this.previews || !this.previews.length) &&\n      !this.search &&\n      !this.isLoading\n    );\n  }\n\n  async setPreviewedItem(newItem: TemplatePreviewableItem) {\n    this.open = false;\n\n    // All elements should SSR when changing preview\n    uiStore.setLastModifiedElementProperty({ elementId: null, path: null });\n    configStore.setPreviewedItem(newItem);\n    configStore.flushDynamicDataCache();\n    await loadAllDynamicDataFromTreeIntoStore();\n\n    saveLastPreviewedItemInWp(newItem);\n  }\n\n  async handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.isLoading = true;\n    this.debouncedSearchContentInWp();\n  }\n\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 300);\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchTemplatePreviewableItems({\n        search: this.search,\n        id: documentStore.document.documentMeta.id\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        templatePreviewableItems => {\n          configStore.setTemplatePreview({\n            ...configStore.templatePreview,\n            previewableItems: templatePreviewableItems\n          });\n\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewContentChooserDialog.vue?vue&type=template&id=55e18544&\"\nimport script from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{staticClass:\"document-chooser-section\",attrs:{\"borderLeft\":true,\"borderRight\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Editing \"+_vm._s(_vm.currentDocument.documentMeta.typeLabel))]),(_vm.currentDocument.documentMeta.id !== -1)?_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentDocument.documentMeta.titleLabel || (\"ID: \" + (_vm.currentDocument.documentMeta.id)))+\" \")]):_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose a document to edit \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":\"350\",\"loading\":_vm.isLoading}},[_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.availableDocuments),function(item,i){return [_c('v-list-item',{key:i,class:{\n              'document-chooser-item-selected':\n                item.id === _vm.currentDocument.documentMeta.id\n            },attrs:{\"link\":\"\",\"href\":_vm.getDocumentUrlFromId(item.id)}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.titleLabel || (\"ID: \" + (item.id)))+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.typeLabel))])])],1)]}),(_vm.availableDocuments.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case-search\"},[_c('svg',{staticClass:\"previewable-items-zero-case-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No items found\")]),_c('p',[_vm._v(\"Try adjusting your search to find what you are looking for.\")])]):_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { DocumentMetasV } from \"@/types/document\";\n\nexport async function fetchAvailableDocuments({\n  search = \"\"\n}: {\n  search?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_available_documents_with_search\",\n    dataToPost: {\n      search\n    },\n    decoder: DocumentMetasV,\n    resultKey: \"data\"\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchAvailableDocuments } from \"@/lib/document-chooser/document-chooser\";\nimport lodash from \"lodash\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DocumentChooser extends Vue {\n  open = false;\n  search = \"\";\n\n  isLoading = false;\n\n  get currentDocument() {\n    return documentStore.document;\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  get currentlyEditingLabel() {\n    return `${documentStore.document.documentMeta.id.toString()}`;\n  }\n\n  get availableDocuments() {\n    return configStore.availableDocuments;\n  }\n\n  getDocumentUrlFromId(newDocumentId: number) {\n    return getDocumentUrlFromId(newDocumentId);\n  }\n\n  handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.debouncedSearchContentInWp();\n  }\n\n  // Average typing speed is a char every 300 ms\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 600); // this feels slow tho\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchAvailableDocuments({\n        search: this.search\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        availableDocuments => {\n          configStore.setAvailableDocuments(availableDocuments);\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DocumentChooser.vue?vue&type=template&id=6b2d9a97&\"\nimport script from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nexport * from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"active\":_vm.anySettingsPanelsOpen,\"testId\":\"open-settings-menu\",\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openGlobalSettingsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-global-settings\"}},[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openSelectorsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-site-classes-selectors\"}},[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1),_c('v-list-item',{staticClass:\"breakdance-menu-open-preferences\",attrs:{\"dense\":\"\"},on:{\"click\":_vm.openPreferencesModal}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-preferences\"}},[_vm._v(\" Preferences \")])],1),_c('v-list-item',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],attrs:{\"data-test-id\":\"toggle-element-studio\",\"dense\":\"\",\"disabled\":_vm.elementsLoadingState !== 'success'},on:{\"click\":_vm.toggleElementStudio}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-element-studio\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Element Studio \"),_c('span',{staticClass:\"settings-dropdown-element-studio-alpha-badge\"},[_vm._v(\"alpha\")])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { isUiPanelOpen, openUiPanel } from \"@/lib/panels/panels\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    StandardButton,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SettingsDropdown extends Vue {\n  openPreferencesModal() {\n    uiStore.setPreferencesModalOpen(true);\n  }\n\n  toggleElementStudio() {\n    uiStore.toggleElementStudio();\n  }\n\n  openGlobalSettingsPanel() {\n    openUiPanel(\"globalSettings\");\n  }\n\n  openSelectorsPanel() {\n    uiStore.setActiveSelectorName(null);\n    openUiPanel(\"selectors\");\n  }\n\n  get elementsLoadingState() {\n    return configStore.elementsLoadingState;\n  }\n\n  get anySettingsPanelsOpen() {\n    return (\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\") ||\n      isUiPanelOpen(\"globalSettings\") ||\n      uiStore.panelState.elementStudioOpen ||\n      uiStore.panelState.preferencesModalOpen\n    );\n  }\n\n  openHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SettingsDropdown.vue?vue&type=template&id=133ff8e2&\"\nimport script from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.backToAdmin || _vm.backToFrontend)?_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"}},on))]}}],null,false,865007243)},[_c('v-list',[(_vm.backToFrontend)?_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToFrontend}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"BrowserIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to Frontend\")])],1)],1):_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToAdmin}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"WordPressIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to WordPress\")])],1)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getFrontendUrl } from \"@/lib/document\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class Exit extends Vue {\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl;\n    }\n\n    return \"\";\n  }\n\n  get backToFrontend() {\n    return getFrontendUrl();\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Exit.vue?vue&type=template&id=485b82ba&\"\nimport script from \"./Exit.vue?vue&type=script&lang=ts&\"\nexport * from \"./Exit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemContent,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"active\":_vm.isAddSectionOpen,\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    StandardButton,\n    TopBarSection\n  }\n})\nexport default class AddButton extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_A, this.toggleAdd);\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n\n  get isAddSectionOpen() {\n    return isUiPanelOpen(\"add\");\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_A);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddButton.vue?vue&type=template&id=71002d56&\"\nimport script from \"./AddButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{staticClass:\"pa-0 breakdance-topbar d-flex flex-row\",attrs:{\"short\":\"\",\"color\":\"var(--white)\",\"height\":\"auto\",\"width\":\"100%\",\"flat\":\"\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class TopBar extends Vue {}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=0eeb484e&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\ninstallComponents(component, {VAppBar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isTrialExpired)?_c('div',[_c('TopBarSection',[_c('v-btn',{attrs:{\"textColor\":\"black\",\"color\":\"#FFC514\"},on:{\"click\":_vm.toggleDialog}},[_vm._v(\"Breakdance Trial Expired\")])],1),_c('v-dialog',{attrs:{\"width\":\"400\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Trial Expired\")]),_c('v-card-text',[_c('p',{staticStyle:{\"font-weight\":\"500\",\"color\":\"var(--gray700)\"}},[_vm._v(\" Your free Breakdance trial has expired, and you will no longer be able to save pages in Breakdance. \")]),_c('p',{staticStyle:{\"font-weight\":\"500\",\"color\":\"var(--gray700)\"}},[_vm._v(\" To continue using Breakdance, you will need to purchase a license key. \")])]),_c('v-card-actions',[_c('v-btn',{staticStyle:{\"font-weight\":\"600\"},attrs:{\"href\":\"https://breakdance.com/\",\"target\":\"_blank\",\"textColor\":\"black\",\"color\":\"#FFC514\",\"large\":\"\",\"square\":\"\"}},[_vm._v(\"Get Breakdance\")])],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { configStore } from \"@/store/store\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\n\n@Component({\n  components: {\n    TopBarSection\n  }\n})\nexport default class UpgradeToPro extends Vue {\n  dialogOpen = true;\n\n  toggleDialog() {\n    this.dialogOpen = !this.dialogOpen;\n  }\n\n  get isTrialExpired() {\n    return configStore.trialData && configStore.trialData.isExpired;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradeToPro.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpgradeToPro.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpgradeToPro.vue?vue&type=template&id=96fd33b2&\"\nimport script from \"./UpgradeToPro.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpgradeToPro.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Save from \"./Save.vue\";\nimport BreakpointsSelection from \"./BreakpointsSelection.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport UndoRedo from \"./UndoRedo.vue\";\nimport PreviewContentChooserDialog from \"./PreviewContentChooserDialog.vue\";\nimport DocumentChooser from \"./DocumentChooser.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport SettingsDropdown from \"@/components/Builder/TopBar/SettingsDropdown.vue\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { setScaleToFitAndGetSettings } from \"@/lib/ui-preference/ui-preference\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Exit from \"@/components/Builder/TopBar/Exit.vue\";\nimport AddButton from \"@/components/Builder/TopBar/AddButton.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport UpgradeToPro from \"@/components/Sales/UpgradeToPro.vue\";\n\n@Component({\n  components: {\n    TopBar,\n    Exit,\n    AddButton,\n    TopBarSection,\n    SettingsDropdown,\n    BreakpointsSelection,\n    Save,\n    UndoRedo,\n    PreviewContentChooserDialog,\n    DocumentChooser,\n    IconButton,\n    UpgradeToPro\n  }\n})\nexport default class BuilderTopBar extends Vue {\n  toggleElementProperties() {\n    toggleUiPanel(\"elementproperties\");\n  }\n\n  get isElementPropertiesOpen() {\n    return isUiPanelOpen(\"elementproperties\");\n  }\n\n  toggleStructurePanel() {\n    toggleUiPanel(\"structure\");\n  }\n\n  get isStructurePanelOpen() {\n    return isUiPanelOpen(\"structure\");\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_S, () =>\n      setScaleToFitAndGetSettings(\n        uiStore.settings.scaleToFit !== \"SCALED_TO_FIT\"\n      )\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_S);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderTopBar.vue?vue&type=template&id=81a670b6&\"\nimport script from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"preferences-modal-dialog\",\"value\":_vm.open,\"max-width\":\"780\",\"persistent\":\"\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)},\"click:outside\":_vm.handleClickOutside}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[(_vm.saveInProgress === true)?[_c('div',{staticClass:\"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto\"},[_c('v-progress-circular',{attrs:{\"size\":100,\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"flex-grow-1 d-flex flex-row\",staticStyle:{\"overflow\":\"auto\"}},[_c('div',{staticClass:\"preferences-tab-area\"},[_c('h2',{staticClass:\"preferences-modal-title-text\"},[_vm._v(\" Preferences \")]),_c('v-tabs',{staticClass:\"breakdance-tabs\",attrs:{\"vertical\":\"\"},on:{\"change\":_vm.handleChangeTab},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"SlidersIcon\",\"size\":\"16\"}}),_vm._v(\" UI Settings \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"FontIcon\",\"size\":\"16\"}}),_vm._v(\" Custom Fonts \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"size\":\"16\",\"icon\":\"BreakpointsIcon\"}}),_vm._v(\" Breakpoints \")],1)],1)],1),_c('button',{staticClass:\"preferences-close-button\",on:{\"click\":_vm.handleClickOutside}},[_c('Icon',{attrs:{\"size\":\"20\",\"icon\":\"CloseIcon\"}})],1),_c('div',{staticClass:\"flex-grow-1 preferences-content-area\"},[(_vm.currentTab === _vm.fontFamiliesTab)?_c('CustomFontFamilies',{ref:\"customFontFamiliesPanel\",attrs:{\"value\":_vm.customFontFamilies},on:{\"input\":_vm.updateCustomFontFamilies}}):_vm._e(),(_vm.currentTab === _vm.customBreakpointsTab)?_c('CustomBreakpointsPanel',{ref:\"customBreakpointsPanel\",attrs:{\"value\":_vm.customBreakpoints},on:{\"input\":_vm.updateBreakpoints}}):_vm._e(),(_vm.currentTab === _vm.uiSettingsTab)?_c('CustomUiSettings'):_vm._e()],1)])]],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Breakpoints',\n    function: _vm.applyChanges,\n    inProgress: false,\n    disabled: !_vm.unsavedChangesPresent\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Breakpoints\")]},proxy:true},{key:\"content\",fn:function(){return [_c('EditBreakpoints',{attrs:{\"value\":_vm.internalValue},on:{\"input\":_vm.breakpointsEdited}})]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.value),function(breakpoint){return _c('EditBreakpoint',{key:breakpoint.id,attrs:{\"value\":breakpoint,\"isEditing\":breakpoint.id === _vm.editingBreakpointId},on:{\"input\":_vm.updateOrAddBreakpoint,\"delete\":function($event){return _vm.deleteBreakpoint(breakpoint.id)},\"edit\":_vm.edit}})}),(!_vm.showAddForm && _vm.value.length > 0)?_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")]):_vm._e(),_c('div',[(_vm.showAddForm)?[_c('div',{staticClass:\"add-breakpoint-form-content-wrapper\"},[_c('div',{staticClass:\"add-breakpoint-heading-box\"},[_c('h4',{staticClass:\"add-breakpoint-heading\"},[_vm._v(\"Add New Breakpoint\")]),_c('IconButton',{staticClass:\"add-breakpoint-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddBreakpointForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Breakpoint name, ie. iPhone X or tablet\",\"size\":\"md\",\"validation-function-name\":\"validateNoQuotes\"},model:{value:(_vm.newBreakpointLabel),callback:function ($$v) {_vm.newBreakpointLabel=$$v},expression:\"newBreakpointLabel\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.newBreakpointLabel,\"text\":\"\"},on:{\"click\":_vm.addBreakpoint}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)]:_vm._e(),(!_vm.showAddForm && _vm.value.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\"Add your first breakpoint by clicking the button below.\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")])],1):_vm._e()],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"form\",staticClass:\"mx-n2 pa-2 py-3 breakpoint-edit\"},[_c('h3',{staticClass:\"font-weight-medium breakpoint-title text-capitalize mb-2\"},[_vm._v(\" \"+_vm._s(_vm.value.label)+\" \")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_c('div',{staticClass:\"media-query-box\"},[(!_vm.isEditing)?_c('div',{on:{\"click\":_vm.enableEditing}},[(this.mediaQueryString)?[_c('div',{staticClass:\"media-query-string\"},[_vm._v(_vm._s(this.mediaQueryString))])]:[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"text\":\"\",\"color\":\"orange\"}},[_vm._v(\" Click to set min and max widths. \")])]],2):_c('div',{staticClass:\"media-query-box-items\"},[_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Maximum width (px)\"},model:{value:(_vm.maxWidth),callback:function ($$v) {_vm.maxWidth=$$v},expression:\"maxWidth\"}})],1),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Minimum width (px)\"},model:{value:(_vm.minWidth),callback:function ($$v) {_vm.minWidth=$$v},expression:\"minWidth\"}})],1),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"media-query-box-label\"},[_vm._v(\"Default Preview Width\")]),_c('DropdownInput',{staticClass:\"breakdance-dense-select breakdance-dense-select--md\",attrs:{\"label\":\"Default Preview Width\",\"value\":_vm.defaultPreviewWidth === '100%' ? '100%' : 'custom',\"items\":['100%', 'custom'],\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.setDefaultPreviewWidth}})],1)]),_c('div',{staticClass:\"media-query-input-wrapper\"},[(_vm.defaultPreviewWidth !== '100%')?[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Custom width (px)\"},model:{value:(_vm.defaultPreviewWidth),callback:function ($$v) {_vm.defaultPreviewWidth=$$v},expression:\"defaultPreviewWidth\"}})]:_vm._e()],2),_c('div',{staticClass:\"d-flex justify-end align-center\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"text\":\"\",\"color\":\"red darken-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.maxWidth && !_vm.minWidth},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)])]),(!_vm.isEditing)?_c('div',{staticClass:\"breakpoint-edit__actions\"},[_c('IconButton',{staticClass:\"mr-1\",attrs:{\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.enableEditing}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"18\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteDialog = true}}})],1):_vm._e()])]),_c('ConfirmDialog',{attrs:{\"show\":_vm.deleteDialog,\"type\":\"error\",\"action-text\":\"Delete\",\"discard-text\":\"Cancel\",\"save-is-enabled\":true,\"discard-is-enabled\":true},on:{\"discard\":function($event){_vm.deleteDialog = false},\"save\":_vm.deleteBreakpoint},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Delete breakpoint?\")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(\"{If you delete the \"+_vm._s(_vm.value.label || ((_vm.value.defaultPreviewWidth) + \"px\"))+\" breakpoint, you will lose all design changes it applies.\")]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.show,\"persistent\":\"\",\"width\":400},on:{\"click:outside\":function($event){return _vm.$emit('click:outside')}}},[_c('v-card',{staticClass:\"breakdance-dialog\"},[(_vm.type)?_c('div',{staticClass:\"card-alert\"},[_c('v-alert',{staticClass:\"card-alert__icon\",attrs:{\"type\":_vm.type}})],1):_vm._e(),_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._t(\"title\")],2),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_vm._t(\"text\")],2),_c('v-card-actions',{staticClass:\"breakdance-dialog-actions\"},[(_vm.hasCancel)?_c('v-btn',{on:{\"click\":function () { return this$1.$emit('cancel'); }}},[_vm._v(_vm._s(_vm.cancelText)+\" \")]):_vm._e(),(_vm.hasDiscard)?_c('v-btn',{attrs:{\"disabled\":!_vm.discardIsEnabled,\"loading\":_vm.discardIsInProgress},on:{\"click\":function () { return this$1.$emit('discard'); }}},[_vm._v(_vm._s(_vm.discardText)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"color\":_vm.type,\"dark\":\"\",\"disabled\":!_vm.saveIsEnabled,\"loading\":_vm.saveIsInProgress},on:{\"click\":function () { return this$1.$emit('save'); }}},[_vm._v(_vm._s(_vm.actionText)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class ConfirmDialog extends Vue {\n  @Prop()\n  show!: boolean;\n\n  @Prop({ default: \"info\" })\n  type: \"success\" | \"warning\" | \"error\" | \"info\" | undefined;\n\n  @Prop({ default: false })\n  hasCancel!: boolean;\n\n  @Prop({ default: \"Cancel\" })\n  cancelText!: string | undefined;\n\n  @Prop()\n  saveIsEnabled!: boolean;\n\n  @Prop()\n  saveIsInProgress!: boolean;\n\n  @Prop({ default: true })\n  hasDiscard!: boolean;\n\n  @Prop()\n  discardIsEnabled!: boolean;\n\n  @Prop()\n  discardIsInProgress!: boolean;\n\n  @Prop({ default: \"Save\" })\n  actionText!: string | undefined;\n\n  @Prop({ default: \"Discard\" })\n  discardText!: string | undefined;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=eb451678&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { configStore } from \"@/store/store\";\nimport {\n  mediaQueryString,\n  validateBreakpoint\n} from \"@/lib/breakpoints/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TextInput,\n    DropdownInput,\n    NiceButton,\n    ConfirmDialog\n  },\n  directives: {\n    focus: {\n      // focus element on mount\n      inserted: function(el) {\n        el.focus();\n      }\n    }\n  }\n})\nexport default class EditBreakpoint extends Vue {\n  @Prop()\n  value!: Breakpoint;\n  @Prop()\n  isEditing!: boolean;\n\n  deleteDialog = false;\n\n  // values can be undefined, which is not reactive in Vue.\n  defaultPreviewWidth: number | undefined | string | null = String(\n    this.value.defaultPreviewWidth || \"\"\n  );\n  minWidth: number | undefined | string | null = String(\n    this.value.minWidth || \"\"\n  );\n  maxWidth: number | undefined | string | null = String(\n    this.value.maxWidth || \"\"\n  );\n\n  setDefaultPreviewWidth(width: \"100%\" | \"custom\") {\n    this.defaultPreviewWidth = width === \"100%\" ? \"100%\" : \"\";\n  }\n\n  enableEditing() {\n    this.$emit(\"edit\", this.value.id);\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get previewWidthUnit() {\n    return \"px\";\n  }\n\n  deleteBreakpoint() {\n    this.$emit(\"delete\");\n    this.deleteDialog = false;\n  }\n\n  get mediaQueryString() {\n    const minWidth = parseInt(String(this.minWidth));\n    const maxWidth = parseInt(String(this.maxWidth));\n\n    return mediaQueryString(minWidth, maxWidth);\n  }\n\n  cancel() {\n    this.minWidth = this.value.minWidth;\n    this.maxWidth = this.value.maxWidth;\n    this.defaultPreviewWidth = this.value.defaultPreviewWidth;\n    this.$emit(\"edit\", \"\");\n  }\n\n  save() {\n    const newBreakpoint = defensiveCopy(this.value);\n\n    newBreakpoint.minWidth = parseInt(String(this.minWidth)) || undefined;\n    newBreakpoint.maxWidth = parseInt(String(this.maxWidth)) || undefined;\n    newBreakpoint.defaultPreviewWidth =\n      this.defaultPreviewWidth === \"100%\"\n        ? \"100%\"\n        : parseInt(String(this.defaultPreviewWidth));\n\n    this.minWidth = newBreakpoint.minWidth ? newBreakpoint.minWidth : \"\";\n    this.maxWidth = newBreakpoint.maxWidth ? newBreakpoint.maxWidth : \"\";\n    this.defaultPreviewWidth = newBreakpoint.defaultPreviewWidth\n      ? newBreakpoint.defaultPreviewWidth\n      : \"\";\n\n    pipe(\n      validateBreakpoint(newBreakpoint),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        breakpoint => {\n          this.$emit(\"input\", breakpoint);\n          this.$emit(\"edit\", \"\");\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoint.vue?vue&type=template&id=0deb6e3a&\"\nimport script from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VAlert,VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"preferences-empty-state\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./EmptyStatePreferences.vue?vue&type=template&id=30c84385&\"\nvar script = {}\nimport style0 from \"./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport EditBreakpoint from \"./EditBreakpoint.vue\";\nimport { addOrUpdateBreakpoint } from \"@/lib/breakpoints/breakpoints\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateNoQuotes } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    Icon,\n    EditBreakpoint,\n    EmptyStatePreferences,\n    TextInput,\n    IconButton,\n  },\n})\nexport default class EditBreakpoints extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  editingBreakpointId = \"\";\n  showAddForm = false;\n\n  edit(breakpointId: string) {\n    this.editingBreakpointId = breakpointId;\n    this.showAddForm = false;\n  }\n\n  openAddBreakpointForm() {\n    this.showAddForm = true;\n    this.editingBreakpointId = \"\";\n  }\n\n  toggleAddBreakpointForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  newBreakpointLabel: string | undefined = \"\";\n\n  addBreakpoint() {\n    if (!this.newBreakpointLabel) {\n      return;\n    }\n\n    const normalizedBreakpointLabel = this.newBreakpointLabel\n      .toLowerCase()\n      .replace(/[- ]/g, \"_\");\n    const newBreakpointId = `custom_breakpoint_${normalizedBreakpointLabel}`;\n\n    this.updateOrAddBreakpoint({\n      id: newBreakpointId,\n      label: this.newBreakpointLabel,\n      minWidth: undefined,\n      maxWidth: undefined,\n      defaultPreviewWidth: \"100%\",\n    });\n  }\n\n  deleteBreakpoint(breakpointId: string) {\n    const newBreakpoints = defensiveCopy(this.value);\n    const index = newBreakpoints.findIndex((b) => b.id === breakpointId);\n    newBreakpoints.splice(index, 1);\n    this.$emit(\"input\", newBreakpoints);\n  }\n\n  updateOrAddBreakpoint(newBreakpoint: Breakpoint) {\n    const newBreakpoints = addOrUpdateBreakpoint(this.value, newBreakpoint);\n    this.$emit(\"input\", newBreakpoints);\n\n    if (this.showAddForm === true) this.showAddForm = false;\n    this.newBreakpointLabel = \"\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoints.vue?vue&type=template&id=1af09ae0&\"\nimport script from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"preferences-panel-topbar\"},[_c('div',{staticClass:\"preferences-panel-heading\"},[_vm._t(\"title\")],2),_vm._t(\"aftertitle\"),_c('v-spacer')],2),_c('div',{staticClass:\"preferences-panel-content-area\"},[_vm._t(\"content\")],2),_c('div',{staticClass:\"preferences-bottom-panel\"},[(!_vm.hideSaveButton)?_c('v-btn',{attrs:{\"loading\":_vm.save.inProgress,\"disabled\":_vm.save.disabled,\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.save.function}},[_vm._v(_vm._s(_vm.save.text)+\" \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class PreferencesPanel extends Vue {\n  @Prop()\n  save!: {\n    text: string;\n    function: () => void;\n    inProgress: boolean;\n    disabled: boolean;\n  };\n  @Prop({ default: false })\n  hideSaveButton!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesPanel.vue?vue&type=template&id=4c6977b0&\"\nimport script from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport EditBreakpoints from \"./EditBreakpoints.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { isEqual } from \"lodash\";\n\n@Component({\n  components: {\n    EditBreakpoints,\n    PreferencesPanel\n  }\n})\nexport default class CustomBreakpointsPanel extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  internalValue = defensiveCopy(this.value);\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  applyChanges() {\n    this.$emit(\"input\", this.internalValue);\n  }\n\n  breakpointsEdited(customBreakpoints: Breakpoint[]) {\n    this.internalValue = customBreakpoints;\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomBreakpointsPanel.vue?vue&type=template&id=fc54c074&\"\nimport script from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Fonts',\n    function: _vm.applyChanges,\n    inProgress: _vm.saveInProgress,\n    disabled: !_vm.unsavedChangesPresent\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Custom Fonts\")]},proxy:true},{key:\"content\",fn:function(){return [_vm._l((_vm.internalValue),function(fontFamily,index){return _c('FontFamily',{key:fontFamily.family,attrs:{\"value\":fontFamily,\"isOpen\":index === _vm.openedFontIndex},on:{\"open\":function($event){return _vm.openFont($event ? index : -1)},\"delete\":function($event){return _vm.deleteFontFamily(index)},\"input\":function($event){return _vm.updateFontFamily($event, index)}}})}),(_vm.internalValue.length)?[_c('div',{staticClass:\"mt-12\"})]:_vm._e(),_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Add Font\")]),(!_vm.showAddForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. \")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")])],1):_vm._e(),(_vm.showAddForm)?_c('div',[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveNewFontFamily($event)}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"Add New Font\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Custom font name, ie. Helvetica\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\",\"validation-function-name\":\"validateAlphanumericHyphenUnderscore\"},model:{value:(_vm.fontFamily),callback:function ($$v) {_vm.fontFamily=$$v},expression:\"fontFamily\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.fontFamily || _vm.validFontFamily !== true,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showAddForm)?_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")]):_vm._e(),_c('h4',{staticClass:\"my-4 font-weight-medium mt-12\"},[_vm._v(\" Use Fonts In External CSS \")]),(!_vm.showCssForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Use hosted fonts from providers like Adobe Fonts. \")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add External CSS \")])],1):_vm._e(),(_vm.showCssForm)?_c('div',[_c('v-form',{ref:\"cssForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveCssUrl($event)}},model:{value:(_vm.validCssForm),callback:function ($$v) {_vm.validCssForm=$$v},expression:\"validCssForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper mb-4\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"CSS URL\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleCssForm}})],1),_c('TextInput',{attrs:{\"rules\":[\n              function (v) { return !!v || 'Please enter a value'; },\n              function (v) { return _vm.isValidUrl(v) || 'Please enter a valid URL'; }\n            ],\"placeholder\":\"URL to CSS file containing Font Face definitions\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\"},model:{value:(_vm.cssUrl),callback:function ($$v) {_vm.cssUrl=$$v},expression:\"cssUrl\"}}),_c('v-btn',{attrs:{\"disabled\":_vm.saveInProgress,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showCssForm)?_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add CSS URL \")]):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  CustomFontFamily,\n  FontFamiliesResponseV,\n  FontFileResponse,\n  FontFileResponseV,\n  FontFamiliesResponse\n} from \"@/types/custom-fonts\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nexport async function saveFontFile(\n  fontFile: File\n): Promise<Either<_Error[], FontFileResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_file\",\n    dataToPost: { file: fontFile },\n    decoder: FontFileResponseV\n  });\n}\n\nexport async function getFontFamiliesFromCssFile(\n  cssUrl: string\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_get_font_families_from_css_file\",\n    dataToPost: { cssUrl },\n    decoder: FontFamiliesResponseV\n  });\n}\n\nexport async function sendFontsToBackend(\n  customFontFamilies: CustomFontFamily[]\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_families\",\n    dataToPost: {\n      customFontFamilies: fpJsonStringify(customFontFamilies)\n    },\n    decoder: FontFamiliesResponseV\n  });\n}\n","import { Font } from \"@/types/fonts\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { configStore } from \"@/store/store-accessor\";\n\nexport const addOrUpdateFontInStore = (newFontData: Font) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === newFontData.slug);\n\n  // Add the new font if it it's new, otherwise replace the existing one\n  if (index === -1) {\n    newFonts.unshift(newFontData);\n  } else {\n    newFonts[index] = newFontData;\n  }\n\n  configStore.setFonts(newFonts);\n};\n\nexport const removeFontFromStore = (slug: string) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === slug);\n\n  if (index > -1) {\n    newFonts.splice(index, 1);\n  }\n\n  configStore.setFonts(newFonts);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family\"},[_c('div',{staticClass:\"custom-font-family-titlebar\",on:{\"click\":_vm.toggleFaces}},[_c('div',{staticClass:\"custom-font-family-title\"},[_vm._v(\" \"+_vm._s(_vm.value.family)+\" \")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFontFamily($event)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),(_vm.isOpen)?_c('div',{staticClass:\"custom-font-family-edit\"},[(!_vm.value.hasExternalCssUrl)?_c('div',[_c('FontFaces',{attrs:{\"value\":_vm.value.faces},on:{\"input\":_vm.editFontFamily}}),_c('TextField',{attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}}),(_vm.fallbackStringHasBeenEdited)?[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"border\":\"left\",\"text\":\"\",\"type\":\"warning\"}},[_vm._v(\" Changes to the CSS fallback string will take effect after \"),_c('strong',[_vm._v(\"saving and refreshing\")]),_vm._v(\". \")])]:_vm._e()],2):_vm._e(),(_vm.value.hasExternalCssUrl)?_c('div',[_c('span',{staticStyle:{\"font-size\":\"var(--text-sm)\",\"font-weight\":\"500\"}},[_vm._v(\"Sourced from \"+_vm._s(_vm.value.cssUrl))]),_c('TextField',{staticClass:\"mt-4\",attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}})],1):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family-font-faces\"},[_vm._l((_vm.value),function(fontFace,fontFaceIndex){return _c('UpdateFontFace',{key:fontFace.id,attrs:{\"value\":fontFace,\"existingFontFaces\":_vm.existingFontFaces(fontFaceIndex)},on:{\"input\":function($event){return _vm.updateFontFace($event, fontFaceIndex)},\"delete\":function($event){return _vm.deleteFontFace(fontFaceIndex)}}})}),_c('FontFileUpload',{on:{\"save\":_vm.newFontFileSuccessfullyUploaded}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family-font-face\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.isFontFaceUnique),callback:function ($$v) {_vm.isFontFaceUnique=$$v},expression:\"isFontFaceUnique\"}},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar\"},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar-title\"},_vm._l((_vm.value.files),function(file){return _c('div',{key:file.fileUrl,staticClass:\"mr-3\"},[_vm._v(\" \"+_vm._s(file.fileName)+\" \")])}),0),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.deleteFontFace}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),_c('div',{staticClass:\"custom-font-family-font-face-controls\"},[_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-select',{staticClass:\"mr-4\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"value\":_vm.value.weight,\"items\":_vm.weights,\"rules\":[_vm.validateWeight],\"label\":\"Font Weight\"},on:{\"input\":_vm.updateWeight}})],1),_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-radio-group',{staticClass:\"pt-0 mt-0 mr-4\",attrs:{\"value\":_vm.value.style,\"rules\":[_vm.validateStyle],\"row\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateStyle}},[_c('v-radio',{attrs:{\"label\":\"Normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"Italic\",\"value\":\"italic\"}})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const CSS_WEIGHTS = [\n  {\n    text: \"100 (Thin)\",\n    value: 100\n  },\n  {\n    text: \"200 (Extra Light)\",\n    value: 200\n  },\n  {\n    text: \"300 (Light)\",\n    value: 300\n  },\n  {\n    text: \"400 (Normal)\",\n    value: 400\n  },\n  {\n    text: \"500 (Medium)\",\n    value: 500\n  },\n  {\n    text: \"600 (Semi Bold)\",\n    value: 600\n  },\n  {\n    text: \"700 (Bold)\",\n    value: 700\n  },\n  {\n    text: \"800 (Extra Bold)\",\n    value: 800\n  },\n  {\n    text: \"900 (Black)\",\n    value: 900\n  }\n];\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport { FontFace } from \"@/types/custom-fonts\";\nimport { CSS_WEIGHTS } from \"@/lib/fonts/constants\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class UpdateFontFace extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Prop()\n  value!: FontFace;\n\n  /* Form Validation */\n  @Prop({\n    default: []\n  })\n  existingFontFaces!: FontFace[];\n\n  isFontFaceUnique = true;\n\n  validateWeight(weight: number) {\n    if (!weight) {\n      return \"A weight is required\";\n    }\n\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === weight && fontFace.style === this.value.style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font weight already exists with this style, and format\"\n    );\n  }\n\n  validateStyle(style: \"normal\" | \"italic\") {\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === this.value.weight && fontFace.style === style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font style already exists with this weight, and format\"\n    );\n  }\n\n  get valueFormats() {\n    return this.value.files.map(file => file.format);\n  }\n\n  @Watch(\"value\")\n  revalidateOnValueChange() {\n    this.form.validate();\n  }\n  /* ------------ */\n\n  updateWeight(newWeight: number) {\n    const newValue = {\n      ...this.value,\n      weight: newWeight\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  updateStyle(newStyle: \"normal\" | \"italic\") {\n    const newValue = {\n      ...this.value,\n      style: newStyle\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  deleteFontFace() {\n    this.$emit(\"delete\");\n  }\n\n  get weights() {\n    return CSS_WEIGHTS;\n  }\n\n  get currentWeight() {\n    return CSS_WEIGHTS.find(w => w.value === this.value.weight);\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpdateFontFace.vue?vue&type=template&id=daa63ea4&\"\nimport script from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VForm,VRadio,VRadioGroup,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-font-file-uploader\"},[_c('FileUpload',{attrs:{\"height\":\"150px\",\"accept\":\".woff,.woff2\",\"saveInProgress\":_vm.saveInProgress},on:{\"input\":_vm.handleFiles}},[_vm._v(\" drag .woff or .woff2 files or \"),_c('span',{staticClass:\"breakdance-font-file-uploader-choose-link\"},[_vm._v(\"browse...\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { saveFontFile } from \"@/lib/fonts/backend\";\nimport FileUpload from \"@/components/Reusable/CustomInputs/FileUpload.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\n@Component({\n  components: { FileUpload }\n})\nexport default class FontFileUpload extends Vue {\n  saveInProgress = false;\n\n  handleFiles(files: FileList) {\n    Array.from(files).forEach((file: File) => {\n      const fileReader = new FileReader();\n      fileReader.onloadend = async e => {\n        if (!e?.target) return;\n\n        // Get the file's MIME type to validate the file type\n        // This is reliable in contrast to checking the extension\n        // https://stackoverflow.com/questions/18299806/how-to-check-file-mime-type-with-javascript-before-upload\n\n        const arr = new Uint8Array(\n          e.target.result as Iterable<number>\n        ).subarray(0, 4);\n        let header = \"\";\n        arr.forEach(value => (header += value.toString(16)));\n\n        const extension = file.name.split(\".\").pop();\n        // https://en.wikipedia.org/wiki/List_of_file_signatures\n        const isWoff = header === \"774f4646\" && extension === \"woff\";\n        const isWoff2 = header === \"774f4632\" && extension === \"woff2\";\n\n        if (!(isWoff || isWoff2)) {\n          NotificationLogger.log.message(\n            'Only  \".woff\" and \".woff2\" files are supported'\n          );\n\n          return;\n        }\n\n        this.saveInProgress = true;\n\n        pipe(\n          await saveFontFile(file),\n          fold(\n            (errors: _Error[]) => {\n              logErrorsToUiStore(errors);\n            },\n            r => {\n              this.$emit(\"save\", {\n                fileUrl: r.fileUrl,\n                format: isWoff ? \"woff\" : \"woff2\",\n                fileName: r.fileName\n              });\n            }\n          )\n        );\n\n        this.saveInProgress = false;\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFileUpload.vue?vue&type=template&id=3a285e30&\"\nimport script from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport UpdateFontFace from \"@/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue\";\nimport { FontFace, FontFile } from \"@/types/custom-fonts\";\nimport FontFileUpload from \"@/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n@Component({\n  components: {\n    FontFileUpload,\n    UpdateFontFace\n  }\n})\nexport default class FontFaces extends Vue {\n  @Prop()\n  value!: FontFace[];\n\n  newFontFileSuccessfullyUploaded(fontFile: FontFile) {\n    const newFontFace = fontFileToBlankFontFace(fontFile);\n    const newFontFaces = [...this.value, newFontFace];\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  updateFontFace(newFontFace: FontFace, fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    const newFontFaceFormats = newFontFace.files.map(file => file.format);\n\n    // If the weight and style are the same but the format is different\n    // Merge the newFontFace's files into an existing font face\n    const indexOfMatchingFontFace = newFontFaces.findIndex(\n      fontFace =>\n        fontFace.weight === newFontFace.weight &&\n        fontFace.style === newFontFace.style &&\n        // Doesn't match the file formats\n        !fontFace.files.find(file => newFontFaceFormats.includes(file.format))\n    );\n\n    if (indexOfMatchingFontFace === -1) {\n      newFontFaces[fontFaceIndex] = newFontFace;\n    } else {\n      // Merge the files\n      newFontFaces[indexOfMatchingFontFace].files = [\n        ...newFontFaces[indexOfMatchingFontFace].files,\n        ...newFontFace.files\n      ];\n\n      // And remove the merged font face from the list\n      newFontFaces.splice(fontFaceIndex, 1);\n    }\n\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  deleteFontFace(fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    newFontFaces.splice(fontFaceIndex, 1);\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  existingFontFaces(fontFaceIndex: number) {\n    return this.value.filter((_, i) => i !== fontFaceIndex);\n  }\n}\n\nfunction fontFileToBlankFontFace(fontFile: FontFile): FontFace {\n  return {\n    id: uuidv4(),\n    files: [fontFile],\n    style: \"normal\",\n    weight: 0\n  };\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFaces.vue?vue&type=template&id=30bcaa75&\"\nimport script from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFaces.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { CustomFontFamily, FontFace } from \"@/types/custom-fonts\";\nimport FontFaces from \"@/components/Settings/Preferences/CustomFonts/components/FontFaces.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextField from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({\n  components: { Icon, FontFaces, TextField }\n})\nexport default class FontFamily extends Vue {\n  @Prop()\n  value!: CustomFontFamily;\n\n  @Prop()\n  isOpen!: boolean;\n\n  toggleFaces() {\n    this.$emit(\"open\", !this.isOpen);\n  }\n\n  deleteFontFamily() {\n    this.$emit(\"delete\");\n  }\n\n  fallbackStringHasBeenEdited = false;\n\n  editFallbackString(newFallbackString: string | undefined) {\n    this.fallbackStringHasBeenEdited = true;\n    this.$emit(\"input\", {\n      ...this.value,\n      fallbackString: newFallbackString\n    });\n  }\n\n  editFontFamily(newFontFaces: FontFace[]) {\n    this.$emit(\"input\", {\n      ...this.value,\n      faces: newFontFaces\n    });\n  }\n\n  editCssUrl(newCssUrl: string | undefined) {\n    this.$emit(\"input\", {\n      ...this.value,\n      cssUrl: newCssUrl\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFamily.vue?vue&type=template&id=cf36cfe0&\"\nimport script from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFamily.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VAlert,VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  getFontFamiliesFromCssFile,\n  sendFontsToBackend\n} from \"@/lib/fonts/backend\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { addOrUpdateFontInStore, removeFontFromStore } from \"@/lib/fonts/utils\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport FontFamily from \"@/components/Settings/Preferences/CustomFonts/components/FontFamily.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { isEqual } from \"lodash\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateAlphanumericHyphenUnderscore } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    FontFamily,\n    PreferencesPanel,\n    EmptyStatePreferences,\n    Icon,\n    TextInput,\n    IconButton\n  }\n})\nexport default class CustomFontFamilies extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Ref() readonly cssForm!: HTMLFormElement;\n\n  @Prop()\n  readonly value!: CustomFontFamily[];\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  get validFontFamily() {\n    return validateAlphanumericHyphenUnderscore(this.fontFamily);\n  }\n\n  internalValue = defensiveCopy(this.value);\n  fontFamily: string | undefined = \"\";\n  cssUrl: string | undefined = \"\";\n  validForm = true;\n  validCssForm = true;\n  saveInProgress = false;\n  openedFontIndex = -1;\n\n  showAddForm = false;\n  toggleAddForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  showCssForm = false;\n  toggleCssForm() {\n    this.showCssForm = !this.showCssForm;\n  }\n\n  async applyChanges() {\n    this.saveInProgress = true;\n\n    pipe(\n      await sendFontsToBackend(this.internalValue),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // Replace the cssUrl with the new cssUrl.\n            // Don't rely on indexes being the same since there's no guarantee that's the case\n            const indexOfFontFamilyMatchingIds = this.internalValue.findIndex(\n              fontFamily => fontFamily.id === fontFamilyResponse.fontId\n            );\n            this.internalValue[indexOfFontFamilyMatchingIds].cssUrl =\n              fontFamilyResponse.cssUrl;\n            this.internalValue[indexOfFontFamilyMatchingIds].cssName =\n              fontFamilyResponse.fontRegistrationData.cssName;\n\n            addOrUpdateFontInStore(fontFamilyResponse.fontRegistrationData);\n          });\n          this.$emit(\"input\", this.internalValue);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  openFont(newOpenFontIndex: number) {\n    this.openedFontIndex = newOpenFontIndex;\n  }\n\n  updateFontFamily(newFontFamily: CustomFontFamily, fontIndex: number) {\n    // defensiveCopy is needed here because Vue is not making internalValue deeply reactive\n    // So we need to update the reference for it to work\n    const newValue = defensiveCopy(this.internalValue);\n    newValue[fontIndex] = newFontFamily;\n    this.internalValue = newValue;\n  }\n\n  deleteFontFamily(fontIndex: number) {\n    const newValue = defensiveCopy(this.internalValue);\n    newValue.splice(fontIndex, 1);\n    removeFontFromStore(this.internalValue[fontIndex].id);\n    this.internalValue = newValue;\n  }\n\n  saveNewFontFamily() {\n    if (!this.form.validate() || !this.fontFamily) {\n      return;\n    }\n\n    this.internalValue.push({\n      id: \"custom_font_\" + this.fontFamily.toLowerCase().replace(/ /g, \"_\"),\n      family: this.fontFamily,\n      fallbackString: \"\",\n      cssUrl: \"\",\n      hasExternalCssUrl: false,\n      cssName: this.fontFamily,\n      faces: []\n    });\n\n    this.openedFontIndex = this.internalValue.length - 1;\n    this.fontFamily = \"\";\n    this.form.reset();\n    this.showAddForm = false;\n  }\n\n  async saveCssUrl() {\n    if (!this.cssForm.validate() || !this.cssUrl) {\n      return;\n    }\n\n    this.saveInProgress = true;\n\n    pipe(\n      await getFontFamiliesFromCssFile(this.cssUrl),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // lets only add it if it's not already there\n            const fontIDAlreadyPresent =\n              this.internalValue.findIndex(\n                font => font.id === fontFamilyResponse.fontId\n              ) > -1;\n            if (!fontIDAlreadyPresent) {\n              this.internalValue.unshift({\n                id: fontFamilyResponse.fontId,\n                family: fontFamilyResponse.fontRegistrationData.label,\n                fallbackString:\n                  fontFamilyResponse.fontRegistrationData.fallbackString,\n                cssUrl: fontFamilyResponse.cssUrl,\n                hasExternalCssUrl: true,\n                cssName: fontFamilyResponse.fontRegistrationData.cssName,\n                faces: []\n              });\n            }\n          });\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n\n    this.cssUrl = \"\";\n    this.showCssForm = false;\n  }\n\n  isValidUrl(value: string) {\n    let parsedUrl;\n\n    try {\n      parsedUrl = new URL(value);\n    } catch (error) {\n      return false;\n    }\n\n    return parsedUrl.protocol === \"http:\" || parsedUrl.protocol === \"https:\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomFontFamilies.vue?vue&type=template&id=3cfba241&\"\nimport script from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VBtn,VForm})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"hide-save-button\":true},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"UI Settings\")]},proxy:true},{key:\"content\",fn:function(){return [_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.autoScrollEnabled,\"inset\":\"\",\"label\":\"Auto-scroll to active element\"},on:{\"change\":_vm.setAutoScrollEnabled}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isScaledToFit,\"label\":\"Scale content to fit the screen (zoom)\",\"inset\":\"\"},on:{\"change\":_vm.setScaleToFit}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isDarkMode,\"label\":\"Dark Mode\",\"inset\":\"\"},on:{\"change\":_vm.toggleTheme}})],1),(_vm.displayShowExperimentalElementsSetting)?_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.showExperimentalElements,\"label\":\"Show Experimental Elements\",\"inset\":\"\"},on:{\"change\":_vm.setShowExperimentalElements}})],1):_vm._e(),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.disableNoticeForEmptySSRElements,\"label\":\"Disable Message For Empty SSR Elements\",\"inset\":\"\"},on:{\"change\":_vm.setDisableNoticeForEmptySSRElements}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isShowingIdsInStructurePanel,\"label\":\"Show elements ID in the Structure Panel\",\"inset\":\"\"},on:{\"change\":_vm.setIsShowingIdsInStructurePanel}})],1),_c('div',{staticClass:\"mt-4\"},[_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Panel Positions\")]),_vm._l((_vm.panelsState),function(panel,i){return [_c('div',{key:i,staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(_vm._s(panel.label))]),_c('ButtonBarInput',{attrs:{\"value\":panel.value,\"items\":_vm.panelPositionsAsItems,\"options\":{ mandatory: true }},on:{\"input\":function($event){return _vm.setPanelPosition(panel.id, $event)}}})],1)]}),_c('div',{staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(\"Popout Position\")]),_c('ButtonBarInput',{attrs:{\"value\":_vm.popoutPosition,\"items\":_vm.popoutPositionItems,\"options\":{ mandatory: true }},on:{\"input\":_vm.setPopoutPosition}})],1),_c('div',{staticClass:\"d-flex justify-end mt-4\"},[_c('NiceButton',{attrs:{\"disabled\":_vm.arePanelPositionsDefault},on:{\"click\":_vm.resetUiPanelPositionsToDefault}},[_vm._v(\"Reset to defaults\")])],1)],2)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  closeAllUiPanels,\n  getPanelPositionPreferenceFromLocalStorage,\n  openUiPanel,\n  resetUiPanelPositionsToDefault,\n  savePanelPositionPreferenceToLocalStorage,\n  uiPanelDefaultPositions\n} from \"@/lib/panels/panels\";\nimport ButtonBarInput from \"@/components/Reusable/CustomInputs/ButtonBarInput/ButtonBarInput.vue\";\nimport { PanelPosition, UIPanel, UISettings } from \"@/types/ui\";\nimport {\n  setScaleToFitAndGetSettings,\n  UI_SETTINGS_LOCAL_STORAGE_KEY,\n  uiSettingsDefaults\n} from \"@/lib/ui-preference/ui-preference\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport { writeToLocalStorage } from \"@/util/localstorage\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport isEqual from \"lodash/isEqual\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\n\n@Component({\n  components: { NiceButton, PreferencesPanel, ButtonBarInput, ToggleInput }\n})\nexport default class CustomUiSettings extends Vue {\n  panelsState = this.getPanelsInitialState();\n\n  getPanelsInitialState() {\n    const panels: { id: UIPanel; label: string }[] = [\n      {\n        id: \"add\",\n        label: \"Add\"\n      },\n      {\n        id: \"elementproperties\",\n        label: \"Element Properties\"\n      },\n      {\n        id: \"selectors\",\n        label: \"Selectors\"\n      },\n      {\n        id: \"globalSettings\",\n        label: \"Global Settings\"\n      },\n      {\n        id: \"structure\",\n        label: \"Structure\"\n      },\n      {\n        id: \"history\",\n        label: \"History & Revisions\"\n      }\n    ];\n\n    return panels.map(panel => ({\n      ...panel,\n      value: getPanelPositionPreferenceFromLocalStorage(panel.id)\n    }));\n  }\n\n  setPanelPosition(panel: UIPanel, position: PanelPosition) {\n    const index = this.panelsState.findIndex(\n      panelState => panelState.id === panel\n    );\n\n    this.panelsState[index].value = position;\n\n    savePanelPositionPreferenceToLocalStorage(panel, position);\n    closeAllUiPanels();\n    openUiPanel(panel);\n  }\n\n  resetUiPanelPositionsToDefault() {\n    resetUiPanelPositionsToDefault();\n\n    this.panelsState = this.getPanelsInitialState();\n  }\n\n  get arePanelPositionsDefault() {\n    return isEqual(\n      uiPanelDefaultPositions,\n      this.panelsState.reduce((acc: Record<string, PanelPosition>, panel) => {\n        acc[panel.id] = panel.value;\n        return acc;\n      }, {})\n    );\n  }\n\n  get panelPositionsAsItems() {\n    return [\"left\", \"right\"].map(x => {\n      return {\n        text: x,\n        value: x\n      };\n    });\n  }\n\n  get popoutPositionItems() {\n    return [\n      {\n        text: \"Stacked\",\n        value: \"STACKED\"\n      },\n      {\n        text: \"Stacked (First Visible)\",\n        value: \"STACKED_FIRST_VISIBLE\"\n      },\n      {\n        text: \"Side By Side\",\n        value: \"SIDE_BY_SIDE\"\n      }\n    ];\n  }\n\n  get displayShowExperimentalElementsSetting() {\n    return isBreakdanceDevelopmentEnvironment();\n  }\n\n  get isDarkMode() {\n    return uiStore.settings.theme === \"dark\";\n  }\n\n  get isScaledToFit() {\n    return uiStore.settings.scaleToFit === \"SCALED_TO_FIT\";\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  setScaleToFit(scaleToFit: boolean) {\n    this.setUiSettings(setScaleToFitAndGetSettings(scaleToFit));\n  }\n\n  toggleTheme() {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.theme = this.isDarkMode ? \"light\" : \"dark\";\n\n    this.setUiSettings(settings);\n  }\n\n  setDisableNoticeForEmptySSRElements(disable: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.disableNoticeForEmptySSRElements = disable;\n\n    this.setUiSettings(settings);\n  }\n\n  get disableNoticeForEmptySSRElements() {\n    return uiStore.settings.disableNoticeForEmptySSRElements;\n  }\n\n  get showExperimentalElements() {\n    return uiStore.settings.showExperimentalElements;\n  }\n\n  setShowExperimentalElements(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showExperimentalElements = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setIsShowingIdsInStructurePanel(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showElementIdInStructurePanel = value;\n\n    this.setUiSettings(settings);\n  }\n\n  get autoScrollEnabled() {\n    return uiStore.settings.autoScrollEnabled;\n  }\n\n  get popoutPosition() {\n    return uiStore.settings.popoutPosition;\n  }\n\n  setAutoScrollEnabled(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.autoScrollEnabled = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setPopoutPosition(value: string) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.popoutPosition = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setUiSettings(settings: UISettings) {\n    const maybeSettingsAsJsonString = jsonStringifyOrUndefined({\n      ...uiSettingsDefaults,\n      ...settings\n    });\n    if (maybeSettingsAsJsonString) {\n      writeToLocalStorage(\n        UI_SETTINGS_LOCAL_STORAGE_KEY,\n        maybeSettingsAsJsonString\n      );\n    }\n\n    uiStore.setSettings(settings);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomUiSettings.vue?vue&type=template&id=03ad341f&\"\nimport script from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { Preferences } from \"@/types/preferences\";\nimport * as data from \"@/lib/wordpress/data\";\nimport CustomBreakpointsPanel from \"./Breakpoints/CustomBreakpointsPanel.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport CustomFontFamilies from \"@/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport CustomUiSettings from \"@/components/Settings/Preferences/CustomUiSettings.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    CustomUiSettings,\n    CustomFontFamilies,\n    CustomBreakpointsPanel,\n    Loading\n  }\n})\nexport default class PreferencesModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  @Ref() readonly customFontFamiliesPanel!: CustomFontFamilies;\n  @Ref() readonly customBreakpointsPanel!: CustomBreakpointsPanel;\n\n  tab = 0;\n  currentTab = 0;\n\n  uiSettingsTab = 0;\n  fontFamiliesTab = 1;\n  customBreakpointsTab = 2;\n\n  get preferences() {\n    return configStore.preferences;\n  }\n\n  get customBreakpoints() {\n    return this.preferences.customBreakpoints;\n  }\n\n  get customFontFamilies() {\n    return configStore.preferences.customFonts;\n  }\n\n  updateBreakpoints(newBreakpoints: Breakpoint[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customBreakpoints = newBreakpoints;\n    this.save(newPrefs);\n  }\n\n  updateCustomFontFamilies(newCustomFontFamilies: CustomFontFamily[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customFonts = newCustomFontFamilies;\n    this.save(newPrefs);\n  }\n\n  handleClickOutside() {\n    this.checkForUnsavedChanges();\n    if (!this.hasUnsavedChanges) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    const exit = confirm(\"Exit without saving?\");\n    if (exit) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    return this;\n  }\n\n  async handleChangeTab() {\n    this.checkForUnsavedChanges();\n    if (this.hasUnsavedChanges) {\n      const exit = confirm(\"Exit without saving?\");\n      if (!exit) {\n        await this.$nextTick();\n        this.tab = this.currentTab;\n        return true;\n      }\n    }\n    this.currentTab = this.tab;\n    return false;\n  }\n\n  saveInProgress = false;\n\n  async save(newPrefs: Preferences) {\n    this.saveInProgress = true;\n\n    pipe(\n      await data.saveToWP(\"preferences\", newPrefs),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        () => {\n          configStore.setPreferences(newPrefs);\n        }\n      )\n    );\n    this.saveInProgress = false;\n    this.checkForUnsavedChanges();\n  }\n\n  hasUnsavedChanges = false;\n  checkForUnsavedChanges() {\n    if (this.currentTab === this.fontFamiliesTab) {\n      this.hasUnsavedChanges = this.customFontFamiliesPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    if (this.currentTab === this.customBreakpointsTab) {\n      this.hasUnsavedChanges = this.customBreakpointsPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    return (this.hasUnsavedChanges = false);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesModal.vue?vue&type=template&id=b306510c&\"\nimport script from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VDialog,VProgressCircular,VTab,VTabs})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"keyboard-shortcuts-help-modal\",\"value\":_vm.open,\"max-width\":\"850\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[_c('v-card-text',[_c('table',{staticClass:\"styled-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Shortcut\")]),_c('th',[_vm._v(\"Description\")])])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_A)))]),_c('td',[_vm._v(\"Open add elements panel\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_B)))]),_c('td',[_vm._v(\"Open design sets modal\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_S)))]),_c('td',[_vm._v(\"Save\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_Z)))]),_c('td',[_vm._v(\"Undo\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_Z))+\" \")]),_c('td',[_vm._v(\"Redo\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_C)))]),_c('td',[_vm._v(\"Copy the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_V)))]),_c('td',[_vm._v(\"Paste copied element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_D)))]),_c('td',[_vm._v(\"Duplicate the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.ESC)))]),_c('td',[_vm._v(\"de-activate the active element \"),_c('b',[_vm._v(\"or\")]),_vm._v(\" close modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.BACKSPACE))),_c('br'),_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.DELETE))+\" \")]),_c('td',[_vm._v(\"Delete active element\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_OPTION_R))+\" \")]),_c('td',[_vm._v(\"Cycle to the next breakpoint\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_SLASH))),_c('br'),_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_QUESTION))+\" \")]),_c('td',[_vm._v(\"Show keyboard shortcuts help modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_S))+\" \")]),_c('td',[_vm._v(\"Switch between \\\"scale to fit\\\" and \\\"actual size\\\" content\")])])])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\n\n@Component({\n  components: {}\n})\nexport default class KeyboardShortcutsHelpModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  get keyboardShortcuts() {\n    return KEYBOARD_SHORTCUTS;\n  }\n\n  getKeyboardShortcutValue(keys: string[]) {\n    const isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    let keyCombo = keys ? keys[0] : \"\";\n    if (!isMacLike && keys.length == 2) {\n      keyCombo = keys[1];\n    }\n\n    return keyCombo\n      .toUpperCase()\n      .split(\"+\")\n      .join(\" + \");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KeyboardShortcutsHelpModal.vue?vue&type=template&id=08535d12&\"\nimport script from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VCard,VCardText,VDialog})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio\",style:(_vm.styles)},[_c('ElementStudioWidthAdjustmentBar',{on:{\"change\":_vm.adjustWidth}}),_c('div',{staticClass:\"element-studio-wrapper\",attrs:{\"data-test-id\":\"element-studio-wrapper\"}},[(_vm.isProdEnv || true)?_c('div',{staticClass:\"element-studio__beta-warning\"},[_vm._m(0)]):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'element')?_c('ElementStudioElements',{attrs:{\"value\":_vm.data,\"width\":_vm.width},on:{\"input\":_vm.updateData,\"width\":_vm.updateWidth,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'macro')?_c('ElementStudioMacros',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'preset')?_c('ElementStudioPresets',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://breakdance.com/documentation/developers/element-studio/\"}},[_vm._v(\"Element Studio is in alpha. Use at your own risk.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ElementStudioWidthAdjustmentBarAdjustmentHandle',{staticClass:\"element-studio-width-adjustment-bar\",attrs:{\"on-dragging\":_vm.dragging}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g(_vm._b({staticClass:\"breakdance-element-studio-adjustment-handle\",on:{\"mousedown\":_vm.dragStart}},'div',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ElementStudioWidthAdjustmentBarAdjustmentHandle extends Vue {\n  @Prop()\n  onDragging!: (e: MouseEvent, lastMouseX?: number) => void;\n\n  lastMouseX = 0;\n\n  draggingFunc(e: MouseEvent) {\n    e.preventDefault();\n\n    this.onDragging(e, this.lastMouseX);\n    this.lastMouseX = e.clientX;\n  }\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    document.addEventListener(\"mousemove\", this.draggingFunc);\n\n    document.addEventListener(\"mouseup\", this.dragEnd);\n    this.lastMouseX = e.clientX;\n\n    /* Without this, once the mouse goes over the iframe, the mousemove event stops firing\n     * Because the cursor would be inside the iframe */\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"none\";\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n\n    document.removeEventListener(\"mousemove\", this.draggingFunc);\n    document.removeEventListener(\"mouseup\", this.dragEnd);\n\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"auto\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=template&id=8dd64aaa&\"\nimport script from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBarAdjustmentHandle from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue\";\n\n@Component({\n  components: { ElementStudioWidthAdjustmentBarAdjustmentHandle }\n})\nexport default class ElementStudioWidthAdjustmentBar extends Vue {\n  dragging(e: MouseEvent, lastMouseX: number) {\n    // -1 to move to the opposite side (it does make sense)\n    this.$emit(\"change\", -1 * (e.clientX - lastMouseX));\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=template&id=6e0cbd07&\"\nimport script from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-top-bar d-flex\"},[(_vm.showNewItemDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.saveLocations,\"item-type\":_vm.itemType},on:{\"input\":_vm.saveNewItem,\"close\":function($event){_vm.showNewItemDialog = false}}}):_vm._e(),_c('div',{staticClass:\"d-flex ml-4\"},[(!_vm.value)?[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"disabled\":_vm.itemsSlug.length === 0,\"data-test-id\":\"element-studio-open-element\"}},'v-btn',attrs,false),on),[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"OpenFolderIcon\",\"size\":\"18\"}}),_vm._v(\" Open \"+_vm._s(_vm.itemType)+\" \")],1)]}}],null,false,4260211493)},[_c('v-list',{staticStyle:{\"max-height\":\"500px\",\"overflow\":\"auto\"}},[_c('v-text-field',{staticClass:\"breakdance-element-studio-searchbar\",staticStyle:{\"padding\":\"12px 16px\",\"margin-bottom\":\"24px\"},attrs:{\"label\":(\"Search \" + _vm.itemType + \"s\"),\"flat\":\"\",\"autofocus\":\"\"},model:{value:(_vm.availableItemsSearch),callback:function ($$v) {_vm.availableItemsSearch=$$v},expression:\"availableItemsSearch\"}}),_vm._l((_vm.availableItemsBySearch),function(slug,i){return _c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.openItem(slug)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(slug)+\" \")])],1)})],2)],1),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"text\":\"\",\"data-test-id\":\"element-studio-new-element-button\"},on:{\"click\":_vm.handleNewItem}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"AddFileIcon\"}}),_vm._v(\" New \"+_vm._s(_vm.itemType)+\" \")],1)]:_vm._e(),(_vm.value)?[_c('div',{staticClass:\"d-flex align-center flex-wrap\"},[_c('div',{staticClass:\"mr-2 element-studio-element-name\"},[_vm._v(\" \"+_vm._s(_vm.itemName)+\" \")]),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',[(_vm.value.directoryPath && _vm.canSaveOrIsAdvancedUser)?_c('NiceButton',_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click($event)},\"click\":function($event){// https://github.com/vuetifyjs/vuetify/issues/9235#issuecomment-538504795\n                  // Use right click instead of left click to open the menu by @contextmenu.prevent\n                  // Adding comment here cuz I can't above\n                  _vm.saveOverwrite(false)}}},'NiceButton',attrs,false),[_vm._v(\" Save \")]):(!_vm.value.directoryPath || _vm.value.onlyForAdvancedUsers)?_c('NiceButton',_vm._g(_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click($event)}}},'NiceButton',attrs,false),on),[_vm._v(\" Save \")]):_vm._e()],1)]}}],null,false,4107073749)},[_c('v-list',[(_vm.value.directoryPath)?[(_vm.showAdvancedFeatures)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save & Bypass Psalm...\")])])],1):(_vm.canSaveOrIsAdvancedUser)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save\")])])],1):_vm._e()]:_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save A Copy In...\")])])],1),_vm._l((_vm.saveLocations),function(saveLocation,i){return [(_vm.showSaveLocation(saveLocation))?_c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveAs(saveLocation)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(saveLocation.label)+\" » \")])],1):_vm._e()]})],2)],1),(_vm.value && _vm.value.directoryPath)?_c('v-dialog',{attrs:{\"max-width\":\"360\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\n                  var attrs = ref.attrs;\nreturn [_c('NiceButton',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"elevation\":\"0\",\"data-test-id\":\"element-studio-delete-button\",\"title\":\"Delete element\",\"left-icon\":\"TrashIcon\"}},'NiceButton',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,false,2278590123),model:{value:(_vm.deleteDialog),callback:function ($$v) {_vm.deleteDialog=$$v},expression:\"deleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-1\"},[_vm._v(\" Delete \\\"\"+_vm._s(_vm.itemName)+\"\\\" \"+_vm._s(_vm.itemType)+\"? \")]),_c('v-card-text',[_vm._v(\"This action cannot be undone.\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.deleteDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\" Delete \")])],1)],1)],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"data-test-id\":\"element-studio-close-element\",\"title\":(\"Close \" + _vm.itemType)},on:{\"click\":_vm.closeItem}},[_c('Icon',{attrs:{\"icon\":\"CloseSquareIcon\"}})],1)],1)]:_vm._e()],2),_c('v-spacer'),(_vm.value)?_c('v-btn',{staticClass:\"mr-1 element-studio-switch-mode\",attrs:{\"icon\":\"\",\"title\":\"Switch mode\",\"data-test-id\":\"element-studio-topbar-switch-mode\"},on:{\"click\":_vm.switchMode}},[_c('Icon',{attrs:{\"icon\":\"TableColumnIcon\",\"size\":\"18\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"mr-4 element-studio-close-panel\",attrs:{\"icon\":\"\",\"title\":\"Close Element Studio Panel\"},on:{\"click\":_vm.closePanel}},[_c('Icon',{attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"18\"}})],1),_c('v-dialog',{attrs:{\"value\":_vm.closeItemOrPanelDialog,\"persistent\":\"\",\"max-width\":\"400\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" You have unsaved changes \")]),_c('v-card-text',[_vm._v(\" Please save your changes before closing this \"+_vm._s(_vm.itemType)+\", or discard your changes. \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.discardChanges}},[_vm._v(\" Discard my changes \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.closeItemOrPanelDialog = false}}},[_vm._v(\" I'll save them \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"400\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Create new \"+_vm._s(_vm.itemType)+\" \")]),_c('v-card-text',{staticClass:\"pb-1\"},[_c('div',[_vm._v(\"Please enter the \"+_vm._s(_vm.itemType)+\"'s name.\")])]),_c('v-card-text',[_c('v-text-field',{attrs:{\"rules\":[_vm.nameIsValid],\"label\":\"Name\"},model:{value:(_vm.newItemName),callback:function ($$v) {_vm.newItemName=$$v},expression:\"newItemName\"}}),(!_vm.saveLocations.length)?[_c('b',[_vm._v(\"Error: no registered saving locations. Using the \"),_c('a',{attrs:{\"href\":\"https://github.com/soflyy/breakdance-custom-elements\"}},[_vm._v(\"Breakdance Custom Elements\")]),_vm._v(\" plugin will automatically register a saving location.\")])]:_c('v-radio-group',{attrs:{\"mandatory\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" Select a saving location \")]},proxy:true}]),model:{value:(_vm.newItemSaveLocation),callback:function ($$v) {_vm.newItemSaveLocation=$$v},expression:\"newItemSaveLocation\"}},[_vm._l((_vm.saveLocations),function(saveLocation){return [(_vm.showSaveLocation(saveLocation))?_c('v-radio',{key:saveLocation.directoryPath,attrs:{\"label\":saveLocation.label,\"value\":saveLocation}}):_vm._e()]})],2)],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeNewItemDialog}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.nameIsValid(_vm.newItemName) !== true || !_vm.newItemSaveLocation},on:{\"click\":_vm.saveNewItem}},[_vm._v(\" Create \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { isValidItemName } from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class ElementStudioSaveNewDialog extends Vue {\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  newItemDialog = false;\n  newItemName = \"\";\n  newItemSaveLocation: ElementStudioSaveLocation | false = false;\n\n  nameIsValid(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  saveNewItem() {\n    this.$emit(\"input\", {\n      ...this.newItemSaveLocation,\n      name: this.newItemName\n    });\n\n    this.closeNewItemDialog();\n  }\n\n  closeNewItemDialog() {\n    this.newItemDialog = false;\n    this.newItemName = \"\";\n    this.newItemSaveLocation = false;\n\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSaveNewDialog.vue?vue&type=template&id=fcdec402&\"\nimport script from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VRadio,VRadioGroup,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  CurrentlyEditingItem,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  ElementStudioSaveLocationWithName,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\n\n@Component({\n  components: { ElementStudioSaveNewDialog, NiceButton, Icon, Dropdown }\n})\nexport default class ElementStudioTopBar extends Vue {\n  @Prop()\n  value!: CurrentlyEditingItem | false;\n\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  hasUnsavedChanges!: boolean;\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  @Prop()\n  itemName!: string;\n\n  @Prop()\n  saveInProgress!: boolean;\n\n  @Prop()\n  itemsSlug!: string[];\n\n  deleteDialog = false;\n  availableItemsSearch = \"\";\n  closeItemOrPanelDialog: false | \"panel\" | \"item\" = false;\n  showNewItemDialog = false;\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  mounted() {\n    document.addEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => this.hasUnsavedChanges\n    );\n  }\n\n  destroyed() {\n    document.removeEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n\n  handleNewItem() {\n    this.showNewItemDialog = true;\n  }\n\n  get availableItemsBySearch() {\n    return this.itemsSlug.filter(slug =>\n      slug\n        .toLowerCase()\n        .includes(this.availableItemsSearch.toLowerCase().replace(/ /g, \"\"))\n    );\n  }\n\n  discardChanges() {\n    if (this.closeItemOrPanelDialog === \"panel\") {\n      uiStore.toggleElementStudio();\n    }\n\n    this.closeItemOrPanelDialog = false;\n\n    this.$emit(\"discardChanges\");\n  }\n\n  mainAppSaveButtonClicked() {\n    if (this.hasUnsavedChanges) {\n      if (confirm(`Also save your Element Studio ${this.itemType}?`)) {\n        this.saveOverwrite(false);\n      }\n    }\n  }\n\n  openItem(itemSlug: string) {\n    this.availableItemsSearch = \"\";\n    this.$emit(\"open\", itemSlug);\n  }\n\n  closeItem() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"item\";\n    } else {\n      this.$emit(\"reset\");\n    }\n  }\n\n  closePanel() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"panel\";\n    } else {\n      uiStore.toggleElementStudio();\n    }\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    this.$emit(\"saveNew\", newItem);\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    this.$emit(\"saveAs\", saveLocation);\n  }\n\n  saveOverwrite(bypassPsalm: boolean) {\n    if (\n      !this.value ||\n      !this.value.directoryPath ||\n      !this.canSaveOrIsAdvancedUser\n    ) {\n      return;\n    }\n\n    this.$emit(\"saveOverride\", bypassPsalm);\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get canSaveOrIsAdvancedUser() {\n    return (\n      this.value &&\n      (!this.value.onlyForAdvancedUsers || this.showAdvancedFeatures)\n    );\n  }\n\n  deleteItem() {\n    this.deleteDialog = false;\n    this.$emit(\"delete\");\n  }\n\n  switchMode() {\n    this.$emit(\"switchMode\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTopBar.vue?vue&type=template&id=7e08db06&\"\nimport script from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VList,VListItem,VListItemTitle,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingElement\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.elementsSlug,\"value\":_vm.currentlyEditingElement,\"itemType\":\"element\",\"item-name\":_vm.currentlyEditingElement ? _vm.currentlyEditingElement.element.name : '',\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openElement,\"switchMode\":_vm.switchMode,\"delete\":_vm.deleteElement,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingElement}}),(_vm.currentlyEditingElement)?_c('div',{staticClass:\"element-studio-content\"},[(_vm.mode === 'split-vertical')?[_c('div',{staticClass:\"panel-50 panel-50-top-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]:(_vm.mode === 'split-horizontal')?[_c('div',{staticClass:\"d-flex flex-row\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"panel-50-h panel-50-h-first-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50-h vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)])]:[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\",staticStyle:{\"height\":\"100%\"}},[(_vm.showNewMacroDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.available.saveLocations,\"item-type\":'macro'},on:{\"input\":_vm.saveNewMacro,\"close\":function($event){_vm.showNewMacroDialog = false}}}):_vm._e(),_c('Dropdown',{attrs:{\"value\":!!_vm.contextMenu,\"absolute\":true,\"position-x\":_vm.contextMenu.x,\"position-y\":_vm.contextMenu.y,\"transition\":false},on:{\"input\":function($event){_vm.contextMenu = false}},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true},nativeOn:{\"click\":function($event){return _vm.handleCreateMacro($event)}}},[_c('v-list-item-title',[_vm._v(\"Make into a macro\")])],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.tab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#content\",\"title\":\"Content\",\"data-test-id\":\"element-studio-content-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#design\",\"title\":\"Design\",\"data-test-id\":\"element-studio-design-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#html\",\"title\":\"HTML\",\"data-test-id\":\"element-studio-html-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#css\",\"title\":\"CSS\",\"data-test-id\":\"element-studio-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"Css3Icon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#defaultCss\",\"title\":\"Default CSS\",\"data-test-id\":\"element-studio-default-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CssIcon\",\"size\":\"16\"}})],1),(_vm.nestingRuleTypeIsContainer)?_c('v-tab',{attrs:{\"href\":\"#default-elements\",\"title\":\"Default Elements\",\"data-test-id\":\"element-studio-default-elements\"}},[_c('Icon',{attrs:{\"icon\":\"BoxIcon\",\"size\":\"16\"}})],1):_vm._e(),_c('v-tab',{attrs:{\"href\":\"#attributes\",\"title\":\"HTML Attributes\",\"data-test-id\":\"element-studio-attributes\"}},[_c('Icon',{attrs:{\"icon\":\"AttributesIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\",\"data-test-id\":\"element-studio-property-paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#dependencies\",\"title\":\"Dependencies\",\"data-test-id\":\"element-studio-dependencies-tab\"}},[_c('Icon',{attrs:{\"icon\":\"DownloadFileIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#actions\",\"title\":\"Actions\",\"data-test-id\":\"element-studio-actions-tab\"}},[_c('Icon',{attrs:{\"icon\":\"ActionsIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\",\"data-test-id\":\"element-studio-settings-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CogsIcon\",\"size\":\"16\"}})],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[(_vm.tab === 'settings')?_c('div',[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\"},[_vm._v(\"Slug\")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.element.slug))])],1)],1),_c('div',{staticClass:\"px-4 pt-2\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"value\":_vm.element.name,\"data-test-id\":\"element-studio-name-input\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateElementName}}),(_vm.nameHasChanged)?_c('v-btn',{staticClass:\"ml-3\",attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.updateSlug}},[_vm._v(\" Update slug \")]):_vm._e()],1),_c('v-text-field',{staticClass:\"mb-4\",attrs:{\"label\":\"Class Name\",\"placeholder\":\"the_best_class\",\"value\":_vm.element.className || '',\"data-test-id\":\"element-studio-classname-input\",\"persistent-hint\":\"\",\"hint\":\"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS\",\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":_vm.updateClassName}}),_c('v-select',{attrs:{\"items\":_vm.elementCategories,\"label\":\"Category\",\"value\":_vm.cleanElement.category},on:{\"input\":function($event){return _vm.updateElementValue('category', $event)}}}),_c('div',{staticClass:\"breakdance-element-studio-element-badges\"},[_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.backgroundColor : false,\"label\":\"Badge Background\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.backgroundColor', $event)}}}),_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.textColor : false,\"label\":\"Badge Text\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.textColor', $event)}}}),_c('v-text-field',{attrs:{\"label\":\"Badge Label\",\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.label : false},on:{\"input\":function($event){return _vm.updateElementValue('badge.label', $event)}}}),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateElementValue('badge', false)}}},[_vm._v(\"clear badge\")])],1),_c('h3',[_vm._v(\"HTML Tag options\")]),_c('div',{staticClass:\"breakdance-element-studio__html-tags\"},[_c('v-autocomplete',{attrs:{\"label\":\"Default Tag\",\"value\":_vm.cleanElement.htmlTag.default,\"hint\":\"Tag of the root element\",\"clearable\":\"\",\"items\":_vm.defaultTag},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.default', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Tag Options\",\"value\":_vm.cleanElement.htmlTag.options,\"items\":_vm.htmlTags,\"multiple\":true,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.options', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Get the Tag from a Control's path\",\"value\":_vm.cleanElement.htmlTag.pathToControl || '',\"items\":_vm.pathsToAllControls,\"hint\":\"This will disable the 'Settings -> Html -> Tag' control\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.pathToControl', $event)}}})],1),_c('h3',[_vm._v(\"UI Icon\")]),_c('div',{staticClass:\"mb-5 d-flex align-center\"},[(_vm.showAdvancedFeatures)?[_c('ToggleInput',{attrs:{\"value\":_vm.useLocalIcon},on:{\"input\":_vm.updateUseLocalIcon}}),_c('span',{staticClass:\"mr-4\"},[_vm._v(\"Local\")])]:_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('ElementIcon',{staticClass:\"mr-2\",attrs:{\"icon\":_vm.cleanElement.uiIcon || 'SquareIcon',\"size\":\"16\"}}),(_vm.useLocalIcon && _vm.showAdvancedFeatures)?_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.cleanElement.uiIcon || 'SquareIcon'},on:{\"input\":_vm.updateUiIcon}}):_c('v-text-field',{attrs:{\"label\":\"SVG code for icon\",\"value\":_vm.cleanElement.uiIcon,\"data-test-id\":\"element-studio-ui-icon-input\"},on:{\"input\":_vm.updateUiIcon}})],1)],2),_c('v-text-field',{attrs:{\"label\":\"UI Order (number)\",\"value\":_vm.cleanElement.order},on:{\"input\":_vm.updateUiOrder}}),_c('h3',[_vm._v(\"Nesting rules\")]),_c('v-autocomplete',{attrs:{\"items\":_vm.containerRestrictedElements,\"label\":\"Element to be a direct child of\",\"hint\":\"This element will only be allowed as a direct child of the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADirectChildOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADirectChildOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.elementsThisElementIsAllowedToBeInsideOf,\"label\":\"Element to be a descendant of\",\"hint\":\"This element will only be allowed inside the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADescendantOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADescendantOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.allElementSlugs,\"label\":\"Disallow if others are present\",\"hint\":\"This element will not be allowed on a page if one of the following elements is already present on the page\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.notAllowedWhenNodeTypeIsPresentInTree',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('h3',[_vm._v(\"Misc options\")]),_c('v-select',{attrs:{\"items\":_vm.elementType,\"label\":\"Element Type\",\"value\":_vm.cleanElement.nestingRule.type,\"hint\":\"Only change to create complex elements\",\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('nestingRule.type', $event)}}}),_c('v-combobox',{staticClass:\"mt-3\",attrs:{\"label\":\"Required plugins\",\"items\":_vm.requiredPluginItems,\"hide-details\":\"\",\"value\":_vm.cleanElement.settings ? _vm.cleanElement.settings.requiredPlugins : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n              'settings.requiredPlugins',\n              $event && $event.length ? $event : undefined\n            )}}}),_c('v-checkbox',{attrs:{\"label\":\"Element depends on global scripts to work\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.dependsOnGlobalScripts,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.dependsOnGlobalScripts', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Element has dependencies as part of its HTML (only for elements with complex SSR)\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.withDependenciesInHtml,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.withDependenciesInHtml', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Experimental Element?\",\"input-value\":_vm.cleanElement.experimental,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('experimental', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Bypass Pointer Events\",\"hint\":\"Use this if clicking on the element doesn't active it, but instead clicks something inside of it\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings && _vm.cleanElement.settings.bypassPointerEvents},on:{\"change\":function($event){return _vm.updateElementValue('settings.bypassPointerEvents', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Share props with SSR children\",\"hint\":\"Use this if you need to access the properties data from this element in a child SSR element.\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.sharePropsWithSSRChildren},on:{\"change\":function($event){return _vm.updateElementValue('settings.shareStateWithChildSSR', !!$event)}}}),_c('div',{staticClass:\"pt-4\"},[_c('h3',[_vm._v(\"Add panel rules\")]),_c('v-checkbox',{attrs:{\"label\":\"Always hide element from the Add Panel\",\"input-value\":_vm.cleanElement.addPanelRules &&\n                _vm.cleanElement.addPanelRules.alwaysHide,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('addPanelRules.alwaysHide', !!$event)}}}),(\n              !_vm.cleanElement.addPanelRules ||\n                !_vm.cleanElement.addPanelRules.alwaysHide\n            )?[_c('v-combobox',{attrs:{\"label\":\"Allowed post type\",\"items\":['breakdance_template'],\"hide-details\":\"\",\"value\":_vm.cleanElement.addPanelRules\n                  ? _vm.cleanElement.addPanelRules.allowedPostTypes\n                  : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n                  'addPanelRules.allowedPostTypes',\n                  $event && $event.length ? $event : undefined\n                )}}})]:_vm._e()],2),_c('ElementStudioDefaultProperties',{staticClass:\"my-8\",attrs:{\"elementSlug\":_vm.cleanElement.slug,\"value\":_vm.cleanElement.defaultProperties},on:{\"input\":function($event){return _vm.updateElementValue('defaultProperties', $event)}}})],1)],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'design'),expression:\"tab === 'design'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"design\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'content'),expression:\"tab === 'content'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"content\"}})],1),(_vm.tab === 'html')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.template,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateElementValue('template', $event || '')}}})],1):_vm._e(),(_vm.tab === 'css')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.cssTemplate,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('cssTemplate', $event || '')}}})],1):_vm._e(),(_vm.tab === 'defaultCss')?_c('div',[_c('div',{staticClass:\"px-4 py-2\"},[_vm._v(\" Element's class: \"),_c('span',{staticClass:\"font-weight-bold mr-2\"},[_vm._v(_vm._s(_vm.elementClass))]),_c('CopyButton',{attrs:{\"value-to-copy\":'.breakdance ' + _vm.elementClass}})],1),_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.defaultCss,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('defaultCss', $event || '')}}})],1):_vm._e(),(_vm.nestingRuleTypeIsContainer)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'default-elements'),expression:\"tab === 'default-elements'\"}],staticClass:\"studio-default-elements-panel\"},[_c('ElementStudioDefaultElements',{attrs:{\"value\":_vm.cleanElement.defaultChildren,\"parent-element-slug\":_vm.cleanElement.slug},on:{\"input\":function($event){return _vm.updateElementValue('defaultChildren', $event ? $event : '')}}})],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'attributes'),expression:\"tab === 'attributes'\"}],staticClass:\"studio-dependencies-panel\"},[_vm._v(\" Attributes are added to the container of the element \"),_c('ElementStudioAttributes',{attrs:{\"value\":_vm.cleanElement.attributes},on:{\"input\":function($event){return _vm.updateElementValue('attributes', $event)}}}),_c('br'),_vm._v(\" Classes are added to the container of the element \"),_c('ElementStudioAdditionalClasses',{attrs:{\"value\":_vm.cleanElement.additionalClasses || []},on:{\"input\":function($event){return _vm.updateElementValue('additionalClasses', $event)}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'prop-paths'),expression:\"tab === 'prop-paths'\"}]},[_c('ElementStudioManagePropertyPaths',{attrs:{\"value\":_vm.cleanElement}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'dependencies'),expression:\"tab === 'dependencies'\"}],staticClass:\"studio-dependencies-panel\"},[_c('ElementStudioDependencies',{attrs:{\"value\":_vm.cleanElement.dependencies}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'actions'),expression:\"tab === 'actions'\"}]},[_c('ElementStudioAction',{attrs:{\"action-key\":\"onPropertyChange\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after one of this element's property changes (a value in a control) \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"control's path\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"design.background.color\")]),_vm._v(\": action will only run for that path. \"),_c('code',[_vm._v(\"design.background.*\")]),_vm._v(\": action will run for any control below 'background' \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMovedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element is moved in the canvas \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"element's and moved-on element's type \")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Text\")]),_vm._v(\": action will only run if element being moved is of that type, \"),_c('b',[_vm._v(\"OR\")]),_vm._v(\" if the element was moved onto an element with that type. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onAfterDeletedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs AFTER this element was deleted \"),_c('br')]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"deleted element's parent type\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Section\")]),_vm._v(\": action will only run if the deleted element was inside a Section element. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onBeforeDeletingElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs BEFORE this element is deleted \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMountedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element renders in the canvas \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onCreatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after adding this element to the canvas for the first time \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onActivatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after the element is activated (selected) \")]},proxy:true}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('draggable',{attrs:{\"value\":_vm.value[this.sectionName]},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value[this.sectionName]),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"index\":i,\"path\":(_vm.sectionName + \"[\" + i + \"]\"),\"parentPath\":_vm.sectionName,\"twigParentPath\":_vm.section}})}),1),_c('div',{staticClass:\"text-center py-4\"},[_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control-section\"},on:{\"click\":_vm.addSection}},[_vm._v(\" Add Control Section \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]),(_vm.canPaste)?_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.handlePaste}},[_vm._v(\" Paste \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showNewPresetDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"item-type\":'preset',\"save-locations\":_vm.elementStudioData.saveLocations},on:{\"input\":_vm.saveNewPreset,\"close\":function($event){_vm.showNewPresetDialog = false}}}):_vm._e(),_c('div',{class:_vm.classList},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState[_vm.index],\"disableToggle\":_vm.isPresetSection},on:{\"toggle\":function($event){return _vm.toggleAccordion(_vm.index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-row justify-space-between align-center\",attrs:{\"data-test-id\":\"element-studio-control-accordion\"}},[(_vm.value.options.type !== 'section' || _vm.isPresetSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open Twig Code Helper\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"BracketsIcon\"}})],1)]}}],null,false,1714806599),model:{value:(_vm.codeHelpOpen),callback:function ($$v) {_vm.codeHelpOpen=$$v},expression:\"codeHelpOpen\"}},[_c('v-card',{staticClass:\"element-studio-poppy-card\",staticStyle:{\"width\":\"400px\",\"height\":\"300px\"}},[_c('TwigCodeHelper',{key:_vm.keyToRerenderCodeHelp,attrs:{\"control\":_vm.value,\"twigParentPath\":_vm.twigParentPath,\"inRepeater\":_vm.isParentARepeater},on:{\"close\":function($event){_vm.codeHelpOpen = false}}})],1)],1):_vm._e(),_c('input',{staticClass:\"element-studio-control-label-input\",attrs:{\"placeholder\":\"Label\"},domProps:{\"value\":_vm.value.label},on:{\"click\":function($event){$event.stopPropagation();},\"focusout\":_vm.updateLabelAndSlugOnFocusOut}}),(_vm.isPresetSection)?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.presetSectionSlug,\"items\":_vm.availablePresetSections,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updatePresetSectionSlug}}):_vm._e(),(_vm.value.options.type !== 'section')?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.value.options.type,\"items\":_vm.controlTypes,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updateControlType}}):_vm._e(),(!_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make this control's value available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when this control's value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),(_vm.value.options.type === 'alert_box')?[_c('ElementStudioAlertBoxOptions',{attrs:{\"value\":_vm.value.options.alertBoxOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'alertBoxOptions')}}})]:_vm._e(),(_vm.value.options.type === 'date_picker')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Date picker options\")]),_c('DropdownInput',{attrs:{\"value\":_vm.value.options.datePickerOptions\n                      ? Object.keys(_vm.value.options.datePickerOptions)[0]\n                      : '',\"items\":_vm.datePickerOptions,\"clearable\":\"\"},on:{\"input\":function($event){\n                      var _obj;\nreturn _vm.updateOptions(\n                      ( _obj = {}, _obj[$event] = $event, _obj ),\n                      'datePickerOptions'\n                    )}}})]:_vm._e(),(\n                  _vm.value.options.type === 'multiselect' ||\n                    _vm.value.options.type === 'dropdown' ||\n                    _vm.value.options.type === 'button_bar'\n                )?[_c('ElementStudioDropdownOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.dropdownOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'dropdownOptions')},\"updateDropdownItems\":_vm.updateDropdownItems,\"updateDropdownItem\":_vm.updateDropdownItem}})]:_vm._e(),(_vm.value.options.type === 'button_bar')?[_c('v-switch',{attrs:{\"label\":\"Big Button Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.size === 'big' &&\n                      _vm.value.options.buttonBarOptions.layout === 'default',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsSize}}),_c('v-switch',{attrs:{\"label\":\"Multiline Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.layout === 'multiline' &&\n                      _vm.value.options.buttonBarOptions.size === 'small',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsLayout}})]:_vm._e(),(_vm.value.options.type === 'trigger_action_button')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Trigger action button options\")]),_c('TextInput',{staticClass:\"mr-3 d-inline-block\",attrs:{\"label\":\"Button Text\",\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.text},on:{\"input\":function($event){return _vm.updateOptions(\n                      Object.assign({}, _vm.value.options.triggerActionsButtonOptions,\n                        {text: $event || ''}),\n                      'triggerActionsButtonOptions'\n                    )}}}),_c('ElementStudioIconsAutocomplete',{staticClass:\"d-inline-block\",attrs:{\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.icon},on:{\"input\":function($event){return _vm.updateOptions(\n                      Object.assign({}, _vm.value.options.triggerActionsButtonOptions,\n                        {icon: $event}),\n                      'triggerActionsButtonOptions'\n                    )}}})]:_vm._e(),(_vm.isRepeater)?[_c('ElementStudioRepeaterOptions',{attrs:{\"control\":_vm.value,\"value\":_vm.value.options.repeaterOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'repeaterOptions')}}})]:_vm._e(),(_vm.value.options.type === 'unit')?[_c('ElementStudioUnitOptions',{attrs:{\"value\":_vm.value.options.unitOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'unitOptions')}}})]:_vm._e(),(_vm.value.options.type === 'wpmedia')?[_c('ElementStudioMediaOptions',{attrs:{\"value\":_vm.value.options.mediaOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaOptions')}}})]:_vm._e(),(_vm.value.options.type === 'video')?[_c('ElementStudioVideoOptions',{attrs:{\"value\":_vm.value.options.videoOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'videoOptions')}}})]:_vm._e(),(\n                  _vm.value.options.type === 'unit' ||\n                    _vm.value.options.type === 'number' ||\n                    _vm.value.options.type === 'slider'\n                )?[_c('ElementStudioRangeOptions',{attrs:{\"value\":_vm.value.options.rangeOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'rangeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'shadow')?[_vm._v(\" Shadow Type \"),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.shadowTypes,\"value\":(_vm.value.options.shadowOptions &&\n                      _vm.value.options.shadowOptions.type) ||\n                      'box'},on:{\"input\":_vm.updateShadowType}})]:_vm._e(),(_vm.value.options.type === 'breakpoint_dropdown')?[_c('ElementStudioBreakpointOptions',{attrs:{\"value\":_vm.value.options.breakpointOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'breakpointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'text')?[_c('v-switch',{attrs:{\"label\":\"Multiline\",\"value\":_vm.value.options.textOptions &&\n                      _vm.value.options.textOptions.multiline,\"hide-details\":\"\"},on:{\"change\":_vm.updateTextOptionsMultiline}})]:_vm._e(),(_vm.value.options.type === 'focus_point')?[_c('ElementStudioFocusPointOptions',{attrs:{\"value\":_vm.value.options.focusPointOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'focusPointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'media_size_dropdown')?[_c('ElementStudioMediaSizeOptions',{attrs:{\"value\":_vm.value.options.mediaSizeOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaSizeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'post_chooser')?[_c('ElementStudioPostChooserOptions',{attrs:{\"value\":_vm.value.options.postChooserOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'postChooserOptions')}}})]:_vm._e(),(_vm.value.options.type === 'icon')?[_c('ElementStudioIconOptions',{attrs:{\"value\":_vm.value.options.iconOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'iconOptions')}}})]:_vm._e(),(_vm.value.options.type === 'color')?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Color Type\")]),_c('DropdownInput',{attrs:{\"value\":(_vm.value.options.colorOptions &&\n                      _vm.value.options.colorOptions.type) ||\n                      'solidOnly',\"items\":[\n                    { text: 'Solid Only', value: 'solidOnly' },\n                    { text: 'Solid and Gradient', value: 'solidAndGradient' },\n                    { text: 'Gradient Only', value: 'gradientOnly' }\n                  ]},on:{\"input\":_vm.updateColorType}})]:_vm._e(),(!_vm.isSection)?[_c('h3',[_vm._v(\"Dynamic Property\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable dynamic property\",\"input-value\":!!_vm.dynamicPropertyPath,\"hide-details\":\"\"},on:{\"change\":_vm.updateDynamicPropertyPaths}}),(!!_vm.dynamicPropertyPath)?[_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Dynamic Property Type\")]),_c('DropdownInput',{attrs:{\"items\":_vm.dynamicPathAcceptsItems,\"value\":_vm.dynamicPropertyPath.accepts},on:{\"input\":function($event){return _vm.updateDynamicPropertyPaths(true, $event)}}})]:_vm._e()]:_vm._e(),(_vm.value.options.type === 'add_registered_children')?[_c('h3',[_vm._v(\"Registered Children options: add extra elements\")]),(!_vm.availableDescendantElements.length)?_c('div',[_vm._v(\" No available extra elements. \")]):_c('div',{staticClass:\"d-flex align-center\"},[_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-4 mt-2\",attrs:{\"items\":_vm.availableDescendantElements,\"value\":_vm.value.options.addRegisteredChildrenOptions &&\n                        _vm.value.options.addRegisteredChildrenOptions\n                          .addExtraElementsBySlug,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\",\"multiple\":\"\"},on:{\"input\":_vm.updateAddExtraElementsBySlug}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){return _vm.updateAddExtraElementsBySlug([])}}})],1)]:_vm._e(),(_vm.value.options.type === 'code')?[_c('h3',[_vm._v(\"Code input options\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.codeTypes,\"value\":_vm.value.options.codeOptions &&\n                      _vm.value.options.codeOptions.language},on:{\"input\":_vm.updateCodeType}})]:_vm._e(),(\n                  _vm.value.options.type === 'text' ||\n                    _vm.value.options.type === 'richtext'\n                )?[_c('ElementStudioVariableOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.variableOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'variableOptions')},\"updateVariableItems\":_vm.updateVariableItems,\"updateVariableItem\":_vm.updateVariableItem}})]:_vm._e(),_c('h3',[_vm._v(\"Misc Options\")]),(_vm.isInContentTab)?[_c('v-checkbox',{attrs:{\"label\":\"See content editable code\",\"hide-details\":\"\"},model:{value:(_vm.showContentEditableCode),callback:function ($$v) {_vm.showContentEditableCode=$$v},expression:\"showContentEditableCode\"}}),(_vm.showContentEditableCode)?[_c('Copyable',{staticClass:\"element-studio-inline-helper-code\",attrs:{\"shouldCopy\":false}},[_vm._v(\" \"+_vm._s(_vm.contentEditableHelperCode)+\" \")])]:_vm._e()]:_vm._e(),_c('div',[(!_vm.isInContentTab)?[_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"disabled\":_vm.canHaveMediaQueries,\"label\":\"Enable Media Queries\",\"input-value\":_vm.value.enableMediaQueries,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableMediaQueries')}}})],1)]:_vm._e(),_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"label\":\"Enable Hover\",\"input-value\":_vm.value.enableHover,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableHover')}}})],1),_c('h3',[_vm._v(\"Layout\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.controlLayouts,\"value\":_vm.value.options.layout},on:{\"input\":_vm.updateControlLayout}}),(\n                    _vm.value.options.type === 'text' ||\n                      _vm.value.options.type === 'dropdown' ||\n                      _vm.value.options.type === 'multiselect'\n                  )?[_c('h3',[_vm._v(\"Placeholder\")]),_c('TextInput',{attrs:{\"value\":_vm.value.options.placeholder},on:{\"input\":_vm.updatePlaceholder}})]:_vm._e(),_c('h3',[_vm._v(\"Keywords\")]),_c('TextInput',{attrs:{\"value\":_vm.keywordsValue},on:{\"input\":_vm.updateKeywords}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}})],2)],2)],1):_vm._e(),(_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\n                  var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[(!_vm.isPresetSection)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make all control values in this section available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}):_vm._e(),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when any child control value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),_c('h3',[_vm._v(\"Section Layout\")]),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.sectionLayouts,\"value\":_vm.value.options.sectionOptions &&\n                    _vm.value.options.sectionOptions.type},on:{\"input\":_vm.updateSectionLayoutType}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}}),(_vm.spacingBarPresetSlug)?[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable spacing bars\",\"input-value\":_vm.isSpacingBarEnabled(),\"hide-details\":\"\"},on:{\"change\":_vm.updateSpacingBar}})]:_vm._e()],2)],1):_vm._e(),_c('v-spacer'),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                    var on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mr-1\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"}},on),[_c('Icon',{attrs:{\"icon\":\"EllipsisIcon\",\"size\":\"18\"}})],1)]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.copy}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),(_vm.canPaste)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handlePaste}},[_c('v-list-item-title',[_vm._v(\"Paste As Child\")])],1):_vm._e(),(_vm.canReplace)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleReplace}},[_c('v-list-item-title',[_vm._v(\"Replace\")])],1):_vm._e(),(_vm.isSection)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleMakePreset}},[_c('v-list-item-title',[_vm._v(\"Make into a Preset\")])],1):_vm._e()],1)],1),_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteControl($event)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('draggable',{attrs:{\"value\":_vm.value.children},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value.children),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"path\":(_vm.path + \".children[\" + i + \"]\"),\"index\":i,\"parentPath\":_vm.path,\"twigParentPath\":(\"\" + _vm.twigParentPath + (_vm.isParentARepeater ? (\"[\" + i + \"]\") : '') + \".\" + (_vm.value.slug)),\"parentControl\":_vm.value}})}),1),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control\"},on:{\"click\":_vm.addControl}},[_vm._v(\" Add Control \")]):_vm._e(),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-preset\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]):_vm._e()]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex\"},[_c('v-text-field',_vm._b({staticClass:\"breakdance-dense-input\",attrs:{\"value\":_vm.value,\"rules\":_vm.rules,\"clearable\":_vm.clearable,\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"data-test-id\":_vm.testId},on:{\"input\":_vm.edit,\"blur\":function($event){return _vm.$emit('blur', $event)}}},'v-text-field',_vm.inputOptions,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class TextInput extends Vue {\n  @Prop()\n  value: unknown;\n  @Prop()\n  inputOptions!: HTMLInputElement; // we should get rid of the input options... they're never used\n\n  @Prop()\n  rules!: ((v: string) => string)[];\n  @Prop()\n  testId!: string;\n  @Prop({ default: true })\n  clearable!: boolean;\n\n  get isNumber() {\n    return this.inputOptions?.type === \"number\";\n  }\n  edit(newVal: unknown) {\n    if (this.isNumber && newVal) {\n      this.$emit(\"input\", parseFloat(newVal as string));\n    } else {\n      this.$emit(\"input\", newVal);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShittyTextInput.vue?vue&type=template&id=cdfb68de&\"\nimport script from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-studio-twig-code-helper\"},[(_vm.codeForControl)?_c('Copyable',{on:{\"onCopy\":_vm.close}},[_vm._v(_vm._s(_vm.codeForControl))]):[_vm._v(\"No code help available for \"),_c('code',[_vm._v(_vm._s(_vm.control.options.type))]),_vm._v(\" control type\")]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-studio-copyable\"},[_c('textarea',{ref:\"input\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.textToCopy}}),(_vm.shouldCopy)?_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.copy}},[_vm._v(\"Copy\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class Copyable extends Vue {\n  @Prop({ default: true })\n  shouldCopy!: boolean;\n\n  mounted() {\n    if (!this.shouldCopy) return;\n\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.input.select();\n      document.execCommand(\"copy\");\n    });\n  }\n  get textToCopy() {\n    // @ts-ignore\n    return this.$slots?.default[0]?.text || \"\";\n  }\n\n  copy() {\n    // @ts-ignore\n    this.$refs.input.select();\n    document.execCommand(\"copy\");\n    this.$emit(\"onCopy\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Copyable.vue?vue&type=template&id=0c6b2256&\"\nimport script from \"./Copyable.vue?vue&type=script&lang=ts&\"\nexport * from \"./Copyable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Copyable.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { Control, ControlConditions, ControlType } from \"@/types/controls\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\n\ntype CodeHelperParams = { control: Control; twigPath: string };\n\nconst wrapPathWithMustaches = ({ twigPath }: CodeHelperParams) => {\n  return \"{{ \" + twigPath + \" }}\";\n};\n\nconst toggleCode = ({ twigPath }: CodeHelperParams) => {\n  return `{% if ${twigPath} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`;\n};\n\nconst dropdownOrButtonBarCode = ({ control, twigPath }: CodeHelperParams) => {\n  // TODO: use strict equality? Is this shit always a string? Couldnt it values be a number or some shit? Or is it a string by the time it gets to Twig?\n  // or since we dont know, dont use strict equality? lol this sounds like it could waste an unlucky element developer's time\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} ${twigPath} == '${item.value}' %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst multiselectCode = ({ control, twigPath }: CodeHelperParams) => {\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} '${item.value}' in ${twigPath} %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst shadowCode = ({ control, twigPath }: CodeHelperParams) => {\n  const isText = control?.options?.shadowOptions?.type === \"text\";\n  const property = isText ? \"text-shadow\" : \"box-shadow\";\n\n  return `${property}: {{ ${twigPath}.style }};`;\n};\n\nconst iconCode = ({ twigPath }: CodeHelperParams) => `\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class=\"some-class-to-wrap-the-icon-svg\">\n{{ ${twigPath}.svgCode }}\n</div>\n`;\n\nconst repeaterCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n    {% for item in ${twigPath} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `;\n};\n\nconst focusPointCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n  /* could be used for transforms */\n  transform-origin: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n  `;\n};\n\nconst presetsWithMacroOfTheSameNameAndBasicCodeHelp = [\n  \"layout_basic_flex\",\n  \"layout\",\n  \"borders\",\n  \"background\",\n  \"css\",\n  \"size\",\n  \"grid\",\n  ...spacingBarsPresetSlug\n];\n\nconst presetSectionCode = ({ control, twigPath }: CodeHelperParams) => {\n  const presetType = control.options.sectionOptions?.preset?.slug?.replace(\n    \"EssentialElements\\\\\",\n    \"\"\n  );\n\n  if (!presetType) return \"undefined preset type\";\n\n  if (presetsWithMacroOfTheSameNameAndBasicCodeHelp.includes(presetType)) {\n    return `{{ macros.${presetType}(${twigPath}) }}`;\n  }\n\n  if (presetType === \"effects\") {\n    return `\n    {{ macros.effects(${twigPath}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${twigPath}, '%%SELECTOR%%:hover') }}\n    `;\n  }\n\n  if (presetType === \"effects_no_hover\") {\n    return `{{ macros.effects(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"filter\") {\n    return `{{ macros.filters(${twigPath}) }}`;\n  }\n\n  if (\n    presetType === \"typography\" ||\n    presetType === \"typography_with_nothing\" ||\n    presetType === \"typography_with_align\" ||\n    presetType === \"typography_with_effects\" ||\n    presetType === \"typography_with_effects_and_align\"\n  ) {\n    return `{{ macros.typography(${twigPath}, globalSettings) }}`;\n  }\n\n  if (presetType === \"simpleLayout\") {\n    return `{{ macros.simpleLayout(${twigPath}, breakpoint) }}`;\n  }\n\n  if (presetType === \"fancy_background\") {\n    return `\n      {{ macros.fancyBackgroundHtml(${twigPath}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${twigPath}, breakpoint) }}\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_color\" ||\n    presetType === \"typography_with_align_with_hoverable_color\" ||\n    presetType === \"typography_with_effects_with_hoverable_color_and_effects\" ||\n    presetType ===\n      \"typography_with_effects_and_align_with_hoverable_color_and_effects\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_everything\" ||\n    presetType === \"typography_with_align_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_and_align_with_hoverable_everything\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (presetType === \"AtomV1ButtonContent\") {\n    return `\n    <!-- In order to set default styles for your buttons, use the following macros: -->\n    <!-- You can overwrite these settings using design options  -->\n\n    <!-- Button (Primary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, '${twigPath}.text') }}\n\n    <!-- Button (Secondary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${twigPath}.text') }}\n\n    <!-- Button (Custom) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${twigPath}.text') }}\n\n    <!-- Button (Text) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${twigPath}.text') }}\n\n    <!-- Form Button (Submit) -->\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${twigPath}.text') }}\n\n    <!-- SSR Button -->\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    <!-- SSR Form Button -->\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`;\n  }\n\n  if (presetType === \"AtomV1ButtonDesign\") {\n    return `\n      {{ macros.atomV1ButtonCss(${twigPath}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `;\n  }\n\n  if (presetType === \"AtomV1CustomButtonDesign\") {\n    return `\n\n      {{ macros.atomV1ButtonButton(${twigPath}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `;\n  }\n\n  if (presetType === \"AtomV1IconDesignWithHover\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%', true) }}`;\n  }\n\n  if (presetType === \"AtomV1IconDesign\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"AtomV1FormDesign\") {\n    return `{{ macros.atomV1FormCss(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"tabs_design\") {\n    return `{{ macros.atomV1TabsCss('%%SELECTOR%%', ${twigPath}, breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"WooGlobalStylerOverride\") {\n    return `{{ macros.wooGlobalStyler(${twigPath}, '%%SELECTOR%%', breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"pagination\") {\n    return `{{ macros.pagination(${twigPath}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`;\n  }\n\n  if (\n    presetType === \"wooPresetInputsDesign\" ||\n    presetType === \"wooPresetInputsDesignNoSelect2\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${twigPath}) }}\n    }`;\n  }\n\n  if (presetType === \"wooProductsListElements\") {\n    return `\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductsListLayout\") {\n    return `\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductWrapperDesign\") {\n    return `\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if ([\"lightbox_design\", \"lightbox_single_design\"].includes(presetType)) {\n    return `{{ macros.atomV1LightboxCss(${twigPath}) }}`;\n  }\n\n  if (presetType === \"AtomV1SwiperSettings\") {\n    return `\nHTML:\n\n<div class=\"breakdance-swiper-wrapper\">\n  <div class=\"swiper\">\n    <div class=\"swiper-wrapper\">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${twigPath}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`;\n  }\n\n  if (presetType === \"borders_without_shadows\") {\n    return `\n    {{ macros.borders_without_shadows(${twigPath}) }}\n    `;\n  }\n\n  return `no code help for preset section type of ${presetType}`;\n};\n\nexport const codeForControls: {\n  [key in ControlType]: undefined | ((args: CodeHelperParams) => string);\n} = {\n  trigger_action_button: undefined,\n  border_complex: ({ twigPath }) => `{{ macros.border_complex(${twigPath}) }}`,\n  border_radius: ({ twigPath }) => `{{ macros.border_radius(${twigPath}) }}`,\n  breakpoint_dropdown: ({ twigPath }) =>\n    `\n    {% if breakpoint == ${twigPath} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,\n  button_bar: dropdownOrButtonBarCode,\n  dropdown: dropdownOrButtonBarCode,\n  code: wrapPathWithMustaches,\n  color: ({ control, twigPath }) => {\n    if (control.options.colorOptions?.type === \"solidAndGradient\") {\n      return `\n        /* Background Color */\n        {{ macros.backgroundColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${twigPath}) }}\n      `;\n    }\n\n    return `background-color: {{ ${twigPath} }}`;\n  },\n  gradient: ({ twigPath }) => `background-image: {{ ${twigPath}.style }}`,\n  shadow: shadowCode,\n  icon: iconCode,\n  number: wrapPathWithMustaches,\n  repeater: repeaterCode,\n  inline_repeater: repeaterCode,\n  richtext: wrapPathWithMustaches,\n  toggle: toggleCode,\n  spacing_complex: ({ twigPath }) =>\n    `{{ macros.spacing_complex(${twigPath}, 'margin') }}`,\n  text: wrapPathWithMustaches,\n  url: wrapPathWithMustaches,\n  unit: ({ twigPath }) => `font-size: {{ ${twigPath}.style }};`,\n  wpmedia: ({ control, twigPath }) => {\n    if (control.options?.mediaOptions?.multiple) {\n      return `\n      {% for item in ${twigPath} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `;\n    }\n\n    return `\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${twigPath}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${twigPath}, content.content.size, alt, lazyLoad) }}\n    `;\n  },\n  video: ({ twigPath }) => {\n    return `\n      {{ macros.video(${twigPath}) }}\n    `;\n  },\n  focus_point: focusPointCode,\n  section: presetSectionCode,\n  multiselect: multiselectCode,\n  condition: undefined,\n  font_family: undefined,\n  class: undefined,\n  global_colors: undefined,\n  global_block_chooser: undefined,\n  typography: undefined,\n  custom_typography: undefined,\n  typography_preset: undefined,\n  message: undefined,\n  post_chooser: undefined,\n  element_screenshot: undefined,\n  slider: undefined,\n  add_registered_children: undefined,\n  builder_behavior: undefined,\n  alert_box: undefined,\n  date_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  time_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  api_key_input: undefined,\n  link: ({ twigPath }) => {\n    return `\n     {{ macros.linkStart(${twigPath}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `;\n  },\n  media_size_dropdown: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  wp_query: () =>\n    `Use this control in your SSR.php file. For example:\n    \\\\Breakdance\\\\WpQueryControl\\\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);`,\n  conditional_form_field: undefined\n};\n\nexport const wrapWithCondition = (\n  controlConditions: ControlConditions,\n  code: string\n) => {\n  let ifCondition = \"\";\n\n  if (Array.isArray(controlConditions)) {\n    ifCondition = controlConditions.reduce((conditionsAcc, conditions) => {\n      const andCondition = conditions.reduce((acc, { path, value }) => {\n        if (acc) {\n          return `${acc} and ${path} == \"${value}\"`;\n        }\n\n        return `${path} == \"${value}\"`;\n      }, \"\");\n\n      if (conditionsAcc) {\n        return `${conditionsAcc} or (${andCondition})`;\n      }\n\n      return `(${andCondition})`;\n    }, \"\");\n  } else {\n    const { path, value } = controlConditions; // TODO: what about operand\n    // TODO - this is garbage for controls conditionally displayed by a toggle\n    ifCondition = `${path} == \"${value}\"`;\n  }\n\n  return `\n      {% if ${ifCondition} %}\n      ${code}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `;\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Control } from \"@/types/controls\";\nimport Copyable from \"./Copyable.vue\";\nimport {\n  codeForControls,\n  wrapWithCondition\n} from \"@/lib/element-studio/twig-code-helper\";\nimport { addHoverToPath } from \"@/lib/controls/utils\";\n\n@Component({\n  components: {\n    Copyable\n  }\n})\nexport default class TwigCodeHelper extends Vue {\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  inRepeater!: boolean;\n\n  get twigPath() {\n    return this.inRepeater\n      ? `item.${this.control.slug}`\n      : `${this.twigParentPath}.${this.control.slug}`;\n  }\n\n  get codeForControl() {\n    const getHelperCodeForControl = codeForControls[this.control.options.type];\n\n    // TODO eventually we should have all presets in element studio\n    // so we can get rid of the \"section\" part of codeForControls\n    const codeHelpFromPreset = this.control.options.sectionOptions?.preset?.codeHelp?.replace(\n      \"%%TWIG_PATH%%\",\n      this.twigPath\n    );\n\n    let helperCode =\n      codeHelpFromPreset ||\n      (getHelperCodeForControl &&\n        getHelperCodeForControl({\n          control: this.control,\n          twigPath: this.twigPath\n        }));\n\n    if (!helperCode) return false;\n\n    if (this.control.options.condition) {\n      helperCode = wrapWithCondition(\n        this.control.options.condition,\n        helperCode\n      );\n    }\n\n    if (this.control.enableHover) {\n      const hoverCode = helperCode.replace(\n        new RegExp(this.twigPath, \"g\"),\n        addHoverToPath(this.twigPath)\n      );\n\n      helperCode += \"\\n\\n.some-selector:hover {\\n\" + hoverCode + \"\\n}\\n\";\n    }\n\n    return helperCode;\n  }\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TwigCodeHelper.vue?vue&type=template&id=4f6fa6d0&\"\nimport script from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nexport * from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(_vm._s(_vm.label))]),_c('Repeater',{attrs:{\"value\":this.internalValue,\"control\":{\n      options: {\n        repeaterOptions: {\n          defaultNewValue: [_vm.getBlankCondition()],\n          titleTemplate: \"OR\",\n          buttonName: \"Add new OR condition\",\n          forceDontProcessDefaultNewValueWhenAddingItemsHack: true\n        }\n      }\n    }},on:{\"input\":_vm.emit},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n    var orRepeaterIndex = ref.index;\nreturn [_c('Repeater',{attrs:{\"value\":_vm.internalValue[orRepeaterIndex],\"control\":{\n          options: {\n            repeaterOptions: {\n              defaultNewValue: _vm.getBlankCondition(),\n              forceDontProcessDefaultNewValueWhenAddingItemsHack: true,\n              titleTemplate: (\"(AND) \" + _vm.title + \" for '{path}'\"),\n              buttonName: (\"Add new (AND) \" + _vm.title)\n            }\n          }\n        }},on:{\"input\":function($event){return _vm.updateOrCondition($event, orRepeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var repeaterIndex = ref.index;\n        var value = ref.value;\nreturn [_c('div',{staticClass:\"element-studio-condition-input\"},[(!!value)?_c('div',{staticClass:\"element-studio-condition-input-row\"},[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":value.path},on:{\"input\":function($event){return _vm.updatePath($event, orRepeaterIndex, repeaterIndex)}}}),_c('v-select',{attrs:{\"label\":\"Operand\",\"no-data-text\":\"No data. Select a path first\",\"value\":value.operand,\"items\":_vm.getOperands(value)},on:{\"input\":function($event){return _vm.updateOperand($event, orRepeaterIndex, repeaterIndex)}}}),(\n                  value.operand !== 'is set' && value.operand !== 'is not set'\n                )?[(\n                    value.operand !== 'is one of' &&\n                      value.operand !== 'is none of'\n                  )?[_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.getPossibleValues(value),\"value\":value.value},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]:[_c('v-combobox',{attrs:{\"multiple\":\"\",\"label\":\"Values\",\"items\":_vm.getPossibleValues(value),\"value\":_vm.hasMultipleValues(value)},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]]:_vm._e()],2):_vm._e()])]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ControlConditions, ControlConditionSingle } from \"@/types/controls\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: { Repeater }\n})\nexport default class ElementStudioConditionInput extends Vue {\n  @Prop()\n  value!: ControlConditions | undefined;\n\n  @Prop({ default: \"Condition\" })\n  title!: string;\n\n  @Prop({ default: \"Only Show Control When Condition Is Met\" })\n  label!: string;\n\n  @Prop()\n  pathStartsWith!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  mounted() {\n    // we want to transition away from single-conditions\n    if (this.value && !Array.isArray(this.value)) {\n      this.emit([[this.value]]);\n    }\n  }\n\n  getBlankCondition() {\n    return {\n      path: \"\",\n      operand: \"equals\" as const,\n      value: \"\"\n    };\n  }\n\n  getOperands(condition: ControlConditionSingle) {\n    const path = condition.path;\n\n    if (!path) {\n      return [];\n    }\n\n    const control = this.getControl(path);\n\n    let operands = [\n      \"equals\",\n      \"not equals\",\n      \"is one of\",\n      \"is none of\",\n      \"is set\",\n      \"is not set\",\n      \"contains\",\n      \"does not contain\"\n    ];\n\n    if (control?.options.type === \"multiselect\") {\n      operands = [\"includes\"];\n    }\n\n    if (control?.options.type === \"toggle\") {\n      operands = [\"is set\", \"is not set\"];\n    }\n\n    return operands.map(x => {\n      return { text: x, value: x };\n    });\n  }\n\n  hasMultipleValues(condition: ControlConditionSingle) {\n    return Array.isArray(condition.value) ? condition.value : [];\n  }\n\n  get internalValue() {\n    if (!this.value) return [];\n\n    // We update the value when mounted to transition away from single conditions\n    // But still need to add safety here for types and to avoid any potential bug\n    if (!Array.isArray(this.value)) return [[this.value]];\n\n    return this.value;\n  }\n\n  get paths() {\n    const paths = this.context\n      .getPathsToAllControls()\n      .filter(path => !path.includes(\"settings.animations\"));\n\n    if (this.pathStartsWith) {\n      return paths\n        .filter(path => path.startsWith(this.pathStartsWith))\n        .map(path => path.replace(this.pathStartsWith, \"\"));\n    }\n\n    return paths;\n  }\n\n  getPossibleValues(condition: ControlConditionSingle) {\n    const path = condition.path;\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.options.items?.map(x => String(x.value));\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(\n      this.context.element(),\n      path\n    );\n  }\n\n  updatePath(path: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].path = path;\n\n    this.emit(internalValue);\n  }\n\n  updateOperand(\n    operand:\n      | \"equals\"\n      | \"not equals\"\n      | \"is one of\"\n      | \"is set\"\n      | \"contains\"\n      | \"does not contain\",\n    index1: number,\n    index2: number\n  ) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].operand = operand;\n\n    this.emit(internalValue);\n  }\n\n  updateValue(newValue: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].value = newValue;\n\n    this.emit(internalValue);\n  }\n\n  updateOrCondition(conditions: ControlConditionSingle[], index: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index] = conditions;\n\n    this.emit(internalValue);\n  }\n\n  emit(condition: ControlConditions) {\n    this.$emit(\"input\", condition);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioConditionInput.vue?vue&type=template&id=62b5fc7c&\"\nimport script from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCombobox,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-unit-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Unit Options\")]),_c('h3',[_vm._v(\"Allowed types\")]),_c('v-autocomplete',{attrs:{\"label\":\"Types\",\"value\":_vm.value && _vm.value.types,\"items\":_vm.availableTypes,\"multiple\":true,\"hide-details\":\"\"},on:{\"input\":_vm.updateTypes}}),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Type\")]),_c('DropdownInput',{attrs:{\"label\":\"Default Type\",\"items\":(_vm.value && _vm.value.types) || [],\"value\":_vm.value && _vm.value.defaultType},on:{\"input\":_vm.updateDefaultType}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { UNIT_TYPES, UnitOptions, UnitType } from \"@/types/unit\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput\n  }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: UnitOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get availableTypes() {\n    return UNIT_TYPES;\n  }\n\n  control = {\n    options: {\n      repeaterOptions: {\n        titleTemplate: \"Type\",\n        buttonName: \"Add type\"\n      }\n    }\n  };\n\n  updateTypes(types: UnitType[]) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      types\n    });\n  }\n\n  updateDefaultType(defaultType: UnitType) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      defaultType\n    });\n  }\n\n  emit(unitOptions: UnitOptions) {\n    this.$emit(\"input\", unitOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioUnitOptions.vue?vue&type=template&id=051b5d3a&\"\nimport script from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-range-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Range Options\")]),_c('div',{staticClass:\"d-flex align-end\"},[_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Step (fixed to 2 decimals) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.step},on:{\"input\":function($event){return _vm.updateStep($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 mx-1 flex-column\"},[_vm._v(\" Min (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.min},on:{\"input\":function($event){return _vm.updateMin($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Max (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.max},on:{\"input\":function($event){return _vm.updateMax($event.target.value)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { RangeOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({\n  components: { TextInput }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: RangeOptions | null;\n\n  get internalValue() {\n    return this.value || { min: undefined, max: undefined, step: undefined };\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get inputClass() {\n    // same classes as TextInput\n    return \"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base\";\n  }\n\n  updateStep(step: string) {\n    this.emit({\n      ...this.internalValue,\n      step: step ? parseFloatAndFixTo2Digits(step) : undefined\n    });\n  }\n\n  updateMin(min: string) {\n    this.emit({\n      ...this.internalValue,\n      min: min ? parseInt(min) : undefined\n    });\n  }\n\n  updateMax(max: string) {\n    this.emit({\n      ...this.internalValue,\n      max: max ? parseInt(max) : undefined\n    });\n  }\n\n  emit(rangeOptions: RangeOptions) {\n    this.$emit(\"input\", rangeOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRangeOptions.vue?vue&type=template&id=04a8f67a&\"\nimport script from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-repeater-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Repeater Options\")]),_c('div',[_vm._v(\" Title Template \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.titleTemplate},on:{\"input\":function($event){return _vm.update($event, 'titleTemplate')}}}),(_vm.controlSlugs.length)?_c('div',{staticClass:\"element-studio-repeater-options-variables\"},[_vm._v(\" Available variables: \"),_vm._l((_vm.controlSlugs),function(variable){return _c('span',{staticClass:\"element-studio-repeater-options-variable\",on:{\"click\":function($event){return _vm.appendVariableToTitle(variable)}}},[_c('span',[_vm._v(\"{\")]),_vm._v(_vm._s(variable)),_c('span',[_vm._v(\"}\")])])})],2):_vm._e()],1),_c('div',{staticClass:\"my-2\"},[_vm._v(\" Default Title \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.defaultTitle},on:{\"input\":function($event){return _vm.update($event, 'defaultTitle')}}}),_vm._v(\" Used as a fallback when the title template is blank. \")],1),_c('div',[_vm._v(\" Button Name \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.buttonName},on:{\"input\":function($event){return _vm.update($event, 'buttonName')}}}),_vm._v(\" Defaults to \\\"Add Item\\\". \")],1),_c('div',[_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable gallery mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.galleryMode},on:{\"change\":_vm.updateGalleryMode}}),(_vm.internalValue.galleryMode)?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Gallery Media Path\")]),_c('DropdownInput',{attrs:{\"value\":_vm.internalValue.galleryMediaPath,\"items\":_vm.mediaControlSlugs},on:{\"input\":function($event){return _vm.update($event, 'galleryMediaPath')}}})]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { Control, RepeaterOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\nconst DEFAULT_REPEATER_VALUE = {\n  titleTemplate: \"\",\n  defaultTitle: \"\",\n  buttonName: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TextInput }\n})\nexport default class ElementStudioRepeaterOptions extends Vue {\n  @Prop()\n  value!: RepeaterOptions;\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  control!: Control;\n\n  get internalValue() {\n    return this.value || DEFAULT_REPEATER_VALUE;\n  }\n\n  get controlSlugs() {\n    return this.control.children.map(c => c.slug);\n  }\n\n  get mediaControlSlugs() {\n    return this.control.children\n      .filter(c => c.options.type === \"wpmedia\")\n      .map(c => c.slug);\n  }\n\n  appendVariableToTitle(variable: string) {\n    const title = this.internalValue.titleTemplate;\n    const duplicated = title.includes(`{${variable}}`);\n\n    if (duplicated) return;\n\n    const newTitleTemplate = `${title} {${variable}}`.trim();\n    this.update(newTitleTemplate, \"titleTemplate\");\n  }\n\n  update(text: string | null, field: string) {\n    this.emit({\n      ...this.internalValue,\n      [field]: text ?? \"\"\n    });\n  }\n\n  updateGalleryMode(galleryMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      galleryMode\n    });\n  }\n\n  emit(repeaterOptions: RepeaterOptions) {\n    this.$emit(\"input\", repeaterOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRepeaterOptions.vue?vue&type=template&id=01ec0e22&\"\nimport script from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown options\")]),(_vm.control.options.type === 'dropdown')?[(this.element.htmlTag.options.length > 0)?_c('NiceButton',{on:{\"click\":_vm.populateWithHtmlTagOptions}},[_vm._v(\"Populate with HTML Tag Options\")]):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate dropdown dynamically\",\"hide-details\":\"\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?[_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from a Repeater's Input\")]),(_vm.internalValue.populate.fetchDataAction)?_c('div',[_vm._v(\" Populating from server data. To use items instead, clear those fields below. \")]):(_vm.repeaterPaths.length)?_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.repeaterPaths,\"value\":_vm.internalValue.populate.path,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1):_c('div',[_c('h4',[_vm._v(\"No repeaters presenta\")])]),_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from server data\")]),_c('v-text-field',{attrs:{\"label\":\"Fetch data action route name\",\"value\":_vm.internalValue.populate.fetchDataAction,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchDataAction', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Fetch context path\",\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.fetchContextPath,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchContextPath', $event)}}}),_c('h3',[_vm._v(\"Refetch data if a control's value changes (specify path)\")]),_c('Repeater',{attrs:{\"value\":_vm.internalValue.populate.refetchPaths},on:{\"input\":_vm.updateRefetchPaths},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nreturn [_c('v-combobox',{staticClass:\"mb-2\",attrs:{\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.refetchPaths[repeaterIndex],\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updateRefetchPath(repeaterIndex, $event)}}})]}}],null,false,3001308231)}),_c('v-divider',{staticClass:\"my-3\"}),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the dropdown only if a condition is met\",\"path-starts-with\":((_vm.internalValue.populate.path) + \".\"),\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}})]:_vm._e()]:_vm._e(),(!_vm.internalValue.populate)?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown items\")]),_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.dropdownItems,\"control\":_vm.control},on:{\"input\":_vm.updateDropdownItems},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeatedIndex = ref.index;\nreturn [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.dropdownItems[repeatedIndex].text,\"testId\":\"element-studio-control-dropdown-label-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                {text: $event || ''}),\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].value,\"testId\":\"element-studio-control-dropdown-value-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                {value: $event || ''}),\n              repeatedIndex\n            )}}}),(_vm.control.options.type === 'button_bar')?_c('div',{staticClass:\"breakdance-dropdown-input d-flex mt-2\"},[(_vm.dropdownItems[repeatedIndex].icon)?_c('div',{staticClass:\"mr-2 d-flex align-center\"},[_c('Icon',{attrs:{\"icon\":_vm.dropdownItems[repeatedIndex].icon,\"size\":\"18\"}})],1):_vm._e(),_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].icon},on:{\"input\":function($event){return _vm.updateDropdownItem(\n                Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                  {icon: $event}),\n                repeatedIndex\n              )}}})],1):_vm._e()]}}],null,false,280151685)})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-autocomplete',{staticClass:\"breakdance-dense-select breakdance-white-gray-outlined-input\",attrs:{\"label\":\"Icon\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"placeholder\":\"CloseIcon\",\"items\":_vm.iconNames,\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { IconName, iconNames } from \"@/lib/icons/icons\";\n@Component({})\nexport default class ElementStudioIconsAutocomplete extends Vue {\n  @Prop()\n  value!: IconName | string;\n\n  get iconNames() {\n    return iconNames;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconsAutocomplete.vue?vue&type=template&id=5d00ae73&\"\nimport script from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  ButtonBarOrDropdownItem,\n  Control,\n  ControlConditions,\n  DropdownOptions,\n  PopulateOptions,\n  PopulateWithFetch\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined,\n  fetchDataAction: \"\",\n  fetchContextPath: \"\",\n  refetchPaths: []\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    DropdownInput,\n    Dropdown,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioDropdownOptions extends Vue {\n  @Prop()\n  value!: DropdownOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get repeaterPaths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get controlPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get dropdownItems() {\n    // @ts-ignore\n    return this.control.options.items || [{ value: \"value\", text: \"Label\" }];\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    this.$emit(\"updateDropdownItems\", newItems);\n  }\n\n  updateDropdownItem(newItem: ButtonBarOrDropdownItem, index: number) {\n    this.$emit(\"updateDropdownItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit(undefined);\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n    newPopulate.condition = newCondition;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(\n    key:\n      | keyof Omit<PopulateOptions, \"condition\">\n      | keyof Omit<PopulateWithFetch, \"refetchPaths\">,\n    value: string\n  ) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPaths(newRefetchPaths: ({} | string)[]) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    newPopulate.refetchPaths = newRefetchPaths.map(dependency =>\n      typeof dependency === \"string\" ? dependency : \"\"\n    );\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPath(index: number, newValue: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    if (!newPopulate.refetchPaths) {\n      return;\n    }\n\n    newPopulate.refetchPaths[index] = newValue;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  populateWithHtmlTagOptions() {\n    if (!this.element.htmlTag.options) {\n      return;\n    }\n\n    const items = this.element.htmlTag.options.map(option => ({\n      text: option,\n      value: option\n    }));\n\n    this.updateDropdownItems(items);\n  }\n\n  emit(dropdownOptions: DropdownOptions | undefined) {\n    this.$emit(\"input\", dropdownOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDropdownOptions.vue?vue&type=template&id=24444096&\"\nimport script from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCheckbox,VCombobox,VDivider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Breakpoint options\")]),_vm._v(\" Support Multiple \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Support Multiple\",\"input-value\":_vm.value && !!_vm.value.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}}),_vm._v(\" Enable Never \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable Never\",\"input-value\":_vm.value && !!_vm.value.enableNever,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableNever}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { BreakpointOptions } from \"@/types/controls\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioBreakpointOptions extends Vue {\n  @Prop()\n  value!: BreakpointOptions;\n\n  updateMultiple(multiple: boolean) {\n    const newBreakpointOptions = defensiveCopy(this.value);\n    newBreakpointOptions.multiple = multiple;\n    this.emit(newBreakpointOptions);\n  }\n\n  updateEnableNever(enableNever: boolean) {\n    const newBreakpointOptions = defensiveCopy(this.value);\n    newBreakpointOptions.enableNever = enableNever;\n    this.emit(newBreakpointOptions);\n  }\n\n  emit(breakpointOptions: BreakpointOptions | undefined) {\n    this.$emit(\"input\", breakpointOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioBreakpointOptions.vue?vue&type=template&id=4660824a&\"\nimport script from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-variable-options\"},[_c('h3',[_vm._v(\"Variables\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable variables\",\"input-value\":_vm.internalValue.enabled,\"hide-details\":\"\"},on:{\"change\":_vm.toggleEnabled}}),(_vm.internalValue.enabled)?[_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.variables,\"control\":_vm.control},on:{\"input\":_vm.updateVariableItems},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeatedIndex = ref.index;\nreturn [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.variables[repeatedIndex].label,\"testId\":\"element-studio-control-variable-label-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              Object.assign({}, _vm.variables[repeatedIndex],\n                {label: $event}),\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.variables[repeatedIndex].value,\"testId\":\"element-studio-control-variable-value-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              Object.assign({}, _vm.variables[repeatedIndex],\n                {value: $event}),\n              repeatedIndex\n            )}}})]}}],null,false,98037988)}),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate variables based on a Repeater Input\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?_c('div',[_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":_vm.internalValue.populate.path},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the variable only if a condition is met\",\"path-starts-with\":((_vm.internalValue.populate.path) + \".\"),\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}}),_c('v-divider')],1):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  textAndRichTextVariableItem,\n  Control,\n  ControlConditions,\n  textAndRichTextVariableOptions\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioVariableOptions extends Vue {\n  @Prop()\n  value!: textAndRichTextVariableOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  enabled = false;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get variables() {\n    return (\n      this.control.options.variableItems || [{ value: \"value\", text: \"Label\" }]\n    );\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    this.$emit(\"updateVariableItems\", newItems);\n  }\n\n  updateVariableItem(newItem: textAndRichTextVariableItem, index: number) {\n    this.$emit(\"updateVariableItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit({\n        populate: undefined\n      });\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n    newPopulate.condition = newCondition;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(key: \"path\" | \"text\" | \"value\", value: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  toggleEnabled(value: boolean) {\n    this.emit({\n      enabled: value\n    });\n  }\n\n  emit(variableOptions: textAndRichTextVariableOptions | undefined) {\n    this.$emit(\"input\", {\n      ...this.internalValue,\n      ...variableOptions\n    });\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVariableOptions.vue?vue&type=template&id=186a7e8a&\"\nimport script from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VCheckbox,VCombobox,VDivider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"WP Media Options\")]),_c('v-checkbox',{attrs:{\"label\":\"Enable gallery mode\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}})],1),_c('v-checkbox',{attrs:{\"label\":\"Allow only certain file types\",\"input-value\":_vm.fileTypesEnabled,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableFileTypes}}),(_vm.fileTypesEnabled)?_c('v-autocomplete',{staticClass:\"mt-2\",attrs:{\"label\":\"Accepted File Types\",\"value\":_vm.internalValue.acceptedFileTypes,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All file types are allowed by default.\"},on:{\"input\":_vm.updateType}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  MediaOptions,\n  MediaOptionsType,\n  MediaOptionsTypeV\n} from \"@/types/media\";\n\nconst DEFAULT_MEDIA_OPTIONS = {\n  acceptedFileTypes: undefined,\n  multiple: false\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: MediaOptions | null;\n\n  get fileTypesEnabled() {\n    return Array.isArray(this.internalValue.acceptedFileTypes);\n  }\n\n  get types() {\n    return MediaOptionsTypeV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_MEDIA_OPTIONS;\n  }\n\n  updateType(acceptedFileTypes: MediaOptionsType[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      acceptedFileTypes\n    });\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  updateEnableFileTypes(enabled: boolean) {\n    if (enabled) {\n      this.updateType([]);\n    } else {\n      this.updateType(undefined);\n    }\n  }\n\n  emit(mediaOptions: MediaOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaOptions.vue?vue&type=template&id=04e51593&\"\nimport script from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VAutocomplete,VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-size-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Media Size Options\")]),_c('v-combobox',{attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"hint\":\"Will only show an image's available sizes. Use [] when inside a repeater.\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.imagePropertyPath)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"input-value\":_vm.internalValue.disableSrcset,\"label\":\"Don't add srcset attribute to the Image object\",\"persistent-hint\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleSrcset}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { MediaSizeOptions } from \"@/types/media\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaSizeOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value?: MediaSizeOptions;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  toggleSrcset(disableSrcset: boolean) {\n    this.emit({\n      ...this.internalValue,\n      disableSrcset\n    });\n  }\n\n  emit(mediaOptions: MediaSizeOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaSizeOptions.vue?vue&type=template&id=1e278c3b&\"\nimport script from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-icon-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Icon Options\")]),_c('v-combobox',{attrs:{\"clearable\":\"\",\"multiple\":\"\",\"value\":_vm.internalValue.suggestions,\"label\":\"Suggestions\"},on:{\"input\":_vm.updateSuggestions}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { IconOptions } from \"@/types/controls\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioIconOptions extends Vue {\n  @Prop()\n  value!: IconOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  updateSuggestions(newSuggestions: string[]) {\n    this.emit({\n      ...this.internalValue,\n      suggestions: newSuggestions\n    });\n  }\n\n  emit(mediaOptions: IconOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconOptions.vue?vue&type=template&id=1dd963c8&\"\nimport script from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","import { SpacingBarSlugs } from \"@/lib/elements/constants\";\nimport { SpacingBarDescription } from \"@/types/elements\";\n\nexport function getSpacingBarsFromPresetSlug(\n  slug: SpacingBarSlugs,\n  twigPath: string\n): SpacingBarDescription[] {\n  function getSpaceBar(\n    position: \"outside\" | \"inside\",\n    property: \"margin\" | \"padding\",\n    direction: \"top\" | \"right\" | \"bottom\" | \"left\",\n    controlType: \"control\" | \"complex\" | \"not_responsive\"\n  ) {\n    let affectedPropertyPath = \"\";\n\n    if (controlType === \"control\") {\n      affectedPropertyPath = `${twigPath}.${property}_${direction}.%%BREAKPOINT%%`;\n    } else if (controlType === \"complex\") {\n      affectedPropertyPath = `${twigPath}.${property}.%%BREAKPOINT%%.${direction}`;\n    } else {\n      affectedPropertyPath = `${twigPath}.${property}.${direction}`;\n    }\n\n    return {\n      location: `${position}-${direction}`,\n      cssProperty: `${property}-${direction}`,\n      affectedPropertyPath\n    } as SpacingBarDescription;\n  }\n\n  const marginAll = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"complex\")\n  ];\n\n  const paddingAll = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"complex\")\n  ];\n\n  const marginY = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"control\")\n  ];\n\n  const marginX = [\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"control\")\n  ];\n\n  const paddingY = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"control\")\n  ];\n\n  const paddingX = [\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"control\")\n  ];\n\n  const allNotResponsive = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"not_responsive\"),\n\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"not_responsive\")\n  ];\n\n  switch (slug) {\n    case \"spacing_all\":\n      return [...marginAll, ...paddingAll];\n    case \"spacing_all_y\":\n      return [...marginY, ...paddingY];\n    case \"spacing_all_x\":\n      return [...marginX, ...paddingX];\n    case \"spacing_margin_all\":\n      return marginAll;\n    case \"spacing_margin_y\":\n      return marginY;\n    case \"spacing_margin_x\":\n      return marginX;\n    case \"spacing_padding_all\":\n      return paddingAll;\n    case \"spacing_padding_y\":\n      return paddingY;\n    case \"spacing_padding_x\":\n      return paddingX;\n    case \"spacing_all_not_responsive\":\n      return allNotResponsive;\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-post-chooser-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Post Chooser Options\")]),_c('div',{staticClass:\"mt-2\"},[_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Post Type\")]),_c('TextInput',{attrs:{\"value\":_vm.internalValue.postType},on:{\"input\":function($event){return _vm.update('postType', $event)}}})],1),_c('v-checkbox',{attrs:{\"label\":\"Multiple\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('multiple', $event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Show Thumbnails\",\"input-value\":_vm.internalValue.showThumbnails,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('showThumbnails', $event)}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { PostChooserOptions } from \"@/types/post-chooser\";\n\nconst DEFAULT_CHOOSER_OPTIONS = {\n  multiple: false,\n  showThumbnails: false,\n  postType: \"post\"\n};\n\n@Component({\n  components: { TextInput, DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: PostChooserOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_CHOOSER_OPTIONS;\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  update(field: string, value: string | null) {\n    this.emit({\n      ...this.internalValue,\n      [field]: value ?? \"\"\n    });\n  }\n\n  emit(options: PostChooserOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPostChooserOptions.vue?vue&type=template&id=bc36e576&\"\nimport script from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Video Options\")]),_c('v-autocomplete',{attrs:{\"label\":\"Providers\",\"value\":_vm.internalValue.providers,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All providers are allowed by default.\"},on:{\"input\":_vm.updateProviders}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  OEmbedProvider,\n  OEmbedProviderV,\n  VideoOptions\n} from \"@/types/controls\";\n\nconst DEFAULT_VIDEO_OPTIONS = {\n  providers: []\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Prop()\n  value!: VideoOptions | null;\n\n  get types() {\n    return OEmbedProviderV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_VIDEO_OPTIONS;\n  }\n\n  updateProviders(providers: OEmbedProvider[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      providers\n    });\n  }\n\n  emit(options: VideoOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVideoOptions.vue?vue&type=template&id=563fd947&\"\nimport script from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Alert Box Options\")]),_c('DropdownInput',{staticClass:\"mb-4\",attrs:{\"placeholder\":\"Style\",\"items\":_vm.styles,\"value\":_vm.internalValue.style},on:{\"input\":_vm.updateStyle}}),_c('TipTapWrapper',{attrs:{\"value\":_vm.internalValue.content},on:{\"input\":_vm.updateContent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  AlertBoxOptions,\n  AlertBoxStyleV,\n  AlertBoxStyle\n} from \"@/types/controls\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TipTapWrapper from \"@/components/Reusable/CustomInputs/3rdPartyWrappers/TipTapWrapper.vue\";\n\nconst DEFAULT_OPTIONS: AlertBoxOptions = {\n  style: \"default\",\n  content: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TipTapWrapper }\n})\nexport default class ElementStudioAlertBoxOptions extends Vue {\n  @Prop()\n  value!: AlertBoxOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_OPTIONS;\n  }\n\n  get styles() {\n    return AlertBoxStyleV.types.map(type => type.value);\n  }\n\n  updateStyle(style: AlertBoxStyle) {\n    this.emit({\n      ...this.internalValue,\n      style\n    });\n  }\n\n  updateContent(content: string | null) {\n    this.emit({\n      ...this.internalValue,\n      content: content ?? \"\"\n    });\n  }\n\n  emit(alertBoxOptions: AlertBoxOptions) {\n    this.$emit(\"input\", alertBoxOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAlertBoxOptions.vue?vue&type=template&id=b89503c4&\"\nimport script from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-focus-point-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Focus Point Options\")]),_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable Grid Mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.gridMode},on:{\"change\":_vm.updateGridMode}}),_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"persistent-hint\":\"\",\"hint\":\"Shows an image as background of this input\",\"clearable\":\"\",\"disabled\":_vm.internalValue.gridMode},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.gridMode)?_c('AlertBox',{attrs:{\"options\":{\n      type: 'info',\n      content: 'Not available when grid mode is enabled.'\n    }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { FocusPointOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\n\n@Component({\n  components: { AlertBox, DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value!: FocusPointOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  updateGridMode(gridMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      gridMode\n    });\n  }\n\n  emit(options: FocusPointOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioFocusPointOptions.vue?vue&type=template&id=748eb54a&\"\nimport script from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VAutocomplete,VCheckbox})\n","import { PresetSection } from \"@/types/element-studio\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  presetToPhp,\n  slugToPhpSlug\n} from \"@/lib/elements/studio/element-to-php\";\nimport * as t from \"io-ts\";\nimport slugify from \"slugify\";\nimport { getItemNamespaceFromSlug } from \"@/lib/elements/studio/misc\";\n\nexport async function savePresetToServer(\n  preset: PresetSection,\n  directoryPath: string,\n  filename: string,\n  slug: string\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_preset\",\n    dataToPost: {\n      directoryPath,\n      filename,\n      preset: presetToPhp(\n        slugToPhpSlug(slug),\n        preset.section,\n        getItemNamespaceFromSlug(slug)\n      )\n    },\n    decoder: t.unknown\n  });\n}\n\nexport function getSlugFromNamespaceAndFilename(\n  namespace: string,\n  filename: string\n) {\n  return `${namespace}\\\\${slugify(filename)}`;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-hide-control-input\"},[_c('v-checkbox',{attrs:{\"input-value\":!!_vm.value,\"label\":\"Hide Control From Specific Elements\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleControl}}),(!!_vm.value)?_c('v-combobox',{attrs:{\"label\":\"Elements\",\"items\":_vm.items,\"value\":_vm.value,\"multiple\":\"\"},on:{\"input\":_vm.updateValue}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({})\nexport default class ElementStudioHideControlInput extends Vue {\n  @Prop()\n  value!: string[] | undefined;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get items() {\n    return Object.keys(configStore.elements);\n  }\n\n  toggleControl(enabled: boolean) {\n    if (enabled) {\n      this.$emit(\"input\", []);\n    } else {\n      this.$emit(\"remove\");\n    }\n  }\n\n  updateValue(value: string[]) {\n    this.$emit(\"input\", value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioHideControlInput.vue?vue&type=template&id=7faf1f3e&\"\nimport script from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  Control,\n  ControlConditions,\n  ControlType,\n  CONTROL_TYPES,\n  RangeOptions,\n  DropdownOptions,\n  ButtonBarOrDropdownItem,\n  CodeOptionsV,\n  ShadowOptionsV,\n  ShadowOptions,\n  CodeOptions,\n  DatePickerOptionsV,\n  textAndRichTextVariableItem,\n  ControlOptions,\n  BreakpointOptions,\n  LayoutType,\n  controlLayoutTypes\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport TwigCodeHelper from \"./TwigCodeHelper.vue\";\nimport ElementStudioConditionInput from \"./ElementStudioConditionInput.vue\";\nimport ElementStudioUnitOptions from \"./ElementStudioUnitOptions.vue\";\n\nimport lodash from \"lodash\";\nimport { getHash } from \"@/util/hash\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { UnitOptions } from \"@/types/unit\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementStudioRangeOptions from \"@/components/ElementStudio/ElementStudioRangeOptions.vue\";\nimport ElementStudioRepeaterOptions from \"@/components/ElementStudio/ElementStudioRepeaterOptions.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport ElementStudioDropdownOptions from \"@/components/ElementStudio/ElementStudioDropdownOptions.vue\";\nimport ElementStudioBreakpointOptions from \"@/components/ElementStudio/ElementStudioBreakpointOptions.vue\";\nimport ElementStudioVariableOptions from \"@/components/ElementStudio/ElementStudioVariableOptions.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getDynamicPathAcceptsItems,\n  getPathWithoutRepeaterIndex\n} from \"@/lib/dynamic-data/utils\";\nimport Copyable from \"@/components/ElementStudio/Copyable.vue\";\nimport {\n  doesControlTypeAcceptChildren,\n  isControlTypeARepeater\n} from \"@/lib/elements/utils\";\nimport ElementStudioMediaOptions from \"@/components/ElementStudio/ElementStudioMediaOptions.vue\";\nimport ElementStudioMediaSizeOptions from \"@/components/ElementStudio/ElementStudioMediaSizeOptions.vue\";\nimport ElementStudioIconOptions from \"@/components/ElementStudio/ElementStudioIconOptions.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\nimport { getSpacingBarsFromPresetSlug } from \"@/lib/elements/studio/spacing-bars\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport ElementStudioPostChooserOptions from \"@/components/ElementStudio/ElementStudioPostChooserOptions.vue\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport ElementStudioVideoOptions from \"@/components/ElementStudio/ElementStudioVideoOptions.vue\";\nimport ElementStudioAlertBoxOptions from \"@/components/ElementStudio/ElementStudioAlertBoxOptions.vue\";\nimport ElementStudioFocusPointOptions from \"@/components/ElementStudio/ElementStudioFocusPointOptions.vue\";\nimport { DynamicFieldReturnType } from \"@/types/dynamic-property-path\";\nimport { slugToPhpSlug } from \"@/lib/elements/studio/element-to-php\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport {\n  CurrentlyEditingPreset,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport slugify from \"slugify\";\nimport { logNotificationOfSameItem } from \"@/lib/elements/studio/misc\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioHideControlInput from \"@/components/ElementStudio/ElementStudioHideControlInput.vue\";\n\n@Component({\n  name: \"ControlSectionOrControl\",\n  components: {\n    ElementStudioHideControlInput,\n    ElementStudioSaveNewDialog,\n    ElementStudioFocusPointOptions,\n    ElementStudioVideoOptions,\n    ElementStudioIconsAutocomplete,\n    IconButton,\n    InlineRepeater,\n    ElementStudioBreakpointOptions,\n    Icon,\n    ElementStudioIconOptions,\n    ElementStudioMediaSizeOptions,\n    ElementStudioMediaOptions,\n    ElementStudioPostChooserOptions,\n    TextInput,\n    Copyable,\n    ElementStudioDropdownOptions,\n    ElementStudioVariableOptions,\n    DropdownInput,\n    ElementStudioRepeaterOptions,\n    ElementStudioRangeOptions,\n    Dropdown,\n    CopyButton,\n    ShittyTextInput,\n    Repeater,\n    ControlSectionOrControl,\n    draggable,\n    Accordion,\n    TwigCodeHelper,\n    ElementStudioConditionInput,\n    ElementStudioUnitOptions,\n    ElementStudioAlertBoxOptions\n  }\n})\nexport default class ControlSectionOrControl extends Vue {\n  @Prop()\n  path!: string;\n\n  @Prop()\n  parentPath!: string;\n\n  @Prop()\n  index!: number;\n\n  @Prop()\n  value!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  parentControl!: Control | undefined;\n\n  codeHelpOpen = false;\n  showContentEditableCode = false;\n  showNewPresetDialog = false;\n\n  // can't have media queries within media queries\n  get canHaveMediaQueries() {\n    return !!this.parentControl?.enableMediaQueries;\n  }\n\n  get parentType() {\n    return this.parentControl?.options.type;\n  }\n\n  get keyToRerenderCodeHelp() {\n    const json = jsonStringifyOrUndefined(this.value);\n    return getHash(`${json}`);\n  }\n\n  accordionState: Array<undefined | boolean | null> = [false];\n\n  get isPresetSection() {\n    return !!this.presetSectionSlug;\n  }\n\n  get presetSectionSlug() {\n    return this.value.options.sectionOptions?.preset?.slug;\n  }\n\n  get isSection() {\n    return this.value.options.type === \"section\";\n  }\n\n  get isRepeater() {\n    return isControlTypeARepeater(this.value.options.type);\n  }\n\n  get isParentARepeater() {\n    return isControlTypeARepeater(this.parentType);\n  }\n\n  get controlAcceptsChildren() {\n    return doesControlTypeAcceptChildren(this.value.options.type);\n  }\n\n  get isInContentTab() {\n    return this.path.startsWith(\"contentSections\");\n  }\n\n  get spacingBarPresetSlug() {\n    if (!this.isSection) return undefined;\n\n    return spacingBarsPresetSlug.find(\n      slug => slug === this.value.options?.sectionOptions?.preset?.slug\n    );\n  }\n\n  get classList() {\n    return {\n      \"element-studio-control-or-control-section\": true,\n      \"element-studio-control-section\": true,\n      \"element-studio-control\": !this.controlAcceptsChildren\n    };\n  }\n\n  get dynamicPropertyPath() {\n    const dynamicPropertyPaths = this.context.element().dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const dynPropPathThatMatchesTwigPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        this.twigPathWithoutRepeaterIndex\n    );\n\n    return dynPropPathThatMatchesTwigPath;\n  }\n\n  get twigPathWithoutRepeaterIndex() {\n    return getPathWithoutRepeaterIndex(\n      `${this.twigParentPath}${this.isParentARepeater ? \"[]\" : \"\"}.${\n        this.value.slug\n      }`\n    );\n  }\n\n  get dynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  get contentEditableHelperCode() {\n    return `// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `;\n  }\n\n  get twigPathForContentEditable() {\n    if (this.isRepeater || this.isParentARepeater) {\n      return `{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`;\n    }\n\n    return `{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`;\n  }\n\n  get datePickerOptions() {\n    return Object.keys(DatePickerOptionsV.props);\n  }\n\n  get elementStudioData() {\n    return this.context.getElementStudioData();\n  }\n\n  async saveNewPreset(newPreset: ElementStudioSaveLocationWithName) {\n    if (!this.isSection) return;\n\n    const filename = slugify(newPreset.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newPreset.namespace,\n      filename\n    );\n\n    if (\n      this.elementStudioData.presets.find(preset => preset.slug === newSlug)\n    ) {\n      logNotificationOfSameItem(\n        this.elementStudioData.saveLocations,\n        newPreset,\n        \"preset\"\n      );\n\n      return;\n    }\n\n    const presetSectionFromCurrentSection = this.value;\n\n    presetSectionFromCurrentSection.options.sectionOptions = {\n      ...presetSectionFromCurrentSection.options.sectionOptions,\n      preset: {\n        slug: newSlug\n      }\n    };\n\n    pipe(\n      await savePresetToServer(\n        {\n          slug: newSlug,\n          section: presetSectionFromCurrentSection\n        },\n        newPreset.directoryPath,\n        filename,\n        newSlug\n      ),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newData = defensiveCopy(this.elementStudioData);\n\n          newData.presets.push({\n            slug: newSlug,\n            directoryPath: newPreset.directoryPath\n          });\n\n          newData.presetSections.push({\n            slug: newSlug,\n            section: presetSectionFromCurrentSection\n          });\n\n          this.context.updateElementStudioData(newData);\n\n          // Replace current control with the newly created preset\n          this.context.updateControl(\n            this.parentPath,\n            this.index,\n            presetSectionFromCurrentSection\n          );\n        }\n      )\n    );\n  }\n\n  toggleAccordion(index: number) {\n    /*\n    Vue cannot make a value reactive when you directly set an item with the index,\n    e.g. vm.items[indexOfItem] = newValue\n    Therefore, use Vue.set\n    */\n    Vue.set(this.accordionState, index, !this.accordionState[index]);\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(`${this.path}.children`, newControls);\n  }\n\n  get canPaste() {\n    return (\n      this.controlAcceptsChildren &&\n      !this.isPresetSection &&\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  get canReplace() {\n    if (\n      !uiStore.clipboard.elementStudio ||\n      !uiStore.clipboard.elementStudio.copiedControl\n    ) {\n      return false;\n    }\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    // Only allow to replace sections with other sections.\n    // In a preset, there must always be a section at the top\n    if (this.isSection && controlToPaste.options.type !== \"section\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  handlePaste() {\n    if (!this.controlAcceptsChildren) return;\n\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(`${this.path}.children`, controlToPaste);\n  }\n\n  handleReplace() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.updateControl(this.parentPath, this.index, controlToPaste);\n  }\n\n  handleMakePreset() {\n    this.showNewPresetDialog = true;\n  }\n\n  get controlTypes() {\n    const capitalize = (s: string) => {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    const disallowedInContent: ControlType[] = [\n      // \"spacing_complex\",\n      // \"gradient\",\n      // \"unit\",\n      // \"color\",\n      // \"breakpoint_dropdown\",\n      // \"border_complex\",\n      // \"shadow\"\n    ];\n\n    return CONTROL_TYPES.sort()\n      .filter(this.removeDisallowedControlTypes)\n      .map(c => {\n        return {\n          text: capitalize(c),\n          value: c\n        };\n      })\n      .map(x => {\n        if (this.isInContentTab && disallowedInContent.includes(x.value)) {\n          return {\n            ...x,\n            disabled: true\n          };\n        } else {\n          return x;\n        }\n      });\n  }\n\n  copy() {\n    const copiedControl = defensiveCopy(this.value);\n    uiStore.copyElementStudioControl(copiedControl);\n  }\n\n  get availablePresetSections() {\n    return this.context.getPresetSections().map(preset => {\n      return {\n        text: preset.slug,\n        value: preset.slug\n      };\n    });\n  }\n\n  updatePresetSectionSlug(newPresetSectionSlug: string) {\n    const newPresetSection = defensiveCopy(\n      this.context.getPresetSection(newPresetSectionSlug)\n    );\n\n    if (newPresetSection !== undefined) {\n      newPresetSection.section.options.sectionOptions = {\n        ...newPresetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      this.context.updateControl(\n        this.parentPath,\n        this.index,\n        newPresetSection.section\n      );\n\n      this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n      this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n    }\n  }\n\n  turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativePropertyPathsToWhitelistInFlatProps\n    ) {\n      return;\n    }\n\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    const absolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath => `${this.twigParentPath}.${newControlSlug}.${relativePath}`\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath =>\n        `${this.twigParentPath}.${this.value.slug}.${relativePath}`\n    );\n\n    if (newPropertyPathsToWhitelistInFlatProps) {\n      // prevent adding the same path multiple times\n      newPropertyPathsToWhitelistInFlatProps = newPropertyPathsToWhitelistInFlatProps.filter(\n        path => {\n          return (\n            !absolutePathToWhitelistInFlatProps.includes(path) &&\n            !oldAbsolutePathToWhitelistInFlatProps.includes(path)\n          );\n        }\n      );\n\n      newPropertyPathsToWhitelistInFlatProps = [\n        ...newPropertyPathsToWhitelistInFlatProps,\n        ...absolutePathToWhitelistInFlatProps\n      ];\n    } else {\n      newPropertyPathsToWhitelistInFlatProps = absolutePathToWhitelistInFlatProps;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"propertyPathsToWhitelistInFlatProps\",\n        newPropertyPathsToWhitelistInFlatProps\n      )\n    );\n  }\n\n  turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativeDynamicPropertyPaths\n    ) {\n      return;\n    }\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    const absoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${newControlSlug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${this.value.slug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    if (newDynamicPropertyPaths) {\n      // prevent adding the same path multiple times\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        newDynPropPath => {\n          return (\n            !absoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            ) &&\n            !oldAbsoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            )\n          );\n        }\n      );\n\n      newDynamicPropertyPaths = [\n        ...newDynamicPropertyPaths,\n        ...absoluteDynamicPropPaths\n      ];\n    } else {\n      newDynamicPropertyPaths = absoluteDynamicPropPaths;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"dynamicPropertyPaths\",\n        newDynamicPropertyPaths\n      )\n    );\n  }\n\n  removeDisallowedControlTypes(controlType: ControlType) {\n    const disallowedControlTypes: ControlType[] = [\n      \"class\",\n      // \"condition\", // TODO: what could element devs create if we allowed the condition control? Probably some cool stuff\n      \"font_family\",\n      \"global_colors\",\n      \"message\"\n    ];\n\n    return !disallowedControlTypes.includes(controlType);\n  }\n\n  addControl() {\n    this.context.addControl(this.path);\n  }\n\n  deleteControl() {\n    this.context.deleteControl(this.parentPath, this.index);\n  }\n\n  updateControlType(newType: ControlType) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.type = newType;\n\n    if (!this.isInContentTab) {\n      // if we are in the content tab all controls already have a vertical layout\n      const controlTypesThatShouldHaveVerticalLayout: ControlType[] = [\n        \"code\",\n        \"repeater\",\n        \"inline_repeater\",\n        \"spacing_complex\",\n        \"border_complex\",\n        \"gradient\",\n        \"icon\",\n        \"richtext\",\n        \"shadow\",\n        \"wpmedia\",\n        \"text\",\n        \"focus_point\",\n        \"url\"\n      ];\n\n      if (controlTypesThatShouldHaveVerticalLayout.includes(newType)) {\n        newControl.options.layout = \"vertical\";\n      } else {\n        newControl.options.layout = \"inline\";\n      }\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.variableItems = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItem({\n    newItem,\n    index\n  }: {\n    newItem: textAndRichTextVariableItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.variableItems) {\n      newControl.options.variableItems = [];\n    }\n\n    newControl.options.variableItems[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.items = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItem({\n    newItem,\n    index\n  }: {\n    newItem: ButtonBarOrDropdownItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.items) {\n      newControl.options.items = [];\n    }\n\n    // @ts-ignore\n    newControl.options.items[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateOptions(\n    newOptions:\n      | UnitOptions\n      | RangeOptions\n      | DropdownOptions\n      | BreakpointOptions,\n    optionsPath: string\n  ) {\n    const newControl = defensiveCopy(this.value);\n    const path = `options.${optionsPath}`;\n\n    lodash.set(newControl, path, newOptions);\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get availableDescendantElements() {\n    return Object.values(configStore.elements)\n      .filter(element => {\n        if (!element) return false;\n\n        // direct children are added automatically in the control\n        // And we don't want to add an element that isn't allowed inside\n        if (element.nestingRule.restrictedToBeADirectChildOf) {\n          return false;\n        }\n\n        return isNestingRuleAllowedInside(\n          element.nestingRule,\n          this.context.element().nestingRule,\n          this.context.element().slug\n        );\n      })\n      .map(element => element?.slug);\n  }\n\n  updateAddExtraElementsBySlug(newElementSlugs: string[]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.addRegisteredChildrenOptions = {\n      ...newControl.options.addRegisteredChildrenOptions,\n      addExtraElementsBySlug: newElementSlugs\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get codeTypes() {\n    return CodeOptionsV.props.language.types.map(type => type.value);\n  }\n\n  updateCodeType(language: CodeOptions[\"language\"]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.codeOptions = {\n      ...newControl.options.codeOptions,\n      language\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get shadowTypes() {\n    return ShadowOptionsV.props.type.types.map(type => type.value);\n  }\n\n  updateShadowType(type: ShadowOptions[\"type\"]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.shadowOptions = {\n      ...newControl.options.shadowOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateTextOptionsMultiline(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.textOptions = {\n      ...newControl.options.textOptions,\n      multiline: multiline\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsSize(big: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      size: big ? \"big\" : \"small\",\n      layout: \"default\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsLayout(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      layout: multiline ? \"multiline\" : \"default\",\n      size: \"small\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  addPreset() {\n    this.context.addPreset(this.path);\n  }\n\n  get controlLayouts() {\n    return [\"inline\", \"vertical\"];\n  }\n\n  updateControlLayout(newLayout: \"inline\" | \"vertical\" | undefined) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.layout = newLayout;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateKeywords(newKeywords: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.keywords =\n      newKeywords === null ? undefined : newKeywords.split(\",\");\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get keywordsValue() {\n    return this.value.keywords ? this.value.keywords.join(\",\") : \"\";\n  }\n\n  updatePlaceholder(newPlaceholder: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.placeholder = newPlaceholder ?? undefined;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateColorType(type: \"solidOnly\" | \"solidAndGradient\") {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.colorOptions = {\n      ...newControl.options.colorOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateConditions(newConditions: ControlConditions) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.condition = newConditions;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateHideForElements(newValue: string[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.hideForElements = newValue;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  deleteHideForElements() {\n    const newControl = defensiveCopy(this.value);\n    delete newControl.options.hideForElements;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get sectionLayouts() {\n    return controlLayoutTypes;\n  }\n\n  updateSectionLayoutType(newLayout: LayoutType = \"accordion\") {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.sectionOptions = {\n      ...newControl.options.sectionOptions,\n      type: newLayout\n    };\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  /*\n   * Updating on \"focus out\" because the \"key\" prop is the slug\n   * So changing the label -> slug will re-render the component while the user is typing\n   */\n  updateLabelAndSlugOnFocusOut(event: { target: HTMLInputElement }) {\n    const newLabel = event.target.value;\n    const newControl = defensiveCopy(this.value);\n\n    newControl.label = newLabel;\n    newControl.slug =\n      // replace anything non-alphanumeric with \"_\".\n      // \"Display: time (ms!)\" becomes \"display_time_ms_\"\n      newLabel.replace(/[^a-z0-9]+/gi, \"_\").toLowerCase();\n\n    if (/^\\d/.test(newControl.slug)) {\n      // it starts with a number\n      newControl.slug = `slug_cant_start_with_number_${newControl.slug}`;\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n\n    // State that depends on the slug will be invalid after changing it\n    this.updateElementPropertiesNotTiedToControl(newControl);\n  }\n\n  updateControlBoolean(\n    enable: boolean,\n    property: \"enableHover\" | \"enableMediaQueries\"\n  ) {\n    const newControl = defensiveCopy(this.value);\n    newControl[property] = enable;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDynamicPropertyPaths(\n    enable: boolean,\n    accepts: DynamicFieldReturnType = \"string\"\n  ) {\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    // Avoids duplicating the element on each change\n    if (newDynamicPropertyPaths) {\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        propPath => propPath.path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    if (enable) {\n      if (!newDynamicPropertyPaths) {\n        newDynamicPropertyPaths = [];\n      }\n\n      newDynamicPropertyPaths.push({\n        accepts,\n        path: this.twigPathWithoutRepeaterIndex\n      });\n    }\n\n    this.context.updateElementValue(\n      \"dynamicPropertyPaths\",\n      newDynamicPropertyPaths\n    );\n  }\n\n  isSpacingBarEnabled() {\n    const spacingBars = this.context.element().spacingBars;\n\n    if (!spacingBars || !spacingBars.length) return false;\n\n    if (!this.spacingBarPresetSlug) return false;\n\n    const spacingBarsAffectedPropertyPaths = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    ).map(spaceBar => spaceBar.affectedPropertyPath);\n\n    // If any current spacing bar matches a spacingBarsAffectedPropertyPaths it's enabled\n    const enabledSpaceBar = spacingBars.find(elementSpaceBar =>\n      spacingBarsAffectedPropertyPaths.includes(\n        elementSpaceBar.affectedPropertyPath\n      )\n    );\n\n    return !!enabledSpaceBar;\n  }\n\n  updateSpacingBar(enabled: boolean) {\n    if (!this.spacingBarPresetSlug) return;\n\n    let newSpacingBars = defensiveCopy(this.context.element().spacingBars);\n\n    const spacingBars = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    );\n\n    if (enabled) {\n      if (!newSpacingBars) {\n        newSpacingBars = [];\n      }\n\n      newSpacingBars = [...newSpacingBars, ...spacingBars];\n    } else if (newSpacingBars) {\n      const spacingBarsAffectedPropertyPaths = spacingBars.map(\n        spaceBar => spaceBar.affectedPropertyPath\n      );\n\n      newSpacingBars = newSpacingBars.filter(\n        elementSpaceBar =>\n          !spacingBarsAffectedPropertyPaths.includes(\n            elementSpaceBar.affectedPropertyPath\n          )\n      );\n    }\n\n    this.context.updateElementValue(\"spacingBars\", newSpacingBars);\n  }\n\n  // must be called last\n  updateElementPropertiesNotTiedToControl(newControl: Control) {\n    // nextTick to wait for props to  propagate with the new values.\n    // This avoids overriding changes since we call the functions one after another\n    // The correct way would've been to update the entire element value through context and not just a single property\n    // But I'm not refactoring everything\n    forceNextTick(() => this.updateSpacingBar(false));\n    forceNextTick(() => this.updateDynamicPropertyPaths(false));\n    forceNextTick(() => this.updatePropertyPathsToWhitelistInFlatProps(false));\n    forceNextTick(() =>\n      this.updatePropertyPathsToSsrElementWhenValueChanges(false)\n    );\n\n    this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n\n    this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n  }\n\n  get shouldControlValueBeAddedInAllBreakpoints() {\n    const propertyPathsToWhitelistInFlatProps = this.context.element()\n      .propertyPathsToWhitelistInFlatProps;\n\n    return (\n      propertyPathsToWhitelistInFlatProps &&\n      propertyPathsToWhitelistInFlatProps.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToWhitelistInFlatProps(enable: boolean) {\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToWhitelistInFlatProps) {\n        newPropertyPathsToWhitelistInFlatProps = [];\n      }\n\n      newPropertyPathsToWhitelistInFlatProps.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToWhitelistInFlatProps) {\n      const propertyPathIndex = newPropertyPathsToWhitelistInFlatProps.findIndex(\n        (path: string) => path === this.twigPathWithoutRepeaterIndex\n      );\n\n      if (propertyPathIndex > -1) {\n        newPropertyPathsToWhitelistInFlatProps.splice(propertyPathIndex, 1);\n      }\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToWhitelistInFlatProps\",\n      newPropertyPathsToWhitelistInFlatProps\n    );\n  }\n\n  get hasSsr() {\n    return this.context.element().template.includes(\"%%SSR%%\");\n  }\n\n  get shouldControlValueCauseSsr() {\n    const propertyPathsToSsrElementWhenValueChanges = this.context.element()\n      .propertyPathsToSsrElementWhenValueChanges;\n\n    return (\n      propertyPathsToSsrElementWhenValueChanges &&\n      propertyPathsToSsrElementWhenValueChanges.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToSsrElementWhenValueChanges(enable: boolean) {\n    let newPropertyPathsToSsrElementWhenValueChanges = defensiveCopy(\n      this.context.element().propertyPathsToSsrElementWhenValueChanges\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToSsrElementWhenValueChanges) {\n        newPropertyPathsToSsrElementWhenValueChanges = [];\n      }\n\n      newPropertyPathsToSsrElementWhenValueChanges.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToSsrElementWhenValueChanges) {\n      newPropertyPathsToSsrElementWhenValueChanges = newPropertyPathsToSsrElementWhenValueChanges.filter(\n        (path: string) => path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToSsrElementWhenValueChanges\",\n      newPropertyPathsToSsrElementWhenValueChanges\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ControlSectionOrControl.vue?vue&type=template&id=09b51237&\"\nimport script from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nexport * from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCheckbox,VList,VListItem,VListItemTitle,VSelect,VSpacer,VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { BuilderElementControls } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport ControlSectionOrControl from \"./ControlSectionOrControl.vue\";\nimport draggable from \"vuedraggable\";\nimport { Control } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    ControlSectionOrControl,\n    draggable\n  }\n})\nexport default class ElementStudioControls extends Vue {\n  @Prop()\n  value!: BuilderElementControls;\n\n  @Prop()\n  section!: \"design\" | \"content\";\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get sectionName() {\n    return `${this.section}Sections`;\n  }\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(this.sectionName, newControls);\n  }\n\n  get canPaste() {\n    return (\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  handlePaste() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(this.sectionName, controlToPaste);\n  }\n\n  addSection() {\n    this.context.addControl(this.sectionName, \"section\");\n  }\n\n  addPreset() {\n    this.context.addPreset(this.sectionName);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioControls.vue?vue&type=template&id=d8c974a0&\"\nimport script from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Dependencies \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n      options: {\n        repeaterOptions: {\n          titleTemplate: '{title}',\n          defaultTitle: 'Dependency'\n        }\n      }\n    }},on:{\"input\":function($event){return _vm.updateDependenciesRoot($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n    var repeaterIndexRoot = ref.index;\n    var value = ref.value;\nreturn [_c('v-text-field',{attrs:{\"label\":\"Title\",\"value\":value.title},on:{\"input\":function($event){return _vm.updateDependency($event, (\"[\" + repeaterIndexRoot + \"].title\"))}}}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'scripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('scripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Scripts (\"+_vm._s(value.scripts ? value.scripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.scripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to script' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, (\"[\" + repeaterIndexRoot + \"].scripts\"))}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex = ref.index;\n            var value = ref.value;\nreturn [_c('v-autocomplete',{attrs:{\"placeholder\":\"Script\",\"value\":value,\"items\":_vm.jsLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (\"[\" + repeaterIndexRoot + \"].scripts[\" + repeaterIndex + \"]\")\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.jsLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      (\"[\" + repeaterIndexRoot + \"].scripts[\" + repeaterIndex + \"]\")\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineScripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineScripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Scripts (\"+_vm._s(value.inlineScripts ? value.inlineScripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.inlineScripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'JavaScript' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                (\"[\" + repeaterIndexRoot + \"].inlineScripts\")\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var repeaterIndex = ref.index;\n              var value = ref.value;\nreturn [_c('div',{staticClass:\"element-studio__execute-inline-script-dependencies\"},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.executeInlineScript(\n                      (\"[\" + repeaterIndexRoot + \"].inlineScripts[\" + repeaterIndex + \"]\")\n                    )}}},[_vm._v(\" Execute code \")])],1),_c('CodeInput',{attrs:{\"value\":value,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    (\"[\" + repeaterIndexRoot + \"].inlineScripts[\" + repeaterIndex + \"]\")\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'styles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('styles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Styles (\"+_vm._s(value.styles ? value.styles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.styles,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to style' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, (\"[\" + repeaterIndexRoot + \"].styles\"))}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex = ref.index;\n            var value = ref.value;\nreturn [_c('v-autocomplete',{attrs:{\"placeholder\":\"Style\",\"value\":value,\"items\":_vm.cssLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (\"[\" + repeaterIndexRoot + \"].styles[\" + repeaterIndex + \"]\")\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.cssLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      (\"[\" + repeaterIndexRoot + \"].styles[\" + repeaterIndex + \"]\")\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineStyles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineStyles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Styles (\"+_vm._s(value.inlineStyles ? value.inlineStyles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"path\":\"inlineStyles\",\"value\":value.inlineStyles,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'CSS'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                (\"[\" + repeaterIndexRoot + \"].inlineStyles\")\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var repeaterIndex = ref.index;\n              var value = ref.value;\nreturn [_c('CodeInput',{attrs:{\"value\":value,\"language\":\"css\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    (\"[\" + repeaterIndexRoot + \"].inlineStyles[\" + repeaterIndex + \"]\")\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('div',{staticClass:\"element-studio-dependencies-separator\"}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'builderCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('builderCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Builder Condition (\"+_vm._s(value.builderCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.builderCondition,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                (\"[\" + repeaterIndexRoot + \"].builderCondition\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",[_vm._v(\"Decides if the dependencies are added to the builder\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and JS code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'frontendCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('frontendCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Frontend Condition (\"+_vm._s(value.frontendCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.frontendCondition,\"language\":\"x-php\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                (\"[\" + repeaterIndexRoot + \"].frontendCondition\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",[_vm._v(\"Decides if the dependencies are added to the frontend\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and PHP code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-center\"},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":_vm.open ? '90' : undefined,\"size\":\"12\"}}),_c('b',[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class TextWithChevron extends Vue {\n  @Prop()\n  open!: boolean;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextWithChevron.vue?vue&type=template&id=ba3f4bd2&\"\nimport script from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\n\nexport const TagsV = t.union([\n  t.literal(\"id\"), // Element ID\n  t.literal(\"parentId\"), // Element's parent ID\n  t.literal(\"selector\"), // Element CSS Selector\n  t.literal(\"parent_selector\"), // Parent CSS Selector\n  t.literal(\"postId\"), // Parent-most post ID\n  t.literal(\"ssr\") // SSR Content\n]);\nexport const TAGS_AVAILABLE: Tag[] = TagsV.types.map(({ value }) => value);\nexport type Tag = t.TypeOf<typeof TagsV>;\nexport type Tags = Partial<Record<Tag, string | number | null>>;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport {\n  AvailableDependencyFilesV,\n  ElementDependencyAndCondition\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { addOrRerunInlineScriptInHead } from \"@/lib/canvas/assets/js-in-head\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { VuetifyShapeForSelect } from \"@/types/conditions\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport * as t from \"io-ts\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\ntype DependencyKeys = keyof ElementDependencyAndCondition;\n\n@Component({\n  components: {\n    TextInput,\n    TextWithChevron,\n    CodeInput,\n    Accordion,\n    ShittyTextInput,\n    Repeater\n  }\n})\nexport default class ElementStudioDependencies extends Vue {\n  @Prop()\n  value!: ElementDependencyAndCondition[] | false;\n\n  accordionState: DependencyKeys | \"\" = \"\";\n  index = 0;\n  conditionInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  async mounted() {\n    if (configStore.localDependenciesFiles.length) return;\n\n    await this.getLocalDependenciesFilesFromWordpress();\n  }\n\n  async getLocalDependenciesFilesFromWordpress() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_local_dependency_files\",\n        decoder: t.array(AvailableDependencyFilesV),\n        resultKey: \"localDependencyFiles\"\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        localDependencyFiles => {\n          configStore.setLocalDependenciesFiles(localDependencyFiles);\n        }\n      )\n    );\n  }\n\n  updateDependenciesRoot(newValue: ElementDependencyAndCondition[]) {\n    this.context.updateDependency(newValue);\n  }\n\n  updateDependencies(newValue: ({} | string)[], path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n\n    lodash.set(\n      newDependencies,\n      path,\n      // Turn objects into string. It happens when Repeater adds a new item\n      newValue.map(dependency =>\n        typeof dependency === \"string\" ? dependency : \"\"\n      )\n    );\n\n    this.context.updateDependency(newDependencies);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n    lodash.set(newDependencies, path, newValue);\n    this.context.updateDependency(newDependencies);\n  }\n\n  toggleAccordion(state: DependencyKeys) {\n    this.accordionState = this.accordionState === state ? \"\" : state;\n  }\n\n  executeInlineScript(path: string) {\n    const inlineScript = lodash.get(this.value, path);\n\n    if (inlineScript) {\n      addOrRerunInlineScriptInHead(getBuilderCanvasDocument(), {\n        code: inlineScript,\n        origin: `Executed inline script from Element Studio`\n      });\n    }\n  }\n\n  dependencyIsNotLocal(value: string, localDepsItems: VuetifyShapeForSelect[]) {\n    return !localDepsItems.find(\n      localDep => \"value\" in localDep && localDep.value === value\n    );\n  }\n\n  get jsLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"js\");\n  }\n\n  get cssLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"css\");\n  }\n\n  localDependenciesAsVuetifySelectShape(fileType: \"js\" | \"css\") {\n    const localDependencies: VuetifyShapeForSelect[] = [];\n\n    configStore.localDependenciesFiles.forEach(dependencyFile => {\n      if (!dependencyFile.files[fileType].length) return;\n\n      localDependencies.push({ header: dependencyFile.name });\n\n      dependencyFile.files[fileType].forEach(file => {\n        localDependencies.push({\n          text: file.name,\n          value: file.url\n        });\n      });\n    });\n\n    return localDependencies;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDependencies.vue?vue&type=template&id=724382e9&\"\nimport script from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VTextField})\n","/*\n  Avoid duplication of controls, settings and others\n  Removing external controls, settingsSections and cleaning up CSS Template before sending to PHP\n\n  PHP will re-add them all back on each render otherwise\n */\n\nimport { BuilderElement } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\n\nexport const getElementWithoutExternalValues = (elementArg: BuilderElement) => {\n  const element = defensiveCopy(elementArg);\n\n  const cleanElement = getElementWithoutExternalControls(element);\n\n  cleanElement.controls.settingsSections = [];\n  // Delete everything after '{#%---' which is the delimiter for universal twig CSS\n  cleanElement.cssTemplate = cleanElement.cssTemplate.split(\"\\n{#%---\")[0];\n\n  return cleanElement;\n};\n\n// Filter out all external controls (like AOS, motion effects, etc)\nfunction getElementWithoutExternalControls(elementArg: BuilderElement) {\n  const element = defensiveCopy(elementArg);\n\n  objectGetTypedKeys(element.controls).forEach(key => {\n    element.controls[key] = element.controls[key].filter(\n      control => !control.options.isExternal\n    );\n  });\n\n  return element;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === _vm.actionKey},on:{\"toggle\":_vm.toggleAccordion},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" \"+_vm._s(_vm.actionName)+\" (\"+_vm._s(_vm.value && _vm.value[_vm.actionKey] ? _vm.value[_vm.actionKey].length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('b',[_vm._t(\"action-description\")],2),_c('Repeater',{attrs:{\"value\":_vm.value[_vm.actionKey],\"control\":{\n          options: {\n            repeaterOptions: {\n              titleTemplate: 'Script',\n              buttonName: 'Add script'\n            }\n          }\n        },\"default-new-value\":{ script: '' }},on:{\"input\":function($event){return _vm.updateActions($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var repeaterIndex = ref.index;\n        var value = ref.value;\nreturn [_c('CodeInput',{attrs:{\"language\":\"javascript\",\"value\":value.script,\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateAction(\n                $event || '',\n                (_vm.actionKey + \"[\" + repeaterIndex + \"].script\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.actionInfoOpen\n            },on:{\"click\":function($event){_vm.actionInfoOpen = !_vm.actionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.actionInfoOpen}},[_vm._t(\"default\",[_vm._v(\" Available within the action's code: \")])],2),(_vm.actionKey === 'onAfterDeletedElement')?[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" Tags: \"),_c('code',[_vm._v(\"%%PARENT_SELECTOR%%\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"%%PARENT_ID%%\")]),_vm._v(\" are available. \")])]:[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" You can use Twig to access the element properties. eg. \"),_c('code',[_vm._v(\"{ { design.background.color } }\")]),_vm._v(\". \")]),_c('div',{staticClass:\"mt-3\"},[_c('code',[_vm._v(\"%%SELECTOR%%, %%ID%%\")]),_vm._v(\" are also available. \")])]],2),(_vm.withDependencies)?_c('Repeater',{attrs:{\"value\":value.dependencies,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'Dependency',\n                  buttonName: 'Add dependency'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, repeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex2 = ref.index;\n            var value2 = ref.value;\nreturn [_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"value\":value2},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (_vm.actionKey + \"[\" + repeaterIndex + \"].dependencies[\" + repeaterIndex2 + \"]\")\n                  )}}}),_c('div',{class:{\n                  'element-studio-action-info': true,\n                  'element-studio-action-info__open': _vm.dependencyInfoOpen\n                },on:{\"click\":function($event){_vm.dependencyInfoOpen = !_vm.dependencyInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.dependencyInfoOpen}},[_vm._t(\"default\",[_vm._t(\"dependency-description-title\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._t(\"dependency-description\")],2)],1)]}}],null,true)}):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":value.runForAllChildren,\"label\":\"Run for all children\",\"hint\":\"beware that the Twig code running in the action will be with the child's data, including tags\",\"persistent-hint\":\"\"},on:{\"change\":function($event){return _vm.updateAction(\n                $event,\n                (_vm.actionKey + \"[\" + repeaterIndex + \"].runForAllChildren\")\n              )}}})]}}],null,true)})]},proxy:true}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { BuilderActionData, BuilderActions } from \"@/types/elements\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\n\ntype BuilderActionKeys = keyof BuilderActions;\n\n@Component({\n  components: {\n    TextWithChevron,\n    CodeInput,\n    ShittyTextInput,\n    Repeater,\n    Accordion\n  }\n})\nexport default class ElementStudioAction extends Vue {\n  @Prop()\n  value!: BuilderActions | false;\n\n  @Prop()\n  actionKey!: BuilderActionKeys;\n\n  @Prop()\n  accordionState!: BuilderActionKeys | \"\";\n\n  @Prop({ default: true })\n  withDependencies!: boolean;\n\n  index = 0;\n  actionInfoOpen = false;\n  dependencyInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get actionName() {\n    return lodash.lowerCase(this.actionKey);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  toggleAccordion() {\n    this.$emit(\n      \"toggle\",\n      this.accordionState === this.actionKey ? \"\" : this.actionKey\n    );\n  }\n\n  getValueOrDefault(path: BuilderActionKeys) {\n    let newActions = defensiveCopy(this.value);\n\n    if (!newActions) {\n      newActions = { [path]: [{ script: \"\" }] };\n    } else if (!newActions[path]) {\n      newActions[path] = [{ script: \"\" }];\n    }\n\n    return newActions;\n  }\n\n  updateActions(newValues: BuilderActionData[]) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    newActions[this.actionKey] = newValues;\n\n    this.context.updateActions(newActions);\n  }\n\n  updateAction(newValue: string, path: string) {\n    // We know it can't be false here\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n    this.context.updateActions(newActions);\n  }\n\n  updateDependencies(newValue: ({} | string)[], index: number) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    let action = newActions[this.actionKey];\n\n    if (!action) {\n      action = [];\n    }\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    action[index].dependencies = newValue.map(script =>\n      typeof script === \"string\" ? script : \"\"\n    );\n\n    newActions[this.actionKey] = action;\n\n    this.context.updateActions(newActions);\n  }\n\n  get pathsToAllControls() {\n    const controls = this.context.element().controls;\n    return [\n      controls.designSections.length ? \"design\" : null,\n      controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    // We know it can't be false here because it can only be reached after a value being added\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n\n    this.context.updateActions(newActions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAction.vue?vue&type=template&id=40bf053f&\"\nimport script from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        defaultNewValue: {\n          name: '',\n          template: ''\n        },\n        titleTemplate: 'HTML Attribute',\n        buttonName: 'Add new HTML attribute'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateAttributes($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Attribute Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlAttributeNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Attribute Value\")]),('template' in value)?_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateTemplateValue(repeaterIndex, $event)}}}):('propertyPath' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updatePropertyPathValue(repeaterIndex, $event)}}}):('rawValue' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updateRawValue(repeaterIndex, $event)}}}):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderElementAttributePropertyPathBased,\n  BuilderElementAttributes,\n  BuilderElementAttributeTemplated,\n  BuilderElementAttributeWithRawValue\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAttributes extends Vue {\n  @Prop({ default: () => [] })\n  value!: BuilderElementAttributes;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateAttributes(newValue: BuilderElementAttributes) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newAttributeName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlAttributeNameRule(newAttributeName) !== true) return;\n\n    newValue[index].name = newAttributeName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateTemplateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[index] as BuilderElementAttributeTemplated).template =\n      newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  updatePropertyPathValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributePropertyPathBased).propertyPath = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  updateRawValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributeWithRawValue).rawValue = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlAttributeNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlAttributeName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAttributes.vue?vue&type=template&id=4cf0ed44&\"\nimport script from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Class .{name}',\n        buttonName: 'Add Class',\n        defaultNewValue: {\n          name: 'my-class',\n          template: 'yes'\n        }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateClasses($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Class Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Class Condition Twig Template\")]),_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}}),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. \")]),_c('div',[_vm._v(\" (the returned value is trimmed for spaces and newlines) \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport { BuilderElementAdditionalClasses } from \"@/types/elements\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAdditionalClasses extends Vue {\n  @Prop({ default: [] })\n  value!: BuilderElementAdditionalClasses;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateClasses(newValue: BuilderElementAdditionalClasses) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newClassName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    newValue[index].name = newClassName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].template = newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAdditionalClasses.vue?vue&type=template&id=2105a9d1&\"\nimport script from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_vm._v(\" Looks Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.looksGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('looksGood', $event)}}}),_c('br'),_vm._v(\" Options Are Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsGood', $event)}}}),_c('br'),_vm._v(\" Options Work \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsWork,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsWork', $event)}}}),_c('br'),_vm._v(\" Dynamic Behavior Works \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.dynamicBehaviorWorks,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('dynamicBehaviorWorks', $event)}}}),_c('br'),_c('br'),_c('v-textarea',{staticStyle:{\"border\":\"1px solid var(--gray500)\"},attrs:{\"filled\":\"\",\"value\":_vm.value.notes},on:{\"input\":_vm.updateNotes}}),_c('br')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderElementProjectManagement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: { DropdownInput }\n})\nexport default class ElementStudioProjectManagement extends Vue {\n  @Prop()\n  value!: BuilderElementProjectManagement;\n\n  get dropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  updateValueForKey(\n    key: keyof BuilderElementProjectManagement,\n    value: BuilderElementProjectManagementValue | undefined\n  ) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue[key] = value;\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  updateNotes(newNotes: unknown) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue.notes =\n      typeof newNotes === \"string\" ? newNotes : \"\";\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  emit(newValue: BuilderElementProjectManagement) {\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioProjectManagement.vue?vue&type=template&id=6a169e7c&\"\nimport script from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCard,VCardText,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('InlineRepeater',{attrs:{\"value\":_vm.value || []},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nvar value = ref.value;\nreturn [_c('v-combobox',{attrs:{\"value\":value,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updatePropertyPathByIndex(repeaterIndex, $event)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\n\n@Component({\n  components: {\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioPropertyPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: string[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: (string | {})[]) {\n    const newValueWithNewEntryChangedToEmptyString = newValue.map(value => {\n      if (typeof value === \"string\") {\n        return value;\n      }\n\n      return \"\";\n    });\n\n    this.$emit(\"input\", newValueWithNewEntryChangedToEmptyString);\n  }\n\n  updatePropertyPathByIndex(index: number, newPath: string | undefined) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!newPath || !this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index] = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPropertyPaths.vue?vue&type=template&id=149653f7&\"\nimport script from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Dynamic Property Paths\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.value.dynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath($event, 'dynamicPropertyPaths')}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'propertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('propertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Property paths to whitelist in flat props\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToWhitelistInFlatProps'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamic-prop-paths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamic-prop-paths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Property paths to SSR the element when value changes \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToSsrElementWhenValueChanges,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToSsrElementWhenValueChanges'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'spacing-bars'},on:{\"toggle\":function($event){return _vm.toggleAccordion('spacing-bars')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Spacing Bars\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioSpacingBars',{attrs:{\"value\":_vm.value.spacingBars}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: '{path} - {accepts}',\n        buttonName: 'Add new Dynamic Property Path',\n        defaultNewValue: { accepts: 'string', path: '' }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Dynamic Property Path\")]),_c('v-combobox',{attrs:{\"value\":value.path,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateDynamicPropertyPath(repeaterIndex, $event)}}}),_c('b',{staticClass:\"d-block pt-2\"},[_vm._v(\"Accepts:\")]),_c('DropdownInput',{attrs:{\"items\":_vm.getDynamicPathAcceptsItems,\"value\":value.accepts},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { getDynamicPathAcceptsItems } from \"@/lib/dynamic-data/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\nimport {\n  DynamicFieldReturnType,\n  DynamicPropertyPath\n} from \"@/types/dynamic-property-path\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioDynPropPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: DynamicPropertyPath[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: DynamicPropertyPath[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateDynamicPropertyPath(index: number, newPath: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index].path = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n\n  get getDynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  updateValue(index: number, newAccepts: DynamicFieldReturnType) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].accepts = newAccepts;\n    this.updateElementValue(newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDynPropPaths.vue?vue&type=template&id=d3b1c41e&\"\nimport script from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Spacing bar',\n        buttonName: 'Add new spacing bar'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateSpaceBars($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var value = ref.value;\n  var index = ref.index;\nreturn [_c('ElementStudioSpacingBar',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateSpaceBar($event, index)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Location\")]),_c('DropdownInput',{attrs:{\"items\":_vm.cssProperties,\"value\":_vm.newSpaceBar.cssProperty},on:{\"input\":_vm.updateLocationAndProperty}}),_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Affected property path\")]),_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"placeholder\":\"design.spacing.%%BREAKPOINT%%.top\"},model:{value:(_vm.newSpaceBar.affectedPropertyPath),callback:function ($$v) {_vm.$set(_vm.newSpaceBar, \"affectedPropertyPath\", $$v)},expression:\"newSpaceBar.affectedPropertyPath\"}}),_c('NiceButton',{on:{\"click\":_vm.saveNewSpaceBar}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  SpacingBarCssProperty,\n  SpacingBarDescription,\n  SpacingBarDescriptionV,\n  SpacingBarLocation,\n  SpacingBarLocationV,\n  SpacingBarProperty\n} from \"@/types/elements\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, DropdownInput }\n})\nexport default class ElementStudioSpacingBar extends Vue {\n  @Prop()\n  value!: SpacingBarDescription;\n\n  newSpaceBar = this.value || {};\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get pathsToAllControls() {\n    return this.context.getPathsToAllControls();\n  }\n\n  // merge location and property so that the user selects only one. They're tied together anyway and reduces errors\n  get propertiesLocationsKeyPair() {\n    const locations = SpacingBarLocationV.types.map(type => type.value);\n    const cssProperties = SpacingBarCssProperty.types.map(type => type.value);\n\n    return cssProperties.reduce(\n      (acc, property, key) => ({ ...acc, [property]: locations[key] }),\n      {}\n    ) as Record<SpacingBarProperty, SpacingBarLocation>;\n  }\n\n  get cssProperties() {\n    return Object.keys(this.propertiesLocationsKeyPair);\n  }\n\n  updateLocationAndProperty(newProperty: SpacingBarProperty) {\n    this.newSpaceBar.cssProperty = newProperty;\n\n    this.newSpaceBar.location = this.propertiesLocationsKeyPair[newProperty];\n  }\n\n  saveNewSpaceBar() {\n    pipe(\n      SpacingBarDescriptionV.decode(this.newSpaceBar),\n      fold(\n        e => {\n          NotificationLogger.log.message(\n            `Error saving new space bar, please fill out all fields`\n          );\n\n          iotsErrorsToCustomErrorType(e);\n        },\n        () => {\n          this.$emit(\"input\", this.newSpaceBar);\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBar.vue?vue&type=template&id=33cfa7e7&\"\nimport script from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ElementStudioSpacingBar from \"@/components/ElementStudio/ElementStudioSpacingBar.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBar,\n    NiceButton,\n    TextInput,\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioSpacingBars extends Vue {\n  @Prop({ default: [] })\n  value!: SpacingBarDescription[];\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateSpaceBar(newSpaceBar: SpacingBarDescription, index: number) {\n    const spaceBars = defensiveCopy(this.value);\n\n    spaceBars[index] = newSpaceBar;\n\n    this.updateSpaceBars(spaceBars);\n  }\n\n  updateSpaceBars(newSpaceBars: SpacingBarDescription[]) {\n    this.context.updateElementValue(\"spacingBars\", newSpaceBars);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBars.vue?vue&type=template&id=a28e3dfa&\"\nimport script from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioSpacingBars from \"@/components/ElementStudio/ElementStudioSpacingBars.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBars,\n    ElementStudioPropertyPaths,\n    ElementStudioDynPropPaths,\n    Accordion\n  }\n})\nexport default class ElementStudioManagePropertyPaths extends Vue {\n  @Prop()\n  value!: BuilderElement;\n\n  accordionState = \"\";\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get allPathsWithDesignAndContent() {\n    return [\n      this.context.element().controls.designSections.length ? \"design\" : null,\n      this.context.element().controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  get allPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    this.context.updateElementValue(propertyName, newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioManagePropertyPaths.vue?vue&type=template&id=419b9cf0&\"\nimport script from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { MacrosData } from \"@/types/elements\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\n\nexport function setTwigMacrosInStoreAndRecompile(twigMacros: MacrosData) {\n  configStore.setTwigMacros(twigMacros);\n\n  // The local storage hash and cache will be updated on page refresh\n  // Don't touch it here\n  compileTwigTemplate(\n    getAllTwigMacrosString(twigMacros),\n    TWIG_MACROS_CACHE_KEY\n  );\n\n  // force the Canvas to re-render everything, since macros are not reactive\n  uiStore.forceUpdateEntireCanvas();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderActions,\n  BuilderElement,\n  BuilderElementControls,\n  ElementDependencyAndCondition,\n  NestingRuleTypeV,\n  RequiredPluginV\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioControls from \"./ElementStudioControls.vue\";\nimport * as lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\nimport ElementStudioDependencies from \"@/components/ElementStudio/ElementStudioDependencies.vue\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport ElementStudioAction from \"@/components/ElementStudio/ElementStudioAction.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  CurrentlyEditingMacro,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioItem,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport {\n  getNestingRuleTypesThatAreAllowedInside,\n  isNestingRuleAllowedInside\n} from \"@/lib/tree/nesting\";\nimport ElementStudioDefaultElements from \"@/components/ElementStudio/ElementStudioDefaultElements.vue\";\nimport ElementStudio from \"@/components/ElementStudio/ElementStudio.vue\";\nimport ElementStudioAttributes from \"@/components/ElementStudio/ElementStudioAttributes.vue\";\nimport ElementStudioAdditionalClasses from \"@/components/ElementStudio/ElementStudioAdditionalClasses.vue\";\nimport ElementStudioDefaultProperties from \"./ElementStudioDefaultProperties.vue\";\nimport ElementStudioProjectManagement from \"@/components/ElementStudio/ElementStudioProjectManagement.vue\";\nimport { unwrapControlValue } from \"@/lib/controls/utils\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioManagePropertyPaths from \"@/components/ElementStudio/ElementStudioManagePropertyPaths.vue\";\nimport { COLUMNS_SLUG } from \"@/lib/elements/constants\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { getBaseClassNameForBuilderElement } from \"@/lib/elements/utils\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport colors from \"@/sass/modules/color.module.scss\";\nimport {\n  getPathToAllControls,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  getElementSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName\n} from \"@/lib/elements/studio/misc\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport slugify from \"slugify\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport * as t from \"io-ts\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport clipboardCopy from \"clipboard-copy\";\nimport notifications from \"@/lib/notifications/notifications\";\nimport { renderTags } from \"@/lib/twig/twig\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst updateStoreActionsThrottled = lodash.debounce(\n  breakdanceStoreActions.registerAllStoreActions,\n  // This is a not-UI update so we make it slowish\n  500\n);\n\n@Component({\n  components: {\n    Dropdown,\n    ElementStudioSaveNewDialog,\n    TextInput,\n    ElementStudioIconsAutocomplete,\n    ElementStudioManagePropertyPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ElementIcon,\n    ToggleInput,\n    Icon,\n    ElementStudioAttributes,\n    ElementStudioAdditionalClasses,\n    ElementStudio,\n    ElementStudioDefaultElements,\n    CopyButton,\n    ElementStudioAction,\n    ElementStudioDependencies,\n    ElementStudioControls,\n    CodeInput,\n    ElementStudioDefaultProperties,\n    ElementStudioProjectManagement\n  }\n})\nexport default class ElementStudioTabsAndPanels extends Vue {\n  @Prop()\n  element!: BuilderElement;\n  @Prop({ default: \"primary\" })\n  type!: \"primary\" | \"secondary\";\n\n  @Prop()\n  available!: ElementStudioExpectedDataToLoad;\n\n  // Remember the last used tabs\n  tab = readFromLocalStorage(`element-studio-tab-${this.type}`) || \"content\";\n\n  actionsAccordionState = \"\";\n  nameHasChanged = false;\n  useLocalIcon =\n    !!iconNames.find(iconName => iconName === this.element.uiIcon) ||\n    !this.element.uiIcon ||\n    false;\n\n  contextMenu: { x: number; y: number } | false = false;\n  showNewMacroDialog = false;\n  savedCssSelection = \"\";\n\n  async mounted() {\n    document.addEventListener(\"contextmenu\", this.handleRightClickInCodeInput);\n  }\n\n  beforeDestroy() {\n    document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCodeInput\n    );\n  }\n\n  @Watch(\"element.name\")\n  onElementSlugChange() {\n    this.nameHasChanged = true;\n  }\n\n  handleRightClickInCodeInput(e: MouseEvent) {\n    const selectedText = window.getSelection()?.toString();\n\n    if (!(selectedText && (this.tab === \"css\" || this.tab === \"html\"))) {\n      return;\n    }\n\n    // only prevent it if we're going to show something. Otherwise, default.\n    e.preventDefault();\n\n    this.contextMenu = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n\n  handleCreateMacro() {\n    // When we open the dialog, the window loses focus and can't find the selection anymore\n    this.savedCssSelection = window.getSelection()?.toString() || \"\";\n    this.showNewMacroDialog = true;\n  }\n\n  async saveNewMacro(newItem: ElementStudioSaveLocationWithName) {\n    if (!this.savedCssSelection) return;\n\n    this.contextMenu = false;\n\n    const selectedCss = this.savedCssSelection?.toString();\n\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    // Tags such as %%SELECTOR%% are invalid twig and would error out\n    // plus it's nice DX\n    const macroText = renderTags(selectedCss, {\n      selector: \"{{ selector }}\",\n      id: \"{{ id }}\",\n      postId: \"{{ postId }}\"\n    }).replace(\"macros.\", \"_self.\");\n\n    const macro = `{% macro ${macroName}() %}\\n\\n${macroText} \\n\\n{% endmacro %}`;\n\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.available.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.available.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath: newItem.directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const macroText = `{{ macros.${macroName}() }}`;\n          notifications.log.message(`New macro created: ${macroText}. `);\n          clipboardCopy(macroText);\n\n          const newData = defensiveCopy(this.available);\n          newData.macros.push({\n            slug: newSlug,\n            directoryPath: newItem.directoryPath\n          });\n          this.elementStudioContext.updateElementStudioData(newData);\n\n          const newMacros = defensiveCopy(configStore.twigMacros);\n          newMacros.push({ macro, slug: newSlug });\n          setTwigMacrosInStoreAndRecompile(newMacros);\n        }\n      )\n    );\n  }\n\n  updateSlug() {\n    if (\n      !window.confirm(\n        \"Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?\"\n      )\n    ) {\n      return;\n    }\n\n    const newSlug = getElementSlug(\n      getItemNamespaceFromSlug(this.element.slug),\n      this.element.name\n    );\n\n    this.updateElementValue(\"slug\", newSlug);\n  }\n\n  updateUiOrder(newOrder: unknown) {\n    const safeOrder = Number(newOrder);\n    if (Number.isNaN(safeOrder)) {\n      this.updateElementValue(\"order\", 0);\n    } else {\n      this.updateElementValue(\"order\", safeOrder);\n    }\n  }\n\n  updateUiIcon(newIcon = \"SquareIcon\") {\n    this.updateElementValue(\"uiIcon\", newIcon);\n  }\n\n  updateUseLocalIcon(newUseLocalIcon: boolean) {\n    this.useLocalIcon = newUseLocalIcon;\n\n    if (!newUseLocalIcon) {\n      this.updateUiIcon(\"\");\n    }\n  }\n\n  updateClassName(newClassName: string | undefined) {\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    this.updateElementValue(\"className\", newClassName || false);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    if (!value) return true;\n\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateElementName(value: string) {\n    if (isValidItemName(value) !== true) return;\n\n    const newElement = defensiveCopy(this.element);\n\n    newElement.name = value;\n\n    this.emit(newElement);\n  }\n\n  updateElementValue(path: string, value: unknown) {\n    const newElement = defensiveCopy(this.element);\n    const newValue = unwrapControlValue(value);\n    lodash.set(newElement, path, newValue);\n\n    this.emit(newElement);\n  }\n\n  emit(newElement: BuilderElement) {\n    this.$emit(\"input\", newElement);\n  }\n\n  updateTab(newTab: string) {\n    // Update the preferences\n    writeToLocalStorage(`element-studio-tab-${this.type}`, newTab);\n    this.tab = newTab;\n  }\n\n  // We only get the internal controls in the prop\n  // So we use this to merge them back before emitting\n  mergeElementControlsWithExternalControls(\n    newElementControls: BuilderElementControls\n  ) {\n    const elementWithAllControls = defensiveCopy(newElementControls);\n\n    objectGetTypedKeys(this.element.controls).forEach(key => {\n      this.element.controls[key].forEach(control => {\n        if (control.options.isExternal) {\n          elementWithAllControls[key].push(control);\n        }\n      });\n    });\n\n    return elementWithAllControls;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get requiredPluginItems() {\n    return RequiredPluginV.types.map(type => type.value);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get pathsToAllControls() {\n    return this.elementStudioContext.getPathsToAllControls();\n  }\n\n  get nestingRuleTypeIsContainer() {\n    return (\n      getNestingRuleTypesThatAreAllowedInside(\n        this.cleanElement.nestingRule.type\n      ).length > 0 ||\n      this.cleanElement.nestingRule.type === \"container-restricted\"\n    );\n  }\n\n  get cleanElement() {\n    return getElementWithoutExternalValues(this.element);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories.map(category => ({\n      text: category.label,\n      value: category.slug\n    }));\n  }\n\n  get badgeColors() {\n    return Object.entries(colors).map(([k]) => {\n      const correctValue = k\n        .replace(/brand_/g, \"brand\")\n        .replace(/_dark|_light|breakdance_/g, \"\");\n\n      return {\n        text: correctValue,\n        value: `var(--${correctValue})`\n      };\n    });\n  }\n\n  get elementType() {\n    return NestingRuleTypeV.types.map(type => type.value);\n  }\n\n  get containerRestrictedElements() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element?.nestingRule.type === \"container-restricted\" &&\n          element?.slug !== COLUMNS_SLUG\n      )\n      .map(element => element?.slug);\n  }\n\n  get elementsThisElementIsAllowedToBeInsideOf() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element &&\n          isNestingRuleAllowedInside(\n            this.element.nestingRule,\n            element.nestingRule,\n            element.slug\n          )\n      )\n      .map(element => element?.slug);\n  }\n\n  get allElementSlugs() {\n    return Object.values(configStore.elements).map(element => element?.slug);\n  }\n\n  get elementClass() {\n    return `.${getBaseClassNameForBuilderElement(this.element)}`;\n  }\n\n  parentControls(path: string) {\n    // The path could lead to a Control (`${path}.children[${i}]`)\n    // Or a Control[] (designSections)\n    return defensiveCopy(\n      lodash.get(this.element.controls, path) as Control | Control[]\n    );\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = {\n    replaceControls: (path: string, newControls: Control[]) => {\n      const newElement = defensiveCopy(this.element);\n      lodash.set(newElement.controls, path, newControls);\n      this.emit(newElement);\n    },\n    pasteControl: (path: string, controlToPaste: Control) => {\n      const newElement = defensiveCopy(this.element);\n\n      const currentControls = lodash.get(newElement.controls, path);\n      currentControls.push(controlToPaste);\n\n      lodash.set(newElement.controls, path, currentControls);\n      this.emit(newElement);\n    },\n    addControl: (path: string, controlType: ControlType = \"text\") => {\n      const newElement = defensiveCopy(this.element);\n      const newControl: Control = {\n        slug: controlType === \"section\" ? \"new_section\" : \"new_control\",\n        label: controlType === \"section\" ? \"New Section\" : \"New Control\",\n        keywords: [],\n        options: {\n          type: controlType\n        },\n        enableMediaQueries: false,\n        enableHover: false,\n        children: []\n      };\n\n      if (\n        path.startsWith(\"contentSections\") ||\n        controlType === \"text\" ||\n        controlType === \"number\"\n      ) {\n        newControl.options.layout = \"vertical\";\n      }\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(newControl);\n      } else {\n        parentControl.children.push(newControl);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    addPreset: (path: string) => {\n      const newElement = defensiveCopy(this.element);\n      const presetSection = defensiveCopy(\n        this.elementStudioContext.getPresetSection(\n          \"EssentialElements\\\\typography\"\n        )\n      );\n\n      if (!presetSection) return;\n\n      presetSection.section.options.sectionOptions = {\n        ...presetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(presetSection.section);\n      } else {\n        parentControl.children.push(presetSection.section);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    deleteControl: (parentPath: string, index: number) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1);\n      } else {\n        parentControl.children.splice(index, 1);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateControl: (parentPath: string, index: number, newControl: Control) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1, newControl);\n      } else {\n        parentControl.children.splice(index, 1, newControl);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateDependency: (newDependencies: ElementDependencyAndCondition[]) => {\n      this.updateElementValue(\"dependencies\", newDependencies);\n    },\n    updateActions: (newActions: BuilderActions) => {\n      this.updateElementValue(\"actions\", newActions);\n      updateStoreActionsThrottled();\n    },\n    getPresetSection: (slug: string) => {\n      return this.available.presetSections.find(preset => preset.slug === slug);\n    },\n    getPresetSections: () => {\n      return this.available.presetSections;\n    },\n    getPathsToAllControls: (\n      controlTypes: ControlType[] = [],\n      controlTypesToIgnore: ControlType[] = [\"section\"]\n    ) => {\n      const contentPaths = getPathToAllControls(\n        this.element.controls.contentSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"content\"\n      );\n\n      const designPaths = getPathToAllControls(\n        this.element.controls.designSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"design\"\n      );\n\n      return [...contentPaths, ...designPaths];\n    },\n    element: () => {\n      return this.element;\n    },\n    updateElementValue: this.updateElementValue,\n    getElementStudioData: () => this.available,\n    updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n      this.update(newData);\n    }\n  };\n\n  update(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"update\", newData);\n  }\n\n  toggleActionAccordion(state: string) {\n    this.actionsAccordionState = state;\n  }\n\n  get htmlTags() {\n    return (\n      [\n        \"section\",\n        \"div\",\n        \"span\",\n        \"p\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"footer\",\n        \"header\",\n        \"nav\",\n        \"aside\",\n        \"figure\",\n        \"ul\",\n        \"ol\",\n        \"li\",\n        \"a\",\n        \"article\",\n        \"main\",\n        \"details\",\n        \"summary\",\n        \"img\"\n      ]\n        // No point in selecting the default\n        .filter(tag => tag !== this.cleanElement.htmlTag.default)\n    );\n  }\n\n  get defaultTag() {\n    // Add the default in case it's not in htmlTags. e.g \"section\" for Sections\n    return [...this.htmlTags, this.cleanElement.htmlTag.default];\n  }\n}\n\nexport type ElementStudioContext = typeof ElementStudioTabsAndPanels.prototype.elementStudioContext;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTabsAndPanels.vue?vue&type=template&id=e43f7170&\"\nimport script from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCheckbox,VCombobox,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VSelect,VTab,VTabs,VTextField})\n","import { BuilderElement } from \"@/types/elements\";\n\nexport const BLANK_ELEMENT: Omit<BuilderElement, \"slug\" | \"name\"> = {\n  className: false,\n  uiIcon: false,\n  category: \"other\",\n  badge: false,\n  htmlTag: {\n    default: \"div\",\n    options: [],\n    pathToControl: false\n  },\n  template: \"Blank Element\",\n  attributes: false,\n  cssTemplate: \"%%SELECTOR%% { }\",\n  defaultCss: \" \", // If it's empty PHP errors when creating the file even tho it works.\n  defaultProperties: false,\n  defaultChildren: false,\n  controls: { contentSections: [], designSections: [], settingsSections: [] },\n  dependencies: false,\n  actions: false,\n  nestingRule: { type: \"final\" },\n  spacingBars: false,\n  dynamicPropertyPaths: false,\n  settings: false,\n  addPanelRules: false,\n  experimental: false,\n  order: 0,\n  additionalClasses: false,\n  projectManagement: false,\n  propertyPathsToWhitelistInFlatProps: false,\n  propertyPathsToSsrElementWhenValueChanges: false\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingElement,\n  ElementStudioUIMode,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { updateElementAndPrecompileItsTemplates } from \"@/lib/elements/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport {\n  getItemNamespaceFromSlug,\n  getElementSlug,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport {\n  elementToPhp,\n  getFinalDirectoryPath,\n  removeElementPathFromDirectoryPath\n} from \"@/lib/elements/studio/element-to-php\";\nimport { BLANK_ELEMENT } from \"@/lib/elements/studio/blank-element\";\n\n@Component({\n  components: {\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioElements extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  @Prop()\n  width!: number;\n\n  lastSavedElement: CurrentlyEditingElement | false = false;\n  currentlyEditingElement: CurrentlyEditingElement | false = false;\n  saveInProgress = false;\n\n  get elementsSlug() {\n    return this.value.elements.map(element => element.slug);\n  }\n\n  updateCurrentlyEditingElement(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    this.currentlyEditingElement = defensiveCopy(newCurrentlyEditingElement);\n\n    // Set the lastSavedElement when opening a new element\n    if (this.lastSavedElement === false) {\n      this.lastSavedElement = defensiveCopy(newCurrentlyEditingElement);\n    }\n  }\n\n  updateAvailableElementsAndStore(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    const newSlug = newCurrentlyEditingElement.element.slug;\n\n    // Delete the old element if the user is changing the slug\n    // and it's not a copy of the element in a different save location\n    if (\n      this.lastSavedElement &&\n      newSlug !== this.lastSavedElement.element.slug &&\n      getItemNamespaceFromSlug(newSlug) ===\n        getItemNamespaceFromSlug(this.lastSavedElement.element.slug)\n    ) {\n      this.deleteElementFromServer(this.lastSavedElement);\n    }\n\n    const existingElement = !!this.value.elements.find(\n      element => element.slug === newSlug\n    );\n\n    if (!existingElement && newCurrentlyEditingElement.directoryPath) {\n      const newValue = defensiveCopy(this.value);\n\n      newValue.elements.push({\n        slug: newSlug,\n        directoryPath: newCurrentlyEditingElement.directoryPath\n      });\n\n      this.$emit(\"input\", newValue);\n    }\n\n    this.lastSavedElement = newCurrentlyEditingElement;\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingElement || !this.lastSavedElement) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedElement.element,\n      this.currentlyEditingElement.element\n    );\n  }\n\n  // throttle to make the experience smoother.\n  // There's lot of stuff running after an element updates\n  throttledUpdateElement = lodash.throttle(\n    updateElementAndPrecompileItsTemplates,\n    500\n  );\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"input\", newData);\n  }\n\n  updateElement(newElement: BuilderElement) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.lastSavedElement ||\n      !this.lastSavedElement.element\n    ) {\n      return;\n    }\n\n    const slugChanged = newElement.slug !== this.lastSavedElement.element.slug;\n\n    let directoryPath = this.currentlyEditingElement.directoryPath;\n\n    if (slugChanged && this.currentlyEditingElement.directoryPath) {\n      directoryPath = getFinalDirectoryPath({\n        directoryPath: removeElementPathFromDirectoryPath(\n          this.currentlyEditingElement.directoryPath\n        ),\n        elementName: this.currentlyEditingElement.element.name\n      });\n    }\n\n    this.currentlyEditingElement = {\n      directoryPath,\n      element: newElement,\n      onlyForAdvancedUsers: this.currentlyEditingElement.onlyForAdvancedUsers\n    };\n\n    this.throttledUpdateElement(newElement);\n  }\n\n  deleteElementFromStore(elementSlugToDelete: string) {\n    const indexOfElementToDelete = this.value.elements.findIndex(\n      element => element.slug === elementSlugToDelete\n    );\n\n    configStore.deleteElement(elementSlugToDelete);\n\n    if (indexOfElementToDelete !== -1) {\n      this.value.elements.splice(indexOfElementToDelete, 1);\n    }\n  }\n\n  deleteElement() {\n    if (!this.currentlyEditingElement) {\n      return;\n    }\n\n    this.deleteElementFromServer(this.currentlyEditingElement, () => {\n      this.currentlyEditingElement = false;\n    });\n  }\n\n  async deleteElementFromServer(\n    elementToDelete: CurrentlyEditingElement,\n    successCallback: () => void = () => {}\n  ) {\n    if (!elementToDelete.element) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_element\",\n        dataToPost: {\n          directoryPath: elementToDelete.directoryPath\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          if (!elementToDelete.element) {\n            NotificationLogger.log.message(\"Failed to delete element\");\n\n            return;\n          }\n\n          this.deleteElementFromStore(elementToDelete.element.slug);\n          successCallback();\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedElement && this.lastSavedElement.element) {\n      // Update to the last saved state\n      this.updateElement(this.lastSavedElement.element);\n    }\n\n    this.resetCurrentlyEditingElement();\n  }\n\n  resetCurrentlyEditingElement() {\n    this.currentlyEditingElement = false;\n    this.lastSavedElement = false;\n    this.$emit(\"active\", null);\n  }\n\n  /* ui stuff */\n  mode: ElementStudioUIMode =\n    (readFromLocalStorage(\"element-studio-mode\") as ElementStudioUIMode) ||\n    \"split-horizontal\";\n\n  switchMode() {\n    switch (this.mode) {\n      case \"split-vertical\":\n        this.mode = \"split-horizontal\";\n        this.$emit(\"width\", 750);\n        break;\n      case \"split-horizontal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"normal\";\n        break;\n      case \"normal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"split-vertical\";\n        break;\n    }\n\n    writeToLocalStorage(\"element-studio-mode\", this.mode);\n  }\n\n  openElement(elementSlug: string) {\n    const element = defensiveCopy(configStore.element(elementSlug));\n    const newStudioElement = this.value.elements.find(\n      element => element.slug === elementSlug\n    );\n\n    if (!newStudioElement) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      newStudioElement.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingElement({\n      element,\n      directoryPath: newStudioElement.directoryPath,\n      onlyForAdvancedUsers\n    });\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingElement) return;\n\n    const { namespace, directoryPath, onlyForAdvancedUsers } = saveLocation;\n\n    this.saveToServer(\n      this.currentlyEditingElement.element,\n      getFinalDirectoryPath({\n        directoryPath,\n        elementName: this.currentlyEditingElement.element.name\n      }),\n      namespace,\n      false,\n      onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const newSlug = getElementSlug(newItem.namespace, newItem.name);\n\n    if (this.value.elements.find(element => element.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"element\");\n\n      return;\n    }\n\n    const newElement = {\n      ...defensiveCopy(BLANK_ELEMENT),\n      slug: newSlug,\n      name: newItem.name\n    };\n\n    this.saveToServer(\n      newElement,\n      getFinalDirectoryPath({\n        directoryPath: newItem.directoryPath,\n        elementName: newItem.name\n      }),\n      newItem.namespace,\n      false,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveOverride(bypassPsalm: boolean) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.currentlyEditingElement.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingElement.element,\n      this.currentlyEditingElement.directoryPath,\n      getItemNamespaceFromSlug(this.currentlyEditingElement.element.slug),\n      bypassPsalm,\n      this.currentlyEditingElement.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    element: BuilderElement,\n    directoryPath: string,\n    namespaceArg: string | null,\n    bypassPsalm = false,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    const namespace = namespaceArg || getItemNamespaceFromSlug(element.slug);\n    const cleanElement = getElementWithoutExternalValues(element);\n    const elementSlug = element.slug || getElementSlug(namespace, element.name);\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_element\",\n        dataToPost: {\n          ...elementToPhp(cleanElement, namespace),\n          directoryPath,\n          bypassPsalm: bypassPsalm ? \"yes\" : \"no\"\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newElement = {\n            element: {\n              ...defensiveCopy(element),\n              slug: elementSlug,\n              // Uppercase first letters for consistency in naming across elements\n              name: element.name\n                .split(\" \")\n                .map(word => word.charAt(0).toUpperCase() + word.substring(1))\n                .join(\" \")\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingElement(newElement);\n          this.updateAvailableElementsAndStore(newElement);\n          updateElementAndPrecompileItsTemplates(newElement.element);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioElements.vue?vue&type=template&id=09d16932&\"\nimport script from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { ControlV } from \"./controls\";\n\nexport const ElementStudioItemV = t.type({\n  slug: t.string,\n  directoryPath: t.string\n});\n\nexport type ElementStudioItem = t.TypeOf<typeof ElementStudioItemV>;\n\nconst SaveLocationTypesV = t.union([\n  t.literal(\"element\"),\n  t.literal(\"macro\"),\n  t.literal(\"preset\")\n]);\n\nexport type SaveLocationType = t.TypeOf<typeof SaveLocationTypesV>;\n\nexport const ElementStudioSaveLocationV = t.type({\n  directoryPath: t.string,\n  namespace: t.string,\n  type: SaveLocationTypesV,\n  label: t.string,\n  onlyForAdvancedUsers: t.boolean\n});\n\nexport type ElementStudioSaveLocationWithName = ElementStudioSaveLocation & {\n  name: string;\n};\n\nexport type ElementStudioSaveLocation = t.TypeOf<\n  typeof ElementStudioSaveLocationV\n>;\n\nexport const PresetSectionV = t.type({\n  slug: t.string,\n  section: ControlV\n});\n\nexport type PresetSection = t.TypeOf<typeof PresetSectionV>;\n\nexport const ElementStudioExpectedDataToLoadV = t.type({\n  elements: t.array(ElementStudioItemV),\n  macros: t.array(ElementStudioItemV),\n  presets: t.array(ElementStudioItemV),\n  saveLocations: t.array(ElementStudioSaveLocationV),\n  presetSections: t.array(PresetSectionV)\n});\n\nexport type ElementStudioExpectedDataToLoad = t.TypeOf<\n  typeof ElementStudioExpectedDataToLoadV\n>;\n\nexport type CurrentlyEditingItem = {\n  directoryPath: string | false;\n  onlyForAdvancedUsers: boolean;\n};\n\nexport type CurrentlyEditingMacro = CurrentlyEditingItem & {\n  macroData: ElementStudioItem & { macro: string };\n};\n\nexport type CurrentlyEditingPreset = CurrentlyEditingItem & {\n  presetData: ElementStudioItem & { preset: PresetSection };\n};\n\nexport type CurrentlyEditingElement = CurrentlyEditingItem & {\n  element: BuilderElement;\n};\n\nexport type ElementStudioUIMode =\n  | \"split-vertical\"\n  | \"split-horizontal\"\n  | \"normal\";\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingMacro,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingMacro,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.macrosSlug,\"value\":_vm.currentlyEditingMacro,\"itemType\":\"macro\",\"item-name\":_vm.currentMacroName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openMacro,\"delete\":_vm.deleteMacro,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingMacro}}),(_vm.currentlyEditingMacro)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#macro\",\"title\":\"Macro\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('CodeInput',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'macro'),expression:\"activeTab === 'macro'\"}],attrs:{\"value\":_vm.currentlyEditingMacro.macroData.macro,\"language\":\"twig\"},on:{\"input\":_vm.updateMacroValue}}),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentMacroName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateMacroName}})],1):_vm._e()],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingMacro,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\n\n@Component({\n  components: {\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioMacros extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedMacro: CurrentlyEditingMacro | false = false;\n  currentlyEditingMacro: CurrentlyEditingMacro | false = false;\n\n  saveInProgress = false;\n\n  activeTab = \"macro\";\n\n  get macrosSlug() {\n    return this.value.macros.map(macro => macro.slug);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingMacro(newCurrentlyEditingMacro: CurrentlyEditingMacro) {\n    this.currentlyEditingMacro = defensiveCopy(newCurrentlyEditingMacro);\n\n    // Set the lastSavedMacro when opening a new element\n    if (this.lastSavedMacro === false) {\n      this.lastSavedMacro = defensiveCopy(newCurrentlyEditingMacro);\n    }\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updateMacroName(newName: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingMacro.macroData.slug),\n      newName\n    );\n  }\n\n  // re-compiling the macros is very heavy. Debounce this aggressively\n  throttledUpdateElement = lodash.debounce(\n    this.updateMacroAndRecompileTwigTemplates,\n    1000\n  );\n\n  updateMacroAndRecompileTwigTemplates(\n    newMacro: CurrentlyEditingMacro[\"macroData\"]\n  ) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n\n    const index = twigMacros.findIndex(macro => macro.slug === newMacro.slug);\n\n    if (index === -1) {\n      twigMacros.push(newMacro);\n\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.push(newMacro);\n\n      this.$emit(\"input\", newValue);\n    } else {\n      twigMacros[index].macro = newMacro.macro;\n    }\n\n    // Delete the old macro if the slug changed and it's not a copy of the macro in a different save location\n    if (\n      this.lastSavedMacro &&\n      this.lastSavedMacro.directoryPath &&\n      newMacro.slug !== this.lastSavedMacro.macroData.slug &&\n      newMacro.directoryPath === this.lastSavedMacro.directoryPath\n    ) {\n      this.deleteMacroFromServer(this.lastSavedMacro);\n    }\n\n    setTwigMacrosInStoreAndRecompile(twigMacros);\n  }\n\n  deleteMacroAndRecompileTwigTemplates(deletedMacroSlug: string) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n    const storeIndex = twigMacros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n    const valueIndex = this.value.macros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n\n    if (storeIndex !== -1) {\n      twigMacros.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    setTwigMacrosInStoreAndRecompile(twigMacros);\n  }\n\n  get currentMacroName() {\n    if (!this.currentlyEditingMacro) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingMacro || !this.lastSavedMacro) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedMacro.macroData,\n      this.currentlyEditingMacro.macroData\n    );\n  }\n\n  updateMacroValue(newMacro: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.macro = newMacro;\n\n    this.throttledUpdateElement(this.currentlyEditingMacro.macroData);\n  }\n\n  deleteMacro() {\n    if (!this.currentlyEditingMacro) {\n      return;\n    }\n\n    this.deleteMacroFromServer(this.currentlyEditingMacro, () => {\n      this.currentlyEditingMacro = false;\n    });\n  }\n\n  async deleteMacroFromServer(\n    macroToDelete: CurrentlyEditingMacro,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_macro\",\n        dataToPost: {\n          directoryPath: macroToDelete.directoryPath,\n          filename: getItemNameFromSlug(macroToDelete.macroData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deleteMacroAndRecompileTwigTemplates(\n            macroToDelete.macroData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedMacro && this.lastSavedMacro.macroData) {\n      this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData);\n    }\n\n    this.resetCurrentlyEditingMacro();\n  }\n\n  resetCurrentlyEditingMacro() {\n    this.currentlyEditingMacro = false;\n    this.lastSavedMacro = false;\n    this.$emit(\"active\", null);\n  }\n\n  openMacro(macroSlug: string) {\n    const macroSaveLocation = defensiveCopy(\n      this.value.macros.find(macro => macro.slug === macroSlug)\n    );\n\n    if (!macroSaveLocation) return;\n\n    const macroString = configStore.twigMacros.find(\n      macro => macro.slug === macroSlug\n    )?.macro;\n\n    if (!macroString) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      macroSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingMacro({\n      macroData: { ...macroSaveLocation, macro: macroString },\n      directoryPath: macroSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingMacro) return;\n\n    const filename = getItemNameFromSlug(\n      this.currentlyEditingMacro.macroData.slug\n    );\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      saveLocation.directoryPath,\n      filename,\n      getSlugFromNamespaceAndFilename(saveLocation.namespace, filename),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    this.saveToServer(\n      `{% macro ${macroName}() %}\\n  {# Your code here #} \\n{% endmacro %}`,\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingMacro ||\n      !this.currentlyEditingMacro.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      this.currentlyEditingMacro.directoryPath,\n      getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug),\n      this.currentlyEditingMacro.macroData.slug,\n      this.currentlyEditingMacro.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    macro: string,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newMacro: CurrentlyEditingMacro = {\n            macroData: {\n              macro,\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingMacro(newMacro);\n          this.updateMacroAndRecompileTwigTemplates(newMacro.macroData);\n          this.lastSavedMacro = newMacro;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMacros.vue?vue&type=template&id=c9b18f4a&\"\nimport script from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTab,VTabs,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingPreset,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingPreset,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.presetsSlug,\"value\":_vm.currentlyEditingPreset,\"itemType\":\"preset\",\"item-name\":_vm.currentPresetName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openPreset,\"delete\":_vm.deletePreset,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingPreset}}),(_vm.currentlyEditingPreset)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#preset\",\"title\":\"Preset\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#code-help\",\"title\":\"Code Help\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('ControlSectionOrControl',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'preset'),expression:\"activeTab === 'preset'\"}],attrs:{\"value\":_vm.currentPresetWithoutPresetSlug\n              ? _vm.currentPresetWithoutPresetSlug.presetData.preset.section\n              : [],\"index\":0,\"path\":\"control\",\"parentPath\":\"presetSection\",\"twigParentPath\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'code-help'),expression:\"activeTab === 'code-help'\"}]},[_vm._m(0),_c('CodeInput',{attrs:{\"language\":\"twig\",\"value\":_vm.codeHelpValue,\"placeholder\":_vm.codeHelpPlaceholder},on:{\"input\":_vm.updateCodeHelp}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'prop-paths'),expression:\"activeTab === 'prop-paths'\"}]},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativePropertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativePropertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Property Paths To Whitetlist In Flatprops \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.presetRelativePropertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativePropertyPathsToWhitelistInFlatProps'\n                  )}}})]},proxy:true}],null,false,3695337097)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativeDynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativeDynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Dynamic Property Paths \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.relativeDynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativeDynamicPropertyPaths'\n                  )}}})]},proxy:true}],null,false,63984396)})],1),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentPresetName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updatePresetSlug}}),_c('ToggleInput',{attrs:{\"value\":_vm.autoRefresh},on:{\"input\":_vm.updateAutoRefresh}}),_c('label',{staticClass:\"ml-2\"},[_vm._v(\"Live preview changes\")])],1):_vm._e()],1)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio__presets-code-help\"},[_c('div',[_c('b',[_vm._v(\"Code Help\")])]),_c('pre',[_vm._v(\"%%TWIG_PATH%%\")]),_vm._v(\" will be replaced with the correct path in the element. \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingPreset,\n  ElementStudioSaveLocation,\n  PresetSection,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  getPathToAllControls,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ControlSectionOrControl from \"@/components/ElementStudio/ControlSectionOrControl.vue\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { getEmptyElement } from \"@/lib/elements/utils\";\nimport { getBlankControl, getBlankControlSection } from \"@/lib/controls/utils\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\n\n@Component({\n  components: {\n    ToggleInput,\n    ElementStudioDynPropPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ControlSectionOrControl,\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioPresets extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedPreset: CurrentlyEditingPreset | false = false;\n  currentlyEditingPreset: CurrentlyEditingPreset | false = false;\n\n  saveInProgress = false;\n  activeTab = \"preset\";\n  accordionState = \"\";\n\n  autoRefresh = true;\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  /**\n   * \"Provide\" is not reactive. We use state inside it, so it must be reactive\n   * By giving it an object instead of a static function, we make it reactive\n   *\n   * https://github.com/soflyy/breakdance/issues/1550\n   */\n  reactiveContext() {\n    return {\n      replaceControls: (path: string, newControls: Control[]) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          newControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      pasteControl: (path: string, controlToPaste: Control) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const currentControls = lodash.get(\n          newEditingPreset.presetData.preset,\n          correctPath\n        );\n\n        currentControls.push(controlToPaste);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          currentControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addControl: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(getBlankControl());\n        } else {\n          parentControl.children.push(getBlankControl());\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addPreset: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const presetSection = defensiveCopy(\n          this.elementStudioContext.getPresetSection(\n            \"EssentialElements\\\\typography\"\n          )\n        );\n\n        if (!presetSection) return;\n\n        presetSection.section.options.sectionOptions = {\n          ...presetSection.section.options.sectionOptions,\n          type: \"popout\"\n        };\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(presetSection.section);\n        } else {\n          parentControl.children.push(presetSection.section);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      deleteControl: (parentPath: string, index: number) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(\n          parentPath\n        );\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.splice(index, 1);\n        } else {\n          parentControl.children.splice(index, 1);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      updateControl: (\n        parentPath: string,\n        index: number,\n        newControl: Control\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        if (parentPath === \"presetSection\") {\n          newEditingPreset.presetData.preset.section = newControl;\n        } else {\n          const correctPath = this.getCorrectPathForPresetFromContextPath(\n            parentPath\n          );\n          const parentControl = this.getParentControlOrControls(correctPath);\n\n          if (!parentControl) return;\n\n          if (Array.isArray(parentControl)) {\n            parentControl.splice(index, 1, newControl);\n          } else {\n            parentControl.children.splice(index, 1, newControl);\n          }\n\n          lodash.set(\n            newEditingPreset.presetData.preset,\n            correctPath,\n            parentControl\n          );\n        }\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      getPresetSection: (sectionSlug: string) => {\n        return this.value.presetSections.find(\n          preset => preset.slug === sectionSlug\n        );\n      },\n      getPresetSections: () => {\n        return this.value.presetSections;\n      },\n      getPathsToAllControls: (\n        controlTypes: ControlType[] = [],\n        controlTypesToIgnore: ControlType[] = [\"section\"]\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n\n        return getPathToAllControls(\n          this.currentlyEditingPreset.presetData.preset.section.children,\n          controlTypes,\n          controlTypesToIgnore,\n          \"\"\n        );\n      },\n      // This is here just to support the func and avoid any errors, but it doesn't affect anything in the preset\n      // And shouldn't be called at all when editing it\n      element: getEmptyElement,\n      updateDependency: () => {},\n      updateActions: () => {},\n      updateElementValue: () => {},\n      getElementStudioData: () => this.value,\n      updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n        this.$emit(\"input\", newData);\n      }\n    };\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = this.reactiveContext();\n\n  updateAutoRefresh(newAutoRefresh: boolean) {\n    this.autoRefresh = newAutoRefresh;\n\n    // Don't wait for a new change, update all elements\n    if (newAutoRefresh && this.currentlyEditingPreset) {\n      this.updateCurrentlyEditingPreset(this.currentlyEditingPreset);\n    }\n  }\n\n  getCorrectPathForPresetFromContextPath(path: string) {\n    return path.replace(\"control\", \"section\");\n  }\n\n  getParentControlOrControls(path: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    return defensiveCopy(\n      lodash.get(this.currentlyEditingPreset.presetData.preset, path)\n    ) as Control | Control[];\n  }\n\n  get codeHelpValue() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return (\n      this.currentlyEditingPreset.presetData.preset.section.options\n        .sectionOptions?.preset?.codeHelp || \"\"\n    );\n  }\n\n  get codeHelpPlaceholder() {\n    if (!this.currentlyEditingPreset) return \"\";\n    const potentialMacroName = getMacroName(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      this.currentPresetName\n    );\n\n    return `{{ macros.${potentialMacroName}(%%TWIG_PATH%%) }}`;\n  }\n\n  updateCodeHelp(newValue: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    lodash.set(\n      newPreset,\n      \"presetData.preset.section.options.sectionOptions.preset.codeHelp\",\n      newValue\n    );\n\n    this.updateCurrentlyEditingPreset(newPreset);\n  }\n\n  get presetsSlug() {\n    return this.value.presets.map(preset => preset.slug);\n  }\n\n  get allPaths() {\n    return this.reactiveContext().getPathsToAllControls([], []);\n  }\n\n  get presetRelativePropertyPathsToWhitelistInFlatProps() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps;\n  }\n\n  get relativeDynamicPropertyPaths() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativeDynamicPropertyPaths;\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n\n    lodash.set(\n      newCurrentlyEditingPreset,\n      `presetData.preset.section.options.sectionOptions.preset[${propertyName}]`,\n      newValue\n    );\n\n    this.currentlyEditingPreset = newCurrentlyEditingPreset;\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingPreset(\n    newCurrentlyEditingPreset: CurrentlyEditingPreset\n  ) {\n    // If the new preset comes from a context update, it won't have the section slug\n    newCurrentlyEditingPreset.presetData.preset = this.getPresetWithRestoredSectionSlug(\n      newCurrentlyEditingPreset.presetData.preset\n    );\n\n    this.currentlyEditingPreset = defensiveCopy(newCurrentlyEditingPreset);\n\n    // Set the lastSavedPreset when opening a new element\n    if (this.lastSavedPreset === false) {\n      this.lastSavedPreset = defensiveCopy(newCurrentlyEditingPreset);\n    }\n\n    if (!this.autoRefresh) return;\n\n    const allElementsWithModifiedPresetUpdated = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.contentSections = element.controls.contentSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.settingsSections = element.controls.settingsSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithModifiedPresetUpdated);\n  }\n\n  get currentPresetWithoutPresetSlug() {\n    if (!this.currentlyEditingPreset) return false;\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n    // Change it from being a preset to being a section so that we can edit its children\n    // Inside ControlSectionOrControl\n    if (\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions\n        ?.preset?.slug\n    ) {\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions.preset.slug = undefined;\n    }\n    return newCurrentlyEditingPreset;\n  }\n\n  updateSectionWithCurrentPresetSection(section: Control) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      this.currentlyEditingPreset &&\n      section.options.sectionOptions.preset.slug ===\n        this.currentlyEditingPreset.presetData.slug\n    ) {\n      return defensiveCopy(\n        this.currentlyEditingPreset.presetData.preset.section\n      );\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children.map(\n        this.updateSectionWithCurrentPresetSection\n      );\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  filterOutCurrentSection(section: Control, slug: string) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      section.options.sectionOptions.preset.slug === slug\n    ) {\n      return undefined;\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children\n        .map(s => this.filterOutCurrentSection(s, slug))\n        .filter((s): s is Control => !!s);\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  /**\n   * We remove the slug from the section when first updating it to treat it as a control\n   * This turns it back into a \"preset section\"\n   * @param newPresetSection\n   */\n  getPresetWithRestoredSectionSlug(newPresetSection: PresetSection) {\n    if (!this.currentlyEditingPreset) return newPresetSection;\n\n    lodash.set(\n      newPresetSection,\n      \"section.options.sectionOptions.preset.slug\",\n      this.currentlyEditingPreset.presetData.slug\n    );\n\n    return newPresetSection;\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updatePresetSlug(newName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    newEditingPreset.presetData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      newName\n    );\n\n    this.updateCurrentlyEditingPreset(newEditingPreset);\n  }\n\n  updatePreset(newPresetArg: CurrentlyEditingPreset[\"presetData\"]) {\n    const newPreset = defensiveCopy(newPresetArg);\n\n    const presetsIndex = this.value.presets.findIndex(\n      preset => preset.slug === newPreset.slug\n    );\n    const presetSectionsIndex = this.value.presetSections.findIndex(\n      presetSection => presetSection.slug === newPreset.preset.slug\n    );\n\n    const newValue = defensiveCopy(this.value);\n\n    if (presetsIndex === -1 && presetSectionsIndex === -1) {\n      newValue.presets.push(newPreset);\n      newValue.presetSections.push(newPreset.preset);\n    } else {\n      newValue.presets[presetsIndex] = newPreset;\n      newValue.presetSections[presetSectionsIndex].section =\n        newPreset.preset.section;\n    }\n\n    this.$emit(\"input\", newValue);\n\n    // Delete the old preset if the slug changed, and it's not a copy of the preset in a different save location\n    if (\n      this.lastSavedPreset &&\n      this.lastSavedPreset.directoryPath &&\n      newPreset.slug !== this.lastSavedPreset.presetData.slug &&\n      newPreset.directoryPath === this.lastSavedPreset.directoryPath\n    ) {\n      this.deletePresetFromServer(this.lastSavedPreset);\n    }\n  }\n\n  deletePresetAndRecompileTwigTemplates(deletedPresetSlug: string) {\n    const deletedPresetType = getItemNameFromSlug(deletedPresetSlug);\n    const presetSections = defensiveCopy(this.value.presetSections);\n    const storeIndex = presetSections.findIndex(\n      preset => preset.slug === deletedPresetType\n    );\n    const valueIndex = this.value.presets.findIndex(\n      preset => preset.slug === deletedPresetSlug\n    );\n\n    if (storeIndex !== -1) {\n      presetSections.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.presets.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    if (!this.autoRefresh) return;\n\n    // Delete preset from all elements using it\n    const allElementsWithDeletedPresetRemoved = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.contentSections = element.controls.contentSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.settingsSections = element.controls.settingsSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithDeletedPresetRemoved);\n  }\n\n  get currentPresetName() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingPreset.presetData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingPreset || !this.lastSavedPreset) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedPreset.presetData,\n      this.currentlyEditingPreset.presetData\n    );\n  }\n\n  deletePreset() {\n    if (!this.currentlyEditingPreset) {\n      return;\n    }\n\n    this.deletePresetFromServer(this.currentlyEditingPreset, () => {\n      this.currentlyEditingPreset = false;\n    });\n  }\n\n  async deletePresetFromServer(\n    presetToDelete: CurrentlyEditingPreset,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_preset\",\n        dataToPost: {\n          directoryPath: presetToDelete.directoryPath,\n          filename: getItemNameFromSlug(presetToDelete.presetData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deletePresetAndRecompileTwigTemplates(\n            presetToDelete.presetData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedPreset && this.lastSavedPreset.presetData) {\n      this.updateCurrentlyEditingPreset(this.lastSavedPreset);\n      this.updatePreset(this.lastSavedPreset.presetData);\n    }\n\n    this.resetCurrentlyEditingPreset();\n  }\n\n  resetCurrentlyEditingPreset() {\n    this.currentlyEditingPreset = false;\n    this.lastSavedPreset = false;\n    this.$emit(\"active\", null);\n  }\n\n  openPreset(presetSlug: string) {\n    const presetSaveLocation = defensiveCopy(\n      this.value.presets.find(preset => preset.slug === presetSlug)\n    );\n\n    if (!presetSaveLocation) return;\n\n    const preset = this.value.presetSections.find(\n      preset => preset.slug === presetSlug\n    );\n\n    if (!preset) {\n      NotificationLogger.log.message(`${presetSlug} couldn't be found`);\n\n      return;\n    }\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      presetSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingPreset({\n      presetData: { ...presetSaveLocation, preset },\n      directoryPath: presetSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingPreset) return;\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      saveLocation.directoryPath,\n      this.currentPresetName,\n      getSlugFromNamespaceAndFilename(\n        saveLocation.namespace,\n        this.currentPresetName\n      ),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.presets.find(preset => preset.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"preset\");\n\n      return;\n    }\n\n    this.saveToServer(\n      {\n        slug: newSlug,\n        section: getBlankControlSection()\n      },\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingPreset ||\n      !this.currentlyEditingPreset.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      this.currentlyEditingPreset.directoryPath,\n      this.currentPresetName,\n      this.currentlyEditingPreset.presetData.slug,\n      this.currentlyEditingPreset.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    preset: PresetSection,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await savePresetToServer(preset, directoryPath, filename, slug),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newPreset: CurrentlyEditingPreset = {\n            presetData: {\n              preset: defensiveCopy(preset),\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingPreset(newPreset);\n          this.updatePreset(newPreset.presetData);\n          this.lastSavedPreset = newPreset;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPresets.vue?vue&type=template&id=3aca5f34&\"\nimport script from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTab,VTabs,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\n\nimport ElementStudioElements from \"@/components/ElementStudio/ElementStudioElements.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioExpectedDataToLoadV,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioMacros from \"@/components/ElementStudio/ElementStudioMacros.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioPresets from \"@/components/ElementStudio/ElementStudioPresets.vue\";\n\n@Component({\n  components: {\n    ElementStudioPresets,\n    ElementStudioMacros,\n    ElementStudioElements,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudio extends Vue {\n  async mounted() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_load_element_studio\",\n        decoder: ElementStudioExpectedDataToLoadV\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        expectedDataToLoad => {\n          this.data = expectedDataToLoad;\n        }\n      )\n    );\n  }\n\n  data: ElementStudioExpectedDataToLoad = {\n    elements: [],\n    macros: [],\n    presets: [],\n    saveLocations: [],\n    presetSections: []\n  };\n\n  width = 600;\n\n  activeItemType: SaveLocationType | null = null;\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.data = defensiveCopy(newData);\n  }\n\n  updateActiveItemType(newType: SaveLocationType | null) {\n    this.activeItemType = newType;\n  }\n\n  updateWidth(newWidth: number) {\n    this.width = newWidth;\n  }\n\n  adjustWidth(adjustAmount: number) {\n    this.width += adjustAmount;\n  }\n\n  get styles() {\n    return {\n      width: `${this.width}px`\n    };\n  }\n\n  get isProdEnv() {\n    return !isBreakdanceDevelopmentEnvironment();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudio.vue?vue&type=template&id=2a95327c&\"\nimport script from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[_c('Add',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelState === 'add'),expression:\"panelState === 'add'\"}]}),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):(_vm.panelState === 'structure')?_c('StructurePanel'):_vm._e(),(_vm.panelState === 'elementproperties')?_c('ElementPropertiesPanel',{key:_vm.activeElementId}):(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel'):(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-properties-panel vscroll-wrap vscroll-scroll\",attrs:{\"data-test-id\":\"element-properties-panel\"}},[(_vm.elementIsActive)?[_c('Titlebar'),_c('TabsAndControls')]:[_c('BlankSidebarContent')]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-titlebar\"},[_c('div',{staticClass:\"properties-panel-titlebar-title truncate\"},[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),(_vm.elementBadge)?_c('ElementBadge',{staticClass:\"ml-1\",attrs:{\"value\":_vm.elementBadge}}):_vm._e(),_c('v-spacer'),_c('IconButton',{staticClass:\"properties-panel-duplicate-button\",attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.duplicateElement}}),_c('IconButton',{staticClass:\"properties-panel-delete-button\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.remove}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore, configStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementBadge from \"./ElementBadge.vue\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton,\n    ElementBadge\n  }\n})\nexport default class Titlebar extends Vue {\n  searchEnabled = false;\n\n  get elementTitle() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).name\n      : \"No Active Element\"; /* should never happen */\n  }\n  get elementBadge() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).badge\n      : false;\n  }\n  duplicateElement() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({\n        nodeId: uiStore.activeElementId\n      });\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Titlebar.vue?vue&type=template&id=2084cb81&\"\nimport script from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Titlebar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-7 d-flex align-center justify-center flex-column\",staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blank-sidebar-text\"},[_c('p',[_vm._v(\" Add an element to your page or click an existing element to edit it. \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { toggleUiPanel } from \"@/lib/panels/panels\";\n\n@Component({ components: { StandardButton } })\nexport default class BlankSidebarContent extends Vue {\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlankSidebarContent.vue?vue&type=template&id=668b9782&\"\nimport script from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(!_vm.hasSearchParameters)?_c('DesignContentSettingsTabs',{attrs:{\"value\":_vm.tab,\"controls\":_vm.controls},on:{\"input\":_vm.updateTab}}):_vm._e(),_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('v-sheet',[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.contentSections,\"path\":'content',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.designSections,\"path\":'design',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.settingsSections,\"path\":'settings',\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"controls\"},on:{\"input\":_vm.clearQuery}})],1):_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[(_vm.hasContentControls)?_c('v-tab-item',{attrs:{\"value\":\"content\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.contentSections,\"path\":'content',\"forceFirstSectionOpen\":true}})],1):_vm._e(),(_vm.hasDesignControls)?_c('v-tab-item',{attrs:{\"value\":\"design\",\"transition\":false,\"reverse-transition\":false}},[_c('DesignTabContent',{attrs:{\"controls\":_vm.designSections,\"path\":'design'}})],1):_vm._e(),(_vm.hasSettingsControls)?_c('v-tab-item',{attrs:{\"value\":\"settings\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.settingsSections,\"path\":'settings'}})],1):_vm._e()],1)],1),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"element\",\"include-settings-toggle\":true},on:{\"input\":_vm.updateSearchBoxState}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-search-box-wrap\"},[_c('div',{staticClass:\"properties-panel-search-box-inner-wrap\"},[_c('Icon',{staticClass:\"properties-panel-search-icon\",attrs:{\"icon\":\"SearchIcon\",\"size\":\"13\"}}),_c('TextInput',{staticClass:\"properties-panel-search-text-input\",attrs:{\"value\":_vm.value.query,\"placeholder\":_vm.placeholder,\"data-test-id\":\"elements-panel-search\"},on:{\"input\":_vm.editQuery}}),_c('div',{staticClass:\"properties-panel-search-actions\"},[(_vm.value.query)?_c('div',{staticClass:\"properties-panel-search-modified\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"12\"}})],1):_vm._e(),_c('SearchFilter',{attrs:{\"value\":_vm.value.modifiedOnly},on:{\"input\":_vm.editModified}},[_vm._v(\"modified\")]),(_vm.includeSettingsToggle)?_c('SearchFilter',{attrs:{\"value\":_vm.value.includeSettings},on:{\"input\":_vm.editSettings}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"12\"}})],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'properties-panel-search-modified': true,\n    'properties-panel-search-modified-on': this.value\n  },on:{\"click\":_vm.toggle}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class SearchFilter extends Vue {\n  @Prop()\n  value!: boolean;\n\n  toggle() {\n    this.$emit(\"input\", !this.value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchFilter.vue?vue&type=template&id=51a15e86&\"\nimport script from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchFilter.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport SearchFilter from \"./SearchFilter.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\nexport type SearchBoxState = {\n  query: string;\n  modifiedOnly: boolean;\n  includeSettings?: boolean;\n};\n\n@Component({\n  components: { SearchFilter, TextInput, Icon }\n})\nexport default class SearchBox extends Vue {\n  @Prop()\n  value!: SearchBoxState;\n\n  @Prop()\n  includeSettingsToggle!: boolean;\n\n  @Prop()\n  location!: \"element\" | \"settings\" | \"selector\" | string;\n\n  emit(newState: SearchBoxState) {\n    this.$emit(\"input\", newState);\n  }\n\n  editQuery(newQuery: string | null) {\n    if (typeof newQuery === \"string\") {\n      this.emit({\n        ...this.value,\n        query: newQuery.trim().toLowerCase()\n      });\n    } else {\n      this.emit({\n        ...this.value,\n        query: \"\"\n      });\n    }\n  }\n\n  clearQuery() {\n    this.emit({\n      ...this.value,\n      query: \"\",\n      modifiedOnly: false\n    });\n  }\n\n  editModified(modified: boolean) {\n    this.emit({\n      ...this.value,\n      modifiedOnly: modified\n    });\n  }\n\n  editSettings(settings: boolean) {\n    this.emit({\n      ...this.value,\n      includeSettings: settings\n    });\n  }\n\n  get placeholder() {\n    return \"Search\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBox.vue?vue&type=template&id=e7258348&\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchBox.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TabsRow',[(_vm.hasContentControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"content\",\"data-test-id\":'element-properties-tab-content'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"content\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Content\")])],1)],1)]},proxy:true}],null,false,855652120)}):_vm._e(),(_vm.hasDesignControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"design\",\"data-test-id\":'element-properties-tab-design'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"design\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Design\")])],1)],1)]},proxy:true}],null,false,1825965438)}):_vm._e(),(_vm.hasSettingsControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"settings\",\"data-test-id\":'element-properties-tab-settings'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"settings\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Settings\")])],1)],1)]},proxy:true}],null,false,325617522)}):_vm._e(),_c('SavePreset',{attrs:{\"open\":_vm.savePresetDialogOpen},on:{\"update:dialog\":function($event){_vm.savePresetDialogOpen = $event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList,on:{\"click\":function($event){return _vm.$emit('input', _vm.id)},\"contextmenu\":_vm.openContextMenu}},[(_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__icon\"},[_vm._t(\"icon\")],2):_vm._e(),(!_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__label\"},[_vm._t(\"default\")],2):_vm._e(),(_vm.hasContextMenuSlot)?_c('div',{staticClass:\"breakdance-tab__context-menu\"},[_c('Dropdown',{attrs:{\"position-x\":_vm.contextMenuX,\"position-y\":_vm.contextMenuY,\"absolute\":\"\",\"offset-y\":\"\"},model:{value:(_vm.contextMenu),callback:function ($$v) {_vm.contextMenu=$$v},expression:\"contextMenu\"}},[_vm._t(\"contextmenu\")],2)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: { Dropdown }\n})\nexport default class Tab extends Vue {\n  @Prop()\n  value!: string;\n\n  @Prop()\n  id!: string;\n\n  get classList() {\n    return {\n      \"breakdance-tab\": true,\n      [`breakdance-tab--id-${this.id}`]: true,\n      \"breakdance-tab--active\": this.value === this.id\n    };\n  }\n\n  get hasContextMenuSlot() {\n    return !!this.$slots.contextmenu;\n  }\n\n  get hasIconSlot() {\n    return !!this.$slots.icon;\n  }\n\n  contextMenu = false;\n  contextMenuX = 0;\n  contextMenuY = 0;\n\n  openContextMenu(e: MouseEvent) {\n    if (!this.hasContextMenuSlot) {\n      return;\n    }\n\n    e.preventDefault();\n\n    this.contextMenu = false;\n    this.contextMenuX = e.clientX;\n    this.contextMenuY = e.clientY;\n\n    this.$nextTick(() => {\n      this.contextMenu = true;\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=d09a777e&\"\nimport script from \"./Tab.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tab.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-tabs-row\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class TabsRow extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsRow.vue?vue&type=template&id=1ee7e7e0&\"\nimport script from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsRow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":_vm.open},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save Design Settings As Preset \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Present name\"},model:{value:(_vm.newPresetName),callback:function ($$v) {_vm.newPresetName=$$v},expression:\"newPresetName\"}}),_c('WPMediaInput',{staticClass:\"mt-6\",model:{value:(_vm.newPresetScreenshot),callback:function ($$v) {_vm.newPresetScreenshot=$$v},expression:\"newPresetScreenshot\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{staticStyle:{\"margin-right\":\"auto\"},attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.exportPreset}},[_vm._v(\"Export To JSON\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"loading\":_vm.saveInProgress},on:{\"click\":_vm.savePreset}},[_vm._v(\"Save\")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// https://gist.github.com/liabru/11263260\nexport function triggerDownload(\n  content: string,\n  filename: string,\n  type = \"text/plain\"\n) {\n  const blob = new Blob([content], { type: type }),\n    anchor = document.createElement(\"a\");\n  anchor.download = filename;\n  anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);\n  anchor.dataset.downloadurl = [type, anchor.download, anchor.href].join(\":\");\n  anchor.click();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport * as data from \"@/lib/wordpress/data\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { ElementPreset } from \"@/types/presets\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport WPMediaInput from \"@/components/Reusable/CustomInputs/MediaInput/WPMediaInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { triggerDownload } from \"@/util/trigger-download\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { Media } from \"@/types/media\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\n\n@Component({\n  components: { WPMediaInput, TextInput, Dialog }\n})\nexport default class SavePreset extends Vue {\n  newPresetName: string | undefined | null = \"\";\n  newPresetScreenshot: Media | null = null;\n\n  @Prop()\n  open!: boolean;\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  saveInProgress = false;\n\n  async saveToLibrary(newPreset: ElementPreset) {\n    this.saveInProgress = true;\n    const newPresets = defensiveCopy(configStore.presetsForElements);\n    newPresets.push(newPreset);\n\n    pipe(\n      await data.saveToWP(\"presets_for_elements\", newPresets),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        () => {\n          configStore.setPresetsForElements(newPresets);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  makePreset() {\n    const activeElement = uiStore.activeElement;\n    if (!activeElement) return false;\n    if (!this.newPresetName || !this.newPresetScreenshot) {\n      NotificationLogger.log.message(\n        \"Presets must have a name and a screenshot.\"\n      );\n      return false;\n    }\n\n    const designProps = defensiveCopy(this.context.getControlValue(\"design\"));\n\n    if (!designProps) {\n      NotificationLogger.log.message(\n        \"Unable to save blank design settings as preset.\"\n      );\n      return false;\n    }\n\n    const newPreset: ElementPreset = {\n      availableForType: activeElement.data.type,\n      designPropertiesData: designProps,\n      label: this.newPresetName,\n      screenshotUrl: this.newPresetScreenshot\n    };\n\n    return newPreset;\n  }\n\n  savePreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      this.saveToLibrary(newPreset);\n      this.clearAndClose();\n    }\n  }\n\n  exportPreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      triggerDownload(jsonStringifyOrUndefined(newPreset) || \"\", \"preset.json\");\n      this.clearAndClose();\n    }\n  }\n\n  clearAndClose() {\n    this.newPresetName = \"\";\n    this.newPresetScreenshot = null;\n    this.$emit(\"update:dialog\", false);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SavePreset.vue?vue&type=template&id=6b378b91&\"\nimport script from \"./SavePreset.vue?vue&type=script&lang=ts&\"\nexport * from \"./SavePreset.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport SavePreset from \"@/components/DesignLibrary/Presets/SavePreset.vue\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport lodash from \"lodash\";\nimport { CONTROL_CLEAR_VALUE } from \"@/lib/controls/values\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\n@Component({\n  components: {\n    TabsRow,\n    Tab,\n    Icon,\n    SavePreset\n  }\n})\nexport default class DesignContentSettingsTabs extends Vue {\n  @Prop({\n    default: \"content\"\n  })\n  value!: string;\n\n  savePresetDialogOpen = false;\n\n  @Prop()\n  controls!: BuilderElementControls;\n\n  setTab(tab: string) {\n    this.$emit(\"input\", tab);\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  resetToDefault(path: \"design\" | \"content\" | \"settings\") {\n    if (uiStore.activeElement === false) return;\n    resetElementProperties(uiStore.activeElement.id, path);\n  }\n}\n\nfunction resetElementProperties(\n  elementId: number,\n  path: \"design\" | \"content\" | \"settings\"\n) {\n  const element = findNode(documentStore.document.tree, elementId);\n\n  if (!element) return;\n\n  const defaultProperties = configStore.element(element.data.type)\n    .defaultProperties;\n\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  const defaultAtPath = lodash.get(\n    defaultProperties,\n    path,\n    CONTROL_CLEAR_VALUE\n  );\n\n  documentStore.throttledPropertyChanged({\n    elementId: element.id,\n    path: path,\n    value: defensiveCopy(defaultAtPath),\n    meta: {\n      snapshotLabel: `Reset ${getBuilderElementNameBySlug(\n        element.data.type\n      )} ${lodash.capitalize(path)}`\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignContentSettingsTabs.vue?vue&type=template&id=25b1de8b&\"\nimport script from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.mode === 'custom')?[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":_vm.path}}),(_vm.presets.length > 0)?_c('div',{staticClass:\"design-tab-design-settings-go-back-to-presets-link\",on:{\"click\":function($event){return _vm.changeMode('presets')}}},[_vm._v(\" presets » \")]):_vm._e()]:[_c('div',{staticClass:\"design-tab-presets-browser-content\"},[_c('div',{staticClass:\"design-tab-design-settings-customize-link\",attrs:{\"data-test-id\":\"element-design-customize\"},on:{\"click\":function($event){return _vm.changeMode('custom')}}},[_vm._v(\" customize » \")])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.presets),function(preset,i){return _c('div',{key:i,staticClass:\"breakdance-presets-in-design-tab-preset\",on:{\"click\":function($event){return _vm.applyPreset(preset)}}},[_vm._v(\" \"+_vm._s(preset.label)+\" \"),_c('img',{attrs:{\"src\":preset.screenshotUrl.url}})])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPreset } from \"@/types/presets\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\nexport function applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n  preset: ElementPreset\n) {\n  if (\n    !uiStore.activeElement ||\n    uiStore.activeElement.data.type !== preset.availableForType\n  ) {\n    documentStore.addElement({ elementSlug: preset.availableForType });\n  }\n\n  if (\n    uiStore.activeElement &&\n    uiStore.activeElement.data.type === preset.availableForType\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElement.id,\n      path: \"design\",\n      value: defensiveCopy(preset.designPropertiesData),\n      meta: {\n        snapshotLabel: `Apply preset \"${\n          preset.label\n        }\" to ${getBuilderElementNameBySlug(uiStore.activeElement.data.type)}`\n      }\n    });\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { ElementPreset } from \"@/types/presets\";\nimport { applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset } from \"@/lib/presets/presets\";\n\n@Component\nexport default class PresetsInDesignTab extends Vue {\n  @Prop({\n    default: []\n  })\n  presets!: ElementPreset[];\n\n  applyPreset(preset: ElementPreset) {\n    applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n      preset\n    );\n    this.$emit(\"presetApplied\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PresetsInDesignTab.vue?vue&type=template&id=c72b5210&\"\nimport script from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nexport * from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport PresetsInDesignTab from \"./PresetsInDesignTab.vue\";\nimport { Control } from \"@/types/controls\";\nimport { configStore, uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    ControlsTree,\n    PresetsInDesignTab\n  }\n})\nexport default class DesignTabContent extends Vue {\n  @Prop()\n  controls!: Control[];\n\n  @Prop()\n  path!: string;\n\n  mode: \"presets\" | \"custom\" = \"custom\";\n\n  changeMode(newMode: \"presets\" | \"custom\") {\n    this.mode = newMode;\n  }\n\n  get presets() {\n    if (!uiStore.activeElement) return [];\n\n    return configStore.presetsForElements.filter(\n      // @ts-ignore\n      p => p.availableForType === uiStore.activeElement.data.type\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignTabContent.vue?vue&type=template&id=6dc456cc&\"\nimport script from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Control, ControlsTreeContext } from \"@/types/controls\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { valuePresent } from \"@/lib/controls/values\";\n\nexport function filterBuilderElementControls(\n  controls: BuilderElementControls,\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext\n): BuilderElementControls {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return {\n    contentSections: _filterControls(\n      controls.contentSections,\n      callback,\n      \"content\",\n      onlyShowModified\n    ),\n    designSections: _filterControls(\n      controls.designSections,\n      callback,\n      \"design\",\n      onlyShowModified\n    ),\n    settingsSections: _filterControls(\n      controls.settingsSections,\n      callback,\n      \"settings\",\n      onlyShowModified\n    )\n  };\n}\n\nexport function filterControls(\n  controls: Control[],\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext,\n  path: string\n): Control[] {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return _filterControls(controls, callback, path, onlyShowModified);\n}\n\nfunction _filterControls(\n  controls: Control[],\n  callback: (control: Control, path: string) => boolean,\n  path: string,\n  onlyShowModified: boolean\n) {\n  const controls_ = defensiveCopy(controls);\n  return controls_.filter(control => {\n    const outcome = callback(control, `${path}.${control.slug}`);\n    if (control.options.type === \"section\") {\n      if (outcome && !onlyShowModified) {\n        return true;\n      }\n      control.children = _filterControls(\n        control.children,\n        callback,\n        `${path}.${control.slug}`,\n        onlyShowModified\n      );\n      return control.children.length > 0;\n    }\n    return outcome;\n  });\n}\n\nexport const flattenAndCount = (controls: Control[], acc: number) => {\n  controls.forEach(control => {\n    acc = flattenAndCount(\n      control.children,\n      acc + (control.options.type === \"section\" ? 0 : 1)\n    );\n  });\n  return acc;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-search-empty-state\"},[_c('svg',{staticClass:\"properties-panel-search-empty-state-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No \"+_vm._s(_vm.label)+\" found.\")]),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"text\":\"\",\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"Clear Search\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SearchBoxEmptyState extends Vue {\n  @Prop({ default: \"element\" })\n  label!: string;\n\n  clearSearch() {\n    this.$emit(\"input\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBoxEmptyState.vue?vue&type=template&id=83983632&\"\nimport script from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Provide, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, { SearchBoxState } from \"./SearchBox.vue\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport {\n  Control,\n  ControlsTreeContext,\n  ChangeControlValueMeta\n} from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport DesignContentSettingsTabs from \"./DesignContentSettingsTabs.vue\";\nimport DesignTabContent from \"./DesignTabContent.vue\";\nimport { filterControlsThatCanBeModified } from \"@/lib/permissions/utils\";\nimport { getPathWithoutRepeaterIndex } from \"@/lib/dynamic-data/utils\";\nimport {\n  filterBuilderElementControls,\n  flattenAndCount\n} from \"@/lib/controls/search\";\nimport {\n  getElementAccordionState,\n  setElementAccordionState\n} from \"@/lib/panels/accordions\";\nimport {\n  separatePathPrefixFromElementControlPath,\n  getElementControlsListBasedOnPathPrefix\n} from \"@/lib/elements/utils\";\nimport { addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: {\n    ControlsTree,\n    SearchBox,\n    DesignContentSettingsTabs,\n    DesignTabContent,\n    Icon,\n    SearchBoxEmptyState\n  }\n})\nexport default class TabsAndControls extends Vue {\n  @Prop()\n  value!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    includeSettings: false,\n    query: \"\"\n  };\n\n  get element() {\n    return uiStore.activeElement;\n  }\n\n  get elementId() {\n    return uiStore.activeElementId;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\",\n      includeSettings: false\n    });\n  }\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get noSearchResults() {\n    return (\n      flattenAndCount(this.controlsFilteredBySearchParams.contentSections, 0) +\n        flattenAndCount(this.controlsFilteredBySearchParams.designSections, 0) +\n        flattenAndCount(\n          this.controlsFilteredBySearchParams.settingsSections,\n          0\n        ) ===\n      0\n    );\n  }\n\n  get controlsFilteredBySearchParams() {\n    const controls = this.searchBoxState.includeSettings\n      ? {\n          designSections: [],\n          contentSections: [],\n          settingsSections: this.controls.settingsSections\n        }\n      : {\n          ...this.controls,\n          settingsSections: []\n        };\n\n    return filterBuilderElementControls(\n      this.searchBoxState.modifiedOnly ? this.controls : controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingElementControlsTreeContext\n    );\n  }\n\n  @Provide(\"context\")\n  editingElementControlsTreeContext = editingElementControlsTreeContext;\n\n  get controls() {\n    // @ts-ignore\n    const type = this.element.data.type;\n    const controls = configStore.element(type).controls;\n\n    // for client mode / permissions\n    return filterControlsThatCanBeModified(controls, configStore.permission);\n  }\n\n  get contentSections() {\n    return this.controls.contentSections;\n  }\n\n  get designSections() {\n    return this.controls.designSections;\n  }\n\n  get settingsSections() {\n    return this.controls.settingsSections;\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  get tab() {\n    if (\n      this.elementId &&\n      uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId]\n    ) {\n      return uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId];\n    }\n\n    if (this.hasContentControls) return \"content\";\n    if (this.hasDesignControls) return \"design\";\n    if (this.hasSettingsControls) return \"settings\";\n\n    return \"\";\n  }\n\n  updateTab(tab: \"content\" | \"design\" | \"settings\" | undefined) {\n    if (!this.elementId) return;\n\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      elementPropertiesPanelActiveTab: {\n        ...uiStore.panelState.elementPropertiesPanelActiveTab,\n        [this.elementId]: tab\n      }\n    });\n  }\n\n  searchString = \"\";\n}\n\nconst editingElementControlsTreeContext: ControlsTreeContext = {\n  dynamicAccepts: (controlPath: string) => {\n    if (!uiStore.activeElement) return false;\n\n    const dynamicPropertyPaths = configStore.element(\n      uiStore.activeElement.data.type\n    ).dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const controlPathWithoutRepeaterIndexAndBreakpoint = getPathWithoutRepeaterIndex(\n      controlPath\n    )\n      /**\n       *  The \"dynPropPath\" for a control in a repeater can be `content.layers[].something`\n       *  But if the repeater is responsive, the path would become `content.layers.base_breakpoint[].something`\n       */\n      .replace(`.${uiStore.currentBreakpoint.id}[`, \"[\");\n\n    const dynPropPathThatMatchesControlPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        controlPathWithoutRepeaterIndexAndBreakpoint\n    );\n\n    return dynPropPathThatMatchesControlPath?.accepts || false;\n  },\n\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeElement, `data.properties.${controlPath}`);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeElementId) return;\n\n    documentStore.throttledPropertyChanged(\n      addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          elementId: uiStore.activeElementId,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: (controlPath: string): Control[] | undefined => {\n    if (!uiStore.activeElement) {\n      return undefined;\n    }\n\n    const splittedPath = separatePathPrefixFromElementControlPath(controlPath);\n\n    if (splittedPath) {\n      return getElementControlsListBasedOnPathPrefix(\n        configStore.element(uiStore.activeElement.data.type),\n        splittedPath.prefix\n      );\n    }\n\n    return undefined;\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    if (!uiStore.activeElementId) return;\n    setElementAccordionState(uiStore.activeElementId, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    if (!uiStore.activeElementId) return false;\n    return getElementAccordionState(uiStore.activeElementId, accordionPath);\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsAndControls.vue?vue&type=template&id=5ca7de91&\"\nimport script from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VSheet,VTabItem,VTabsItems})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Titlebar from \"./Titlebar.vue\";\nimport BlankSidebarContent from \"./BlankSidebarContent.vue\";\nimport TabsAndControls from \"./TabsAndControls.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    Titlebar,\n    TabsAndControls,\n    BlankSidebarContent\n  }\n})\nexport default class ElementPropertiesPanel extends Vue {\n  get elementIsActive() {\n    return !!uiStore.activeElement;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementPropertiesPanel.vue?vue&type=template&id=c2d30970&\"\nimport script from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-add-panel\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Add \")]),(_vm.state === 'success')?[_c('div',{staticClass:\"breakdance-add-panel__selection-wrapper\"},[_c('button',{staticClass:\"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active\"},[_vm._v(\" Elements \")]),_c('button',{staticClass:\"breakdance-add-panel__panel-selection\",on:{\"click\":_vm.openDesignLibrary}},[_vm._v(\" Library \")])]),_c('ElementsList')]:(_vm.state === 'loading')?[_c('div',{staticClass:\"d-flex justify-center align-center\",staticStyle:{\"height\":\"100%\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":100,\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"d-flex justify-center align-center pa-4\",staticStyle:{\"height\":\"100%\",\"font-size\":\"var(--text-md)\",\"font-weight\":\"500\",\"color\":\"var(--gray700)\"}},[_vm._v(\" error: failed to load elements \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-add-panel__element-list\"},[_c('div',{staticClass:\"breakdance-add-panel-search d-flex\"},[(_vm.isAddPanelOpen)?_c('SearchInput',{attrs:{\"tabindex\":\"0\",\"placeholder\":_vm.isElementStudioOpen\n          ? (\"Search \" + _vm.elementsCount + \" elements\")\n          : \"Search elements\",\"value\":_vm.searchString,\"autofocus\":true,\"data-test-id\":\"breakdance-add-panel-search\"},on:{\"input\":_vm.handleSearch,\"keydown\":[_vm.resetSelectedSearchItemIndex,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addSelectedSearchItem($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }return _vm.nextOrPreviousSelectedSearchElement($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.goToSelectedSearchElement('prev')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.goToSelectedSearchElement('next')}]}}):_vm._e(),(_vm.advancedSearchAvailable)?[_c('v-btn',{staticClass:\"ml-2\",attrs:{\"x-small\":\"\",\"text\":\"\",\"outlined\":_vm.hasSearchParams},on:{\"click\":function($event){_vm.advancedSearchDialogOpen = true}}},[_vm._v(\"advanced\")]),_c('v-dialog',{attrs:{\"width\":\"220\"},model:{value:(_vm.advancedSearchDialogOpen),callback:function ($$v) {_vm.advancedSearchDialogOpen=$$v},expression:\"advancedSearchDialogOpen\"}},[_c('v-card',[_c('v-card-text',[_c('br'),_c('h4',[_vm._v(\"Internal Element Project Management Tool\")]),_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.dumpSearchResults}},[_vm._v(\"dump search results\")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_vm._v(\" Has Dynamic Stuff \"),_c('v-switch',{model:{value:(_vm.advancedSearchHasDynamicStuff),callback:function ($$v) {_vm.advancedSearchHasDynamicStuff=$$v},expression:\"advancedSearchHasDynamicStuff\"}})],1),_vm._v(\" Looks Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchLooksGood),callback:function ($$v) {_vm.advancedSearchLooksGood=$$v},expression:\"advancedSearchLooksGood\"}}),_c('br'),_vm._v(\" Options Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsGood),callback:function ($$v) {_vm.advancedSearchOptionsGood=$$v},expression:\"advancedSearchOptionsGood\"}}),_c('br'),_vm._v(\" Options Work: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsWork),callback:function ($$v) {_vm.advancedSearchOptionsWork=$$v},expression:\"advancedSearchOptionsWork\"}}),_c('br'),_vm._v(\" Dynamic Behavior Works: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchDynamicBehaviorWorks),callback:function ($$v) {_vm.advancedSearchDynamicBehaviorWorks=$$v},expression:\"advancedSearchDynamicBehaviorWorks\"}}),_c('br')],1)],1)],1)]:_vm._e()],2),_c('div',{staticClass:\"breakdance-add-panel__item-wrapper\"},[(!_vm.hasSearchParams)?_vm._l((_vm.elementCategories),function(category,index){return _c('div',{key:index},[(_vm.elementsInActiveCategory(category.slug).length)?_c('Accordion',{attrs:{\"expanded\":_vm.openCategoriesIndex.includes(index)},on:{\"toggle\":function($event){return _vm.chooseCategory(index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-title\",attrs:{\"tabindex\":\"0\",\"data-test-id\":(\"elements-category-\" + (category.label\n                  .replace(/ /g, '-')\n                  .toLowerCase()))},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.chooseCategory(index)}}},[_vm._v(\" \"+_vm._s(category.label)+\" \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper\"},_vm._l((_vm.elementsInActiveCategory(\n                  category.slug\n                )),function(element,i){return _c('AddElement',{key:i,attrs:{\"element\":element}})}),1)]},proxy:true}],null,true)}):_vm._e()],1)}):_vm._e(),(_vm.hasSearchParams)?_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search\"},[(!_vm.searchResultsCount)?_c('div',{staticClass:\"breakdance-add-panel__no-results-for-search\"},[_vm._v(\" no results \")]):_vm._e(),_vm._l((_vm.elementsForSearch),function(element,index){return _c('AddElement',{key:element.slug,attrs:{\"element\":element,\"isSelected\":_vm.selectedSearchElementIndex === index}})})],2):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{on:{\"click\":function($event){_vm.isOpen = true}}},[_vm._v(\"Open Website Dialog\")]),_c('v-dialog',{model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('h1',[_vm._v(\" use the below HTML code on breakdance.com to display a list of elements. \")]),_c('p',[_vm._v(\" this is currently used at https://breakdance.com/features/elements \")]),_c('div',{staticClass:\"all-elements\"},_vm._l((_vm.elementCategories),function(elementCategory){return _c('div',{key:elementCategory.categoryLabel,staticClass:\"element-category-wrapper\"},[_c('div',{staticClass:\"element-category\"},[_c('h3',{staticClass:\"element-category-label\"},[_vm._v(\" \"+_vm._s(elementCategory.categoryLabel)+\" \")])]),_c('div',{staticClass:\"elements\"},_vm._l((elementCategory.elements),function(element){return _c('div',{key:element.element,staticClass:\"element\"},[_c('div',{staticClass:\"element-title\"},[_vm._v(\" \"+_vm._s(element.element)+\" \")]),(element.icon && _vm.elementIconIsLocal(element.icon))?_c('div',{staticClass:\"element-icon\"},[_c('RawIcon',{attrs:{\"icon\":element.icon}})],1):_c('div',{staticClass:\"element-icon\",domProps:{\"innerHTML\":_vm._s(element.icon)}})])}),0)])}),0)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport RawIcon from \"@/components/UI/RawIcon.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\n\n@Component({\n  components: { RawIcon }\n})\nexport default class WebsiteDialog extends Vue {\n  elementIconIsLocal(x: string) {\n    return iconNames.find(iconName => iconName === x);\n  }\n\n  isOpen = false;\n\n  get elementCategories() {\n    const elements = Object.values(configStore.elements) as BuilderElement[];\n\n    return configStore.builderElementCategories\n      .map(category => {\n        return {\n          categoryLabel: category.label,\n          elements: elements\n            .filter(element => element.experimental !== true)\n            .filter(\n              element =>\n                !element.addPanelRules || !element.addPanelRules.alwaysHide\n            )\n            .filter(element => element.category === category.slug)\n            .map(element => {\n              return {\n                element: element.name,\n                icon: element.uiIcon\n              };\n            })\n            .sort((a, b) => a.element.localeCompare(b.element))\n        };\n      })\n      .filter(c => c.elements.length !== 0);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WebsiteDialog.vue?vue&type=template&id=9b53a890&\"\nimport script from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VBtn,VCard,VDialog})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Watch } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport {\n  BuilderElement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport AddElement from \"@/components/Add/AddElement.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport WebsiteDialog from \"@/components/Add/WebsiteDialog.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport {\n  getFuzzySearchedElements,\n  isElementAvailable,\n  isElementHidden\n} from \"@/lib/elements/utils\";\nimport { PanelContext } from \"@/components/Builder/SidebarPanels.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({\n  components: {\n    SearchInput,\n    TextInput,\n    Accordion,\n    AddElement,\n    DropdownInput,\n    WebsiteDialog\n  }\n})\nexport default class ElementsList extends Vue {\n  openCategoriesIndex = [0, 1];\n  searchString = \"\";\n  selectedSearchElementIndex = 0;\n\n  @Inject({ from: \"panelContext\", default: {} })\n  readonly panelContext?: PanelContext;\n\n  addSelectedSearchItem() {\n    const slug = this.elementsForSearch[this.selectedSearchElementIndex]?.slug;\n\n    if (\n      !slug ||\n      !isElementAvailable(\n        this.elementsForSearch[this.selectedSearchElementIndex]\n      )\n    ) {\n      return;\n    }\n\n    documentStore.addElement({\n      elementSlug: slug\n    });\n  }\n\n  get searchResultsCount() {\n    return Object.keys(this.elementsForSearch).length;\n  }\n\n  goToSelectedSearchElement(direction = \"next\") {\n    let nextIndex =\n      direction === \"next\"\n        ? this.selectedSearchElementIndex + 1\n        : this.selectedSearchElementIndex - 1;\n\n    if (nextIndex === this.searchResultsCount) {\n      nextIndex = 0;\n    } else if (-1 === nextIndex) {\n      nextIndex = this.searchResultsCount - 1;\n    }\n\n    this.selectedSearchElementIndex = nextIndex;\n    this.scrollToActive();\n  }\n\n  nextOrPreviousSelectedSearchElement(event: KeyboardEvent) {\n    if (this.searchString !== \"\") {\n      event.preventDefault();\n    }\n\n    this.goToSelectedSearchElement(event.shiftKey ? \"prev\" : \"next\");\n  }\n\n  handleSearch(newSearch: string) {\n    // keeping the scroll when all elements changed due to search is disorienting\n    if (this.searchString !== newSearch) {\n      document.querySelector(\".breakdance-add-panel\")?.scrollTo({ top: 0 });\n    }\n\n    this.searchString = newSearch;\n  }\n\n  get isAddPanelOpen() {\n    return this.panelContext?.state === \"add\";\n  }\n\n  @Watch(\"isAddPanelOpen\")\n  resetSearchWhenPanelOpens() {\n    if (this.isAddPanelOpen) {\n      this.handleSearch(\"\");\n    }\n  }\n\n  resetSelectedSearchItemIndex(event: KeyboardEvent) {\n    const ignoreKeys = [\n      \"Enter\",\n      \"Tab\",\n      \"ShiftLeft\",\n      \"ShiftRight\",\n      \"ArrowUp\",\n      \"ArrowDown\"\n    ];\n\n    if (!ignoreKeys.includes(event.code)) {\n      this.selectedSearchElementIndex = 0;\n    }\n  }\n\n  get elementsCount() {\n    return this.elements.length;\n  }\n\n  chooseCategory(newIndex: number) {\n    this.searchString = \"\";\n\n    const existingCategoryIndex = this.openCategoriesIndex.findIndex(\n      i => i === newIndex\n    );\n\n    if (existingCategoryIndex === -1) {\n      this.openCategoriesIndex = [...this.openCategoriesIndex, newIndex];\n    } else {\n      this.openCategoriesIndex.splice(existingCategoryIndex, 1);\n    }\n  }\n\n  elementsInActiveCategory(categorySlug: string) {\n    return this.elements.filter(element => element.category === categorySlug);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories;\n  }\n\n  get elements(): BuilderElement[] {\n    return (Object.values(configStore.elements) as BuilderElement[])\n      .filter(element =>\n        uiStore.settings.showExperimentalElements\n          ? true\n          : element.experimental !== true\n      )\n      .filter(\n        element => !isElementHidden(element.addPanelRules, element.settings)\n      )\n      .filter(element => isElementAvailable(element))\n      .sort((a, b) => {\n        if (a.order < b.order) return -1;\n        if (a.order > b.order) return 1;\n        return 0;\n      });\n  }\n\n  get elementsForSearch(): BuilderElement[] {\n    const results = getFuzzySearchedElements(this.elements, this.searchString);\n\n    const resultsAfterInternalSearchTool = results.filter(e => {\n      const pm = e.projectManagement ? e.projectManagement : undefined;\n\n      return !Object.values({\n        looksGood: this.advancedSearchLooksGood\n          ? pm?.looksGood == this.advancedSearchLooksGood\n          : undefined,\n        optionsGood: this.advancedSearchOptionsGood\n          ? pm?.optionsGood == this.advancedSearchOptionsGood\n          : undefined,\n        optionsWork: this.advancedSearchOptionsWork\n          ? pm?.optionsWork == this.advancedSearchOptionsWork\n          : undefined,\n        dynamicBehaviorWorks: this.advancedSearchDynamicBehaviorWorks\n          ? pm?.dynamicBehaviorWorks == this.advancedSearchDynamicBehaviorWorks\n          : undefined,\n        hasDynamicStuff: this.advancedSearchHasDynamicStuff\n          ? e.dependencies || e.actions\n          : undefined\n      }).includes(false);\n    });\n\n    return resultsAfterInternalSearchTool;\n  }\n\n  scrollToActive() {\n    forceNextTick(() => {\n      document\n        .querySelector(\".breakdance-add-panel__element--selected\")\n        ?.scrollIntoView({\n          block: \"center\"\n        });\n    });\n  }\n\n  dumpSearchResults() {\n    console.log(this.elementsForSearch.map(e => e.name).join(\"\\n\"));\n  }\n\n  get advancedSearchDropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  advancedSearchAvailable = false;\n\n  mounted() {\n    keyboardShortcuts.register(\n      \"a d v\",\n      () => (this.advancedSearchAvailable = true)\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(\"a d v\");\n  }\n\n  advancedSearchDialogOpen = false;\n  advancedSearchHasDynamicStuff = false;\n  advancedSearchLooksGood: BuilderElementProjectManagementValue | false = false;\n  advancedSearchOptionsGood:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchOptionsWork:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchDynamicBehaviorWorks:\n    | BuilderElementProjectManagementValue\n    | false = false;\n\n  get hasSearchParams() {\n    return !!(\n      this.searchString ||\n      this.advancedSearchLooksGood ||\n      this.advancedSearchOptionsGood ||\n      this.advancedSearchOptionsWork ||\n      this.advancedSearchDynamicBehaviorWorks ||\n      this.advancedSearchHasDynamicStuff\n    );\n  }\n\n  updateAdvancedSearchValue(key: string, value: unknown) {\n    // @ts-ignore\n    this[key] = value;\n  }\n\n  get isElementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementsList.vue?vue&type=template&id=65d85918&\"\nimport script from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardText,VDialog,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"fullscreen\":_vm.fullscreen,\"width\":!_vm.fullscreen ? 960 : null,\"content-class\":\"design-library-dialog\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('header',{staticClass:\"design-library-header\"},[_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":\"HouseIcon\",\"size\":\"18\"},on:{\"click\":_vm.goHome}})],1),_c('TopBarSection',{attrs:{\"border-left\":true,\"border-right\":true}},[_c('DesignProviderDropdown',{attrs:{\"providers\":_vm.providers},model:{value:(_vm.selectedProvider),callback:function ($$v) {_vm.selectedProvider=$$v},expression:\"selectedProvider\"}})],1),_c('span',{staticClass:\"beta-warning\"},[_vm._v(\" beta \")]),_c('TopBarSection',{staticClass:\"design-library-breakpoint-chooser ml-auto mr-auto\",attrs:{\"border-left\":true,\"border-right\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.breakpoint),callback:function ($$v) {_vm.breakpoint=$$v},expression:\"breakpoint\"}})],1),_c('TopBarSection',{staticClass:\"ml-auto pr-2\",attrs:{\"border-right\":true}},[_c('NiceButton',{attrs:{\"disabled\":!_vm.canImportAll,\"left-icon\":\"ArrowDownToLine\"},on:{\"click\":_vm.importAll}},[_vm._v(\" Import Page \")])],1),_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":_vm.fullscreen\n            ? 'DownLeftAndUpRightToCenter'\n            : 'UpRightAndDownLeftFromCenter',\"size\":\"18\"},on:{\"click\":_vm.toggleFullscreen}})],1),_c('TopBarSection',{attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.close}})],1)],1),_c('div',{staticClass:\"design-library-contents\"},[_c('DesignLibrarySidebar',{attrs:{\"items\":_vm.sidebarItems},on:{\"select\":_vm.onPostSelected}}),_c('div',{ref:\"iframeWrapper\",staticClass:\"design-library-iframe-wrapper\"},[(_vm.reliesOnGlobalSettings)?[_c('div',{staticClass:\"design-library-global-settings-warning\"},[_c('div',{staticClass:\"design-library-global-settings-warning-text\"},[_vm._v(\" This design relies on global settings. It won't look the same unless you import them. \")]),_c('NiceButton',{on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Import Global Settings \")])],1),(_vm.importGlobalSettingsScreen)?_c('div',{staticClass:\"design-library-import-global-settings-panel\"},[(_vm.loadingExternalGlobalSettings)?_c('div',[_c('LoadingSpinner',{attrs:{\"color\":\"var(--gray500)\",\"size\":65}})],1):[_c('span',[_vm._v(\"Your existing global settings will be overwritten with the global settings from this library website.\")]),_c('div',[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"text\":\"\"},on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.importGlobalSettings}},[_vm._v(\" Confirm Overwrite & Import \")])],1)]],2):_vm._e()]:_vm._e(),_c('div',{staticClass:\"design-library-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles)},[(_vm.selectedProvider)?_c('iframe',{ref:\"iframe\",staticClass:\"design-library-iframe\",style:(_vm.iframeStyles),attrs:{\"src\":_vm.iframeUrl},on:{\"load\":_vm.onProviderLoaded}}):_vm._e()]),(_vm.previewLoaded)?_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1):_vm._e(),(!_vm.previewLoaded && _vm.selectedProvider)?_c('DesignLibrarySkeleton'):_vm._e()],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"design-library-skeleton-loader\"},[_c('span',{staticClass:\"design-library-skeleton-header\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('span',{staticClass:\"design-library-skeleton-hero\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('div',{staticClass:\"design-library-skeleton-button\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"design-library-skeleton-loader\">\n    <span class=\"design-library-skeleton-header\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <span class=\"design-library-skeleton-hero\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <div class=\"design-library-skeleton-button\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Component } from \"vue-property-decorator\";\nimport Vue from \"vue\";\n\n@Component\nexport default class DesignLibrarySkeleton extends Vue {}\n</script>\n\n<style lang=\"scss\">\n.design-library-skeleton-loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  padding: 60px 30px;\n  background-color: var(--white);\n}\n\n.design-library-skeleton-line {\n  position: relative;\n  display: block;\n  width: 50%;\n  height: 40px;\n  background-color: var(--gray100);\n  border-radius: 60px;\n  margin-bottom: 40px;\n  overflow: hidden;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    inset: 0;\n    z-index: 1;\n    background: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0),\n      rgba(255, 255, 255, 0.3),\n      rgba(255, 255, 255, 0)\n    );\n    transform: translateX(-100%);\n    animation: loading 1.5s infinite;\n  }\n}\n\n.design-library-skeleton-header {\n  display: flex;\n  justify-content: space-between;\n  gap: 30px;\n  width: 100%;\n  margin-bottom: 100px;\n\n  .design-library-skeleton-line:nth-child(1),\n  .design-library-skeleton-line:nth-child(3) {\n    width: 15%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 33%;\n  }\n}\n\n.design-library-skeleton-hero {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 75px;\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 60%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 30%;\n  }\n}\n\n.design-library-skeleton-button {\n  display: flex;\n  gap: 35px;\n  width: 450px;\n\n  .design-library-skeleton-line {\n    border-radius: 6px;\n    height: 68px;\n    background-color: var(--gray300);\n  }\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 50%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 50%;\n    background-color: transparent;\n    border: 4px solid var(--gray300);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DesignLibrarySkeleton.vue?vue&type=template&id=68a46f52&\"\nimport script from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nexport * from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TreeNode } from \"@/types/tree\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport {\n  findPlaceToAddNodes,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { documentStore } from \"@/store/store-accessor\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport const pasteElements = (elements: TreeNode[]) => {\n  const uniqueId = uuidV4();\n  const transactionKey = `Library:${uniqueId}`;\n\n  breakdanceUndo.transaction(\n    () => {\n      elements.forEach(elementToPaste => {\n        const placeToAdd = findPlaceToAddNodes(\n          documentStore.document.tree,\n          null,\n          getNestingRuleFromNode(elementToPaste)\n        );\n\n        pipe(\n          placeToAdd,\n          fold(\n            () => {},\n            legalPlaceToAdd => {\n              if (legalPlaceToAdd === \"TOP_LEVEL\") return;\n\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            }\n          )\n        );\n      });\n    },\n    `Import from design library`,\n    transactionKey\n  );\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"design-library-sidebar\"},[_c('header',{staticClass:\"design-library-sidebar-header\"},[_c('SearchInput',{attrs:{\"placeholder\":\"Search Pages\",\"autofocus\":true},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('v-treeview',{attrs:{\"hoverable\":\"\",\"activatable\":\"\",\"open-on-click\":\"\",\"items\":_vm.treeItems,\"open-all\":!!_vm.searchQuery},on:{\"update:active\":function($event){return _vm.$emit('select', $event)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [(item.children)?_c('Icon',{attrs:{\"icon\":open ? 'FolderOpenIcon' : 'FolderIcon'}}):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport Fuse from \"fuse.js\";\nimport { DesignSetPost } from \"@/types/design-library\";\n\n@Component({\n  components: { SearchInput, Icon }\n})\nexport default class DesignLibrarySidebar extends Vue {\n  @Prop({\n    default() {\n      return [];\n    }\n  })\n  items!: DesignSetPost[];\n\n  searchQuery = \"\";\n\n  get filteredItems() {\n    const search = this.searchQuery;\n\n    if (!search) return this.items;\n\n    const fuse = new Fuse(this.items, {\n      keys: [\"name\"],\n      threshold: 0.2\n    });\n\n    return fuse.search(search.trim()).map(r => r.item);\n  }\n\n  get treeItems() {\n    const orphans: DesignSetPost[] = [];\n\n    const groupedByTags = this.filteredItems.reduce((r, a) => {\n      if (!a.tags.length) {\n        orphans.push(a);\n      } else {\n        a.tags.forEach(tag => {\n          r[tag] = r[tag] || [];\n          r[tag].push(a);\n        });\n      }\n\n      return r;\n    }, Object.create(null));\n\n    const tags = Object.keys(groupedByTags).map(key => {\n      return {\n        id: key,\n        name: key,\n        children: groupedByTags[key]\n      };\n    });\n\n    return [...orphans, ...tags];\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibrarySidebar.vue?vue&type=template&id=3ec5bd7c&\"\nimport script from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VTreeview})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Design Set\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.value && _vm.value.name)+\" \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"300\",\"height\":\"350\"}},[_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.providers),function(provider,i){return [_c('v-list-item',{key:i,class:{\n            'document-chooser-item-selected':\n              _vm.value && provider.url === _vm.value.url\n          },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.chooseProvider(provider)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(provider.name)+\" \")]),(provider.type)?_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(\" \"+_vm._s(provider.type)+\" \")]):_vm._e()])],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DesignProviderDropdown extends Vue {\n  @Prop()\n  value!: DesignProvider | null;\n\n  @Prop()\n  providers!: DesignProvider[];\n\n  open = false;\n\n  chooseProvider(provider: DesignProvider) {\n    this.$emit(\"input\", provider);\n    this.open = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignProviderDropdown.vue?vue&type=template&id=1514124e&\"\nimport script from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  BASE_BREAKPOINT_ID,\n  DEFAULT_MINIMUM_BREAKPOINT_WIDTH,\n  getMinimumWidth\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { PropertiesDataV, TreeNode, TreeNodeV } from \"@/types/tree\";\nimport DesignLibrarySkeleton from \"@/components/Add/library/DesignLibrarySkeleton.vue\";\n\nimport * as t from \"io-ts\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { pasteElements } from \"@/lib/design-library/design-library\";\nimport { configStore, globalStore, uiStore } from \"@/store/store-accessor\";\nimport { smoothScrollToLastElement } from \"@/lib/canvas/scroll-to-active-element\";\nimport DesignLibrarySidebar from \"@/components/Add/library/DesignLibrarySidebar.vue\";\nimport {\n  DesignSetData,\n  DesignSetDataV,\n  DesignSetPost\n} from \"@/types/design-library\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport LoadingSpinner from \"@/components/Reusable/LoadingSpinner.vue\";\nimport DesignProviderDropdown from \"@/components/Add/library/DesignProviderDropdown.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\n\n@Component({\n  components: {\n    LoadingSpinner,\n    Icon,\n    IconButton,\n    NiceButton,\n    DesignLibrarySidebar,\n    DesignLibrarySkeleton,\n    TopBarSection,\n    DropdownInput,\n    BreakpointsSelection,\n    DesignProviderDropdown\n  }\n})\nexport default class DesignLibraryModal extends Vue {\n  selectedProvider: DesignProvider | null = null;\n  selectedPostId: number | null = null;\n  providerElements: TreeNode[] = [];\n  reliesOnGlobalSettings: DesignSetData[\"reliesOnGlobalSettings\"] = false;\n  providerPosts: DesignSetPost[] = [];\n\n  breakpoint = {\n    id: BASE_BREAKPOINT_ID,\n    label: \"\",\n    minWidth: undefined,\n    maxWidth: undefined,\n    defaultPreviewWidth: DEFAULT_MINIMUM_BREAKPOINT_WIDTH\n  };\n\n  canvasSize = {\n    width: 0,\n    height: 0\n  };\n\n  loading = false;\n  previewLoaded = false;\n  fullscreen = false;\n  loadingDesignSetData = false;\n\n  loadingExternalGlobalSettings = false;\n  importGlobalSettingsScreen = false;\n\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_B, this.open);\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_A);\n\n    this.unbindListeners();\n  }\n\n  get currentSiteUrl() {\n    return configStore.neededData?.homeUrl;\n  }\n\n  get customProviders() {\n    return configStore.designLibrary.customDesignSets;\n  }\n\n  get providers(): DesignProvider[] {\n    const providers: DesignProvider[] = [];\n\n    if (this.currentSiteUrl) {\n      providers.push({\n        name: \"This Website\",\n        isLocal: true,\n        url: this.currentSiteUrl\n      });\n    }\n\n    providers.push(\n      // {\n      //   name: \"Jumpstart\",\n      //   url: \"https://breakdancelibrary.com/jumpstart/\",\n      //   type: \"Website UI Kit\"\n      // },\n      // {\n      //   name: \"Samba\",\n      //   url: \"https://breakdancelibrary.com/samba/\",\n      //   type: \"Website UI Kit\"\n      // },\n      {\n        name: \"Fancy Sections\",\n        url: \"https://breakdancedemos.com/supa/\",\n        type: \"Sections\"\n      },\n      {\n        name: \"Element Demos\",\n        url: \"https://breakdancedemos.com/elements/\",\n        type: \"Sections\"\n      }\n      // {\n      //   name: \"Security\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/security/\"\n      // },\n      // {\n      //   name: \"Auto Repair\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/auto/\"\n      // },\n      // {\n      //   name: \"Car Wash\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/carwash/\"\n      // },\n      // {\n      //   name: \"Architecture\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/architecture/\"\n      // },\n      // {\n      //   name: \"Cleaning\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/cleaning-company/\"\n      // },\n      // {\n      //   name: \"Plumbing\",\n      //   type: \"Complete Website\",\n      //   url: \"https://breakdancelibrary.com/plumbing/\"\n      // }\n    );\n\n    providers.push(...this.customProviders.map(p => ({ name: p, url: p })));\n\n    return providers;\n  }\n\n  get sidebarItems() {\n    return this.providerPosts; // TODO: Support nesting?\n  }\n\n  get isOpen() {\n    return uiStore.panelState.designLibraryModalOpen;\n  }\n\n  set isOpen(event) {\n    uiStore.setDesignLibraryModalState(event);\n  }\n\n  get selectedPost() {\n    return this.providerPosts.find(post => post.id === this.selectedPostId);\n  }\n\n  get iframeUrl() {\n    if (!this.selectedProvider) return null;\n\n    const url = this.selectedPost?.url || this.selectedProvider.url;\n    const iframeUrl = new URL(url);\n    iframeUrl.searchParams.append(\"breakdance\", \"design-library\");\n\n    return iframeUrl.toString();\n  }\n\n  get previewWidth() {\n    if (this.breakpoint.id === BASE_BREAKPOINT_ID) return \"100%\";\n    return this.breakpoint.defaultPreviewWidth;\n  }\n\n  get minWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width: this.previewWidth === \"100%\" ? \"100%\" : `${this.previewWidth}px`\n    };\n  }\n\n  get iframeStyles() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(1, this.canvasSize.width / width);\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.canvasSize.height * (1 / scaleFactor)}px`\n      };\n    };\n\n    if (this.previewWidth === \"100%\") {\n      if (this.canvasSize.width < this.minWidth) {\n        return scaledStyles(this.minWidth);\n      } else {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      }\n    } else {\n      return scaledStyles(this.previewWidth);\n    }\n  }\n\n  get canImportAll() {\n    return this.providerElements.length;\n  }\n\n  @Watch(\"isOpen\")\n  onDialogOpen() {\n    if (this.isOpen) {\n      this.modalOpened();\n    } else {\n      this.unbindListeners();\n    }\n  }\n\n  @Watch(\"selectedProvider\")\n  onProviderChange(\n    newProvider: DesignProvider,\n    oldProvider: DesignProvider | null\n  ) {\n    this.providerElements = [];\n    this.selectedPostId = null;\n    this.providerPosts = [];\n    this.reliesOnGlobalSettings = false;\n\n    this.getDesignSetData();\n\n    if (newProvider.url !== oldProvider?.url) {\n      this.previewLoaded = false;\n    }\n  }\n\n  modalOpened() {\n    if (!this.selectedProvider) {\n      this.selectedProvider = this.providers[0];\n    }\n\n    // Calculate canvas size only after the dialog is fully open.\n    this.calculateSizeAfterTransition();\n\n    window.addEventListener(\"message\", this.handleIframeMessage, false);\n    window.addEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  toggleImportGlobalSettingsScreen() {\n    this.importGlobalSettingsScreen = !this.importGlobalSettingsScreen;\n  }\n\n  unbindListeners() {\n    window.removeEventListener(\"message\", this.handleIframeMessage, false);\n    window.removeEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  calculateSizeAfterTransition() {\n    const transitionDuration = 400;\n    setTimeout(() => this.setCanvasSize(), transitionDuration);\n  }\n\n  setCanvasSize() {\n    const wrapper = this.$refs.iframeWrapper as HTMLElement;\n    if (!wrapper) return;\n\n    const { width, height } = wrapper.getBoundingClientRect();\n    this.canvasSize = { width, height };\n  }\n\n  reloadIframe() {\n    const iframe = this.$refs.iframe as HTMLIFrameElement;\n\n    // https://github.com/soflyy/breakdance/pull/4317/files#r986884610\n    // fixes an error on dev when it rehydrates state\n    if (!iframe) {\n      this.selectedProvider = this.providers[0];\n\n      return;\n    }\n\n    iframe.src += \"\";\n    this.loading = true;\n  }\n\n  goHome() {\n    this.selectedPostId = null;\n    this.reloadIframe();\n  }\n\n  toggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    this.calculateSizeAfterTransition();\n  }\n\n  handleIframeMessage(event: MessageEvent) {\n    if (typeof event.data !== \"string\") return;\n\n    const [name, data] = event.data.split(/,(.*)/s);\n\n    if (name === \"breakdanceGetElements\") {\n      this.getElements(data);\n    }\n\n    if (name === \"breakdanceImportElement\") {\n      this.importElement(data);\n    }\n\n    if (name === \"breakdanceBeforeLeave\") {\n      this.navigatedAway();\n    }\n  }\n\n  onPostSelected(posts: number[]) {\n    const [selectedId] = posts;\n    this.loading = true;\n    this.selectedPostId = selectedId || null;\n    this.reloadIframe();\n  }\n\n  onProviderLoaded() {\n    this.previewLoaded = true;\n    this.loading = false;\n    this.setCanvasSize();\n  }\n\n  getElements(elementsAsString: string) {\n    this.loading = false;\n\n    const maybeElements = fpJsonParseTypesafe(\n      elementsAsString,\n      t.array(TreeNodeV)\n    );\n\n    this.providerElements = pipe(\n      maybeElements,\n      fold(\n        () => [],\n        els => els\n      )\n    );\n  }\n\n  navigatedAway() {\n    this.loading = true;\n  }\n\n  importElement(elementAsString: string) {\n    const maybeElement = fpJsonParseTypesafe(elementAsString, TreeNodeV);\n\n    const element = pipe(\n      maybeElement,\n      fold(\n        () => null,\n        el => el\n      )\n    );\n\n    if (!element) return;\n\n    pasteElements([element]);\n    this.close();\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  importAll() {\n    pasteElements(this.providerElements);\n    this.close();\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  close() {\n    uiStore.setDesignLibraryModalState(false);\n  }\n\n  open() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  async getDesignSetData() {\n    const url = this.selectedProvider?.url;\n    this.loadingDesignSetData = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: this.selectedProvider?.isLocal\n          ? \"breakdance_get_design_set\"\n          : \"breakdance_get_external_design_set\",\n        decoder: DesignSetDataV,\n        friendlyName: \"Design Set Data\",\n        dataToPost: { url }\n      }),\n      fold(\n        () => {\n          this.providerPosts = [];\n        },\n        designSetData => {\n          this.providerPosts = designSetData.posts;\n          this.reliesOnGlobalSettings = designSetData.reliesOnGlobalSettings;\n        }\n      )\n    );\n\n    this.loadingDesignSetData = false;\n  }\n\n  async importGlobalSettings() {\n    this.loadingExternalGlobalSettings = true;\n\n    const url = this.selectedProvider?.url;\n\n    const externalGlobalSettings = pipe(\n      await makeWordPressAjaxRequest({\n        action: this.selectedProvider?.isLocal\n          ? \"breakdance_get_global_settings_for_design_library\"\n          : \"breakdance_get_external_global_settings\",\n        decoder: PropertiesDataV,\n        friendlyName: `Global Settings for \"${url}\"`,\n        dataToPost: { url }\n      }),\n      fold(\n        () => null,\n        externalGlobalSettings =>\n          externalGlobalSettings && externalGlobalSettings.globalSettings\n      )\n    );\n\n    if (!externalGlobalSettings) {\n      NotificationLogger.log.errorMessage(\n        `Error importing Global Settings for \"${this.selectedProvider?.name ||\n          this.selectedProvider?.url}\"`\n      );\n    }\n\n    this.loadingExternalGlobalSettings = false;\n    this.importGlobalSettingsScreen = false;\n\n    globalStore.setGlobalSettings(externalGlobalSettings);\n    uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n      \"globalSettings\",\n      false\n    );\n\n    NotificationLogger.log.message(\n      `Imported Global Settings from \"${this.selectedProvider?.name ||\n        this.selectedProvider?.url}\"`\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryModal.vue?vue&type=template&id=f60547f8&\"\nimport script from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VDialog,VOverlay,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"breakdance-panel-header d-flex align-center\",attrs:{\"tile\":\"\"}},[_c('div',{staticClass:\"breakdance-panel-header-title\"},[_vm._t(\"default\")],2),_c('v-spacer'),_vm._t(\"right\"),(_vm.backInsteadOfClose)?_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"90\",\"size\":\"12\",\"small\":\"\"},on:{\"click\":_vm.close}}):_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"16\",\"small\":\"\"},on:{\"click\":_vm.close}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\n\n@Component({\n  components: {\n    IconButton\n  }\n})\nexport default class PanelHeader extends Vue {\n  @Prop({ default: false })\n  backInsteadOfClose!: boolean;\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeader.vue?vue&type=template&id=b673da5a&\"\nimport script from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSheet,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementsList from \"@/components/Add/ElementsList.vue\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    DesignLibraryModal,\n    PanelHeader,\n    ElementsList\n  }\n})\nexport default class Add extends Vue {\n  close() {\n    closeUiPanel(\"add\");\n  }\n\n  openDesignLibrary() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  get state() {\n    return configStore.elementsLoadingState;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddPanel.vue?vue&type=template&id=ba178ab4&\"\nimport script from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll global-settings-panel\"},[_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Global Settings \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"globalSettings\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),(_vm.viewMode === 'controls')?_c('GlobalSettingsPanelControlsViewMode',{attrs:{\"is-loading\":_vm.isLoading}}):(_vm.viewMode === 'history')?_c('GlobalSettingsPanelHistoryViewMode'):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PanelHeaderButton',{attrs:{\"enabled\":_vm.isBrowseModeEnabled},on:{\"click\":_vm.toggleBrowseMode}},[_vm._v(\"browse\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'breakdance-panel-header-button': true,\n    'breakdance-panel-header-button--enabled': _vm.enabled\n  },on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class PanelHeaderButton extends Vue {\n  @Prop({ default: true })\n  enabled!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeaderButton.vue?vue&type=template&id=51eb6c36&\"\nimport script from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\nimport Vue from \"vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport {\n  BrowseModeSupportedUIPanels,\n  toggleBrowseMode\n} from \"@/lib/browse-mode\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\n\n@Component({\n  components: {\n    PanelHeaderButton\n  }\n})\nexport default class BrowseModeToggle extends Vue {\n  @Prop({ default: \"globalSettings\" })\n  panelToOpen!: BrowseModeSupportedUIPanels;\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  toggleBrowseMode() {\n    toggleBrowseMode(this.panelToOpen);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeToggle.vue?vue&type=template&id=0b2dc75a&\"\nimport script from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):[(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"settings\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"settings\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"settings\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"settings\"},on:{\"input\":_vm.updateSearchBoxState}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport { addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport {\n  getGlobalSettingsAccordionState,\n  setGlobalSettingsAccordionState\n} from \"@/lib/panels/accordions\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: { ControlsTree, SearchBox, Icon, SearchBoxEmptyState }\n})\nexport default class GlobalSettingsPanelControlsViewMode extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n  get controls() {\n    return configStore.globalSettingsControlsAndTemplate.controls;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingGlobalSettingsControlsTreeContext,\n      \"settings\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  @Provide(\"context\")\n  editingGlobalSettingsControlsTreeContext = editingGlobalSettingsControlsTreeContext;\n}\n\nconst editingGlobalSettingsControlsTreeContext: ControlsTreeContext = {\n  dynamicAccepts: () => false,\n\n  getControlValue: controlPath => {\n    return lodash.get(globalStore.globalSettings, controlPath);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    globalStore.throttledGlobalSettingsPropertyChange(\n      addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: () => configStore.globalSettingsControlsAndTemplate.controls,\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    setGlobalSettingsAccordionState(accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    return getGlobalSettingsAccordionState(accordionPath);\n  }\n};\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=template&id=8f280452&\"\nimport script from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VLayout,VProgressCircular,VSheet})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as t from \"io-ts\";\nimport { ExportedTreeV, PropertiesDataV } from \"@/types/tree\";\nimport { CSSSelectorListV } from \"@/types/selectors\";\n\nexport const RevisionCommonDataV = t.type({\n  id: t.union([t.number, t.string]),\n  date: t.string,\n  author: t.union([t.string, t.literal(false)])\n});\nexport type RevisionCommonData = t.TypeOf<typeof RevisionCommonDataV>;\n\n// IO-TS generic types didn't work correctly with TypeScript 3.8.3,\n// stating that \"object type isn't assignable to any type\".\n// Thus, we're using different types for document, global settings and selector revisions instead.\n\nexport const GlobalSettingsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    globalSettings: PropertiesDataV\n  })\n]);\nexport type GlobalSettingsRevision = t.TypeOf<typeof GlobalSettingsRevisionV>;\n\nexport const GlobalSettingsRevisionsListV = t.array(GlobalSettingsRevisionV);\nexport type GlobalSettingsRevisionsList = t.TypeOf<\n  typeof GlobalSettingsRevisionsListV\n>;\n\nexport const SelectorsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    selectors: CSSSelectorListV\n  })\n]);\nexport type SelectorsRevision = t.TypeOf<typeof SelectorsRevisionV>;\n\nexport const SelectorsRevisionsListV = t.array(SelectorsRevisionV);\nexport type SelectorsRevisionsList = t.TypeOf<typeof SelectorsRevisionsListV>;\n\nexport const DocumentRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    tree: ExportedTreeV\n  })\n]);\nexport type DocumentRevision = t.TypeOf<typeof DocumentRevisionV>;\n\nexport const DocumentRevisionsV = t.type({\n  revisions: t.array(DocumentRevisionV)\n});\n\nexport const DocumentRevisionsDataFromServerV = t.union([\n  DocumentRevisionsV,\n  t.type({ unsupported: t.string })\n]);\n\nexport type DocumentRevisionsData = {\n  revisions: DocumentRevision[];\n  currentUnsavedRevision: DocumentRevision | null;\n};\n\nexport type RevisionUiItem<\n  T extends RevisionCommonData = RevisionCommonData\n> = {\n  revisionData: T;\n  isSelected: boolean;\n};\n","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  GlobalSettingsRevisionsList,\n  GlobalSettingsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteGlobalSettingsRevisions(): Promise<GlobalSettingsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_global_settings_revisions\",\n      decoder: GlobalSettingsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-revisions-list vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):(_vm.revisionsNotSupportedMessage)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('p',[_vm._v(_vm._s(_vm.revisionsNotSupportedMessage))])]):(!_vm.revisions.length)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('h2',[_vm._v(\"No revisions found\")]),_c('p',[_vm._v(\"Save any changes to create a new revision\")])]):_c('div',{staticClass:\"breakdance-revisions-list__items\"},_vm._l((_vm.revisions),function(revision,index){return _c('RevisionItem',{key:revision.revisionData.id,attrs:{\"revision\":revision.revisionData,\"selected\":revision.isSelected},on:{\"click\":function($event){return _vm.onRevisionSelected(revision, index)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"revisions-item\",class:{ 'revisions-item--selected': _vm.selected },on:{\"click\":function($event){return _vm.$emit('click', _vm.revision)}}},[_c('span',{staticClass:\"revisions-item__date\"},[_vm._v(_vm._s(_vm.revision.date))]),(_vm.revision.author)?[_c('span',[_vm._v(_vm._s(_vm.revision.author))])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionCommonData } from \"@/types/revisions\";\n\n@Component({})\nexport default class RevisionItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  revision!: RevisionCommonData;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionItem.vue?vue&type=template&id=1b06230b&\"\nimport script from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionUiItem } from \"@/types/revisions\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\n@Component({\n  components: { RevisionItem }\n})\nexport default class RevisionsList extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  @Prop({ default: [] })\n  revisions!: RevisionUiItem[];\n\n  @Prop({ default: null })\n  revisionsNotSupportedMessage!: string | null;\n\n  onRevisionSelected(revision: RevisionUiItem, index: number) {\n    this.$emit(\"revisionSelected\", revision, index);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionsList.vue?vue&type=template&id=596407b6&\"\nimport script from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VLayout,VProgressCircular})\n","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { fetchRemoteGlobalSettingsRevisions } from \"@/lib/global-settings/revisions\";\nimport Vue from \"vue\";\nimport {\n  GlobalSettingsRevision,\n  GlobalSettingsRevisionsList,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport { isEqual } from \"lodash\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\n\n// TODO refactor code duplication w/SelectorsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class GlobalSettingsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: GlobalSettingsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: GlobalSettingsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.settingsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreGlobalSettingsRevision\" &&\n        mutationPayload.type !== \"global/setSelectors\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setGlobalSettings\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteGlobalSettingsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return this.revisions.findIndex(revision =>\n      isEqual(revision.globalSettings, currentGlobalSettings)\n    );\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null || this.remoteRevisions.length === 0) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return isEqual(\n      mostRecentRemoteRevision.globalSettings,\n      currentGlobalSettings\n    );\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      globalSettings: defensiveCopy(globalStore.globalSettings)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<GlobalSettingsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: GlobalSettingsRevision,\n        index: number\n      ): RevisionUiItem<GlobalSettingsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): GlobalSettingsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<GlobalSettingsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () =>\n        globalStore.restoreGlobalSettingsRevision(revisionUiItem.revisionData),\n      \"Restore Global Settings From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=template&id=737293ca&\"\nimport script from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport GlobalSettingsPanelControlsViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue\";\nimport GlobalSettingsPanelHistoryViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  fetchGlobalSettings,\n  saveGlobalSettingsToWordPress\n} from \"@/lib/global-settings/global-settings\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\n\n@Component({\n  components: {\n    GlobalSettingsPanelHistoryViewMode,\n    GlobalSettingsPanelControlsViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    PanelHeader\n  }\n})\nexport default class GlobalSettingsPanel extends Vue {\n  get viewMode() {\n    return uiStore.panelState.globalSettingsPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      globalSettingsPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  storedData: PropertiesData = null;\n\n  isStoringData = false;\n  isLoadingData = false;\n\n  get isLoading() {\n    return this.isStoringData || this.isLoadingData;\n  }\n\n  async beforeMount() {\n    if (\n      uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings\n    ) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        globalSettingsPanelActiveViewMode: \"controls\"\n      });\n      await this.loadSettings();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n        \"globalSettings\",\n        true\n      );\n    }\n  }\n\n  async storeSettings() {\n    this.isStoringData = true;\n    const isSuccessful = await saveGlobalSettingsToWordPress();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  async loadSettings() {\n    this.isLoadingData = true;\n    const isSuccessful = await fetchGlobalSettings();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.settingsHasUnsavedChangesPresent;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"globalSettings\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Global Settings.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"globalSettings\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.globalSettings?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.loadSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.storeSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  close() {\n    closeUiPanel(\"globalSettings\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanel.vue?vue&type=template&id=2c2a07f7&\"\nimport script from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll selectors-panel\"},[(_vm.isLoadingData)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):_vm._e(),(_vm.activeSelector)?_c('EditSelector',{on:{\"close\":_vm.close}}):_vm._e(),(!_vm.activeSelector && !_vm.isLoadingData)?_c('ManageSelectors',{on:{\"close\":_vm.close}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Selectors \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"selectors\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),(_vm.viewMode === 'controls')?[_c('AddSelector'),_c('div',{staticClass:\"vscroll-wrap vscroll-scroll breakdance-manage-selectors\"},[_c('SelectorsList',{attrs:{\"selectors\":_vm.selectors,\"searchable\":true},on:{\"input\":_vm.updateSelectors}})],1)]:(_vm.viewMode === 'history')?[_c('SelectorsPanelHistoryViewMode')]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-row add-selector\"},[_c('TextInput',{staticClass:\"flex-grow-1\",attrs:{\"placeholder\":\".your.css > #selector-69::after\"},model:{value:(_vm.newSelectorName),callback:function ($$v) {_vm.newSelectorName=$$v},expression:\"newSelectorName\"}}),_c('NiceButton',{staticClass:\"ml-1\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.addSelector}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  createCssSelectorObjectFromSelectorName\n} from \"@/lib/selectors/selectors\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, TextInput }\n})\nexport default class AddSelector extends Vue {\n  newSelectorName: string | null = \"\";\n\n  addSelector() {\n    if (!this.newSelectorName) return;\n\n    pipe(\n      createCssSelectorObjectFromSelectorName(this.newSelectorName),\n      fold(\n        errors => errors.forEach(NotificationLogger.log.message),\n        selector =>\n          addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed(\n            selector\n          )\n      )\n    );\n\n    this.newSelectorName = \"\";\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddSelector.vue?vue&type=template&id=36fe4188&\"\nimport script from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddSelector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  SelectorsRevisionsList,\n  SelectorsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteSelectorsRevisions(): Promise<SelectorsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_selectors_revisions\",\n      decoder: SelectorsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch } from \"vue-property-decorator\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport Vue from \"vue\";\nimport {\n  RevisionUiItem,\n  SelectorsRevision,\n  SelectorsRevisionsList\n} from \"@/types/revisions\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isEqual } from \"lodash\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { fetchRemoteSelectorsRevisions } from \"@/lib/selectors/revisions\";\n\n// TODO refactor code duplication w/GlobalSettingsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class SelectorsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: SelectorsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: SelectorsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.selectorsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreSelectorsRevision\" &&\n        mutationPayload.type !== \"global/setGlobalSettings\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setSelectors\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteSelectorsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return this.revisions.findIndex(revision => {\n      return isEqual(revision.selectors, currentSelectors);\n    });\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return isEqual(mostRecentRemoteRevision.selectors, currentSelectors);\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      selectors: defensiveCopy(globalStore.cssSelectors)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<SelectorsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: SelectorsRevision,\n        index: number\n      ): RevisionUiItem<SelectorsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): SelectorsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<SelectorsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () => globalStore.restoreSelectorsRevision(revisionUiItem.revisionData),\n      \"Restore Selectors From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanelHistoryViewMode.vue?vue&type=template&id=8c6f0cf8&\"\nimport script from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { CSSSelector } from \"@/types/selectors\";\nimport SelectorsList from \"./SelectorsList.vue\";\nimport AddSelector from \"./AddSelector.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\n\n// @ts-ignore\nimport draggable from \"vuedraggable\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport SelectorsPanelHistoryViewMode from \"@/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue\";\n\n@Component({\n  components: {\n    SelectorsPanelHistoryViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    draggable,\n    SelectorsList,\n    AddSelector,\n    PanelHeader\n  }\n})\nexport default class ManageSelectors extends Vue {\n  get viewMode() {\n    return uiStore.panelState.selectorsPanelPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      selectorsPanelPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  updateSelectors(newSelectors: CSSSelector[]) {\n    globalStore.setSelectors(defensiveCopy(newSelectors));\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageSelectors.vue?vue&type=template&id=6376803a&\"\nimport script from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeSelector)?_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{attrs:{\"backInsteadOfClose\":true},on:{\"close\":_vm.close}},[_vm._v(\" Editing Selector \")]),_c('div',{staticClass:\"breakdance-selector-titlebar\"},[_c('div',{staticClass:\"flex-grow-1 mr-2\"},[(_vm.editingClassOrClassHover)?[_c('div',{staticClass:\"d-flex flex-row align-center flex-wrap mr-2\"},[_c('transition',{attrs:{\"name\":\"blink-on-change\"}},[_c('div',{key:_vm.activeSelector.name,staticClass:\"selector-titlebar-classname mr-1 ml-n1\"},[_vm._v(\" \"+_vm._s(_vm.activeSelector.name.replace(\":hover\", \"\"))+\" \")])]),_c('v-btn',{class:[\n              'editing-class-hover-hover-button-always',\n              _vm.editingClassHover\n                ? 'editing-class-hover-hover-button-active'\n                : 'editing-class-hover-hover-button'\n            ],attrs:{\"x-small\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.toggleHover}},[_vm._v(\" :hover \")])],1)]:[_c('div',{staticClass:\"d-flex flex-column\"},[_c('TextInput',{attrs:{\"value\":_vm.activeSelector.name},on:{\"input\":_vm.tryToRenameActiveSelector}})],1)]],2),(_vm.selectorIsHighlightable)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n            var on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"icon\":\"SearchFileIcon\",\"size\":\"16\",\"active\":_vm.highlight},on:{\"click\":_vm.toggleHighlight}},on))]}}],null,false,3251607670)},[_c('span',[_vm._v(_vm._s(_vm.howManyOnPage)+\" on page\")])]):_vm._e(),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"},on:{\"click\":_vm.deleteSelector}})],1),(\n      _vm.searchBoxState.query !== '' && _vm.hasSearchParameters && !_vm.noSearchResults\n    )?_c('div',{staticClass:\"control-tree-search-term control-tree-search-term-selector\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),(\n      !_vm.editingClassOrClassHover &&\n        _vm.attemptingToRename &&\n        !_vm.isAttemptedRenameValid\n    )?_c('div',{staticClass:\"edit-selector-invalid-name-error\"},[_vm._v(\" invalid selector name \")]):_vm._e(),_c('div',{staticClass:\"edit-selector-border\"}),(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"properties\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"properties\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"selectors\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"selector\"},on:{\"input\":_vm.updateSearchBoxState}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Provide } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { configStore, uiStore, globalStore } from \"@/store/store\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  isValidSelectorName\n} from \"@/lib/selectors/selectors\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getSelectorAccordionState,\n  setSelectorAccordionState\n} from \"@/lib/panels/accordions\";\nimport { addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { addOrUpdateInlineCSSAtEndOfHead } from \"@/lib/canvas/assets/dom-utils\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    ControlsTree,\n    SearchBox,\n    IconButton,\n    PanelHeader,\n    TextInput,\n    SearchBoxEmptyState,\n    Icon\n  }\n})\nexport default class EditSelector extends Vue {\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingClassControlsTreeContext,\n      \"properties\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get howManyOnPage() {\n    if (!uiStore.activeSelector) return 0;\n\n    const selectorToFind = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    const matchingElements = window.Breakdance.canvas.document.querySelectorAll(\n      selectorToFind\n    );\n\n    return matchingElements.length;\n  }\n\n  get editingClass() {\n    if (!this.activeSelector) return false;\n    return this.activeSelector.type === \"class\";\n  }\n\n  get editingClassHover() {\n    if (!this.activeSelector) return false;\n    if (this.activeSelector.name.endsWith(\":hover\")) {\n      return !!findClass(this.activeSelector.name.replace(\":hover\", \"\"));\n    }\n    return false;\n  }\n\n  get editingClassOrClassHover() {\n    return this.editingClass || this.editingClassHover;\n  }\n\n  get selectorIsHighlightable() {\n    if (!uiStore.activeSelectorName) return false;\n\n    if (uiStore.activeSelectorName.includes(\":\") && !this.editingClassHover)\n      return false;\n    return true;\n  }\n\n  get controls() {\n    return configStore.selectorControls;\n  }\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  highlight = false;\n\n  toggleHighlight() {\n    if (this.highlight) {\n      this.clearHighlight();\n    } else {\n      this.setHighlight();\n    }\n  }\n\n  beforeDestroy() {\n    this.clearHighlight();\n  }\n\n  setHighlight() {\n    this.highlight = true;\n\n    if (!uiStore.activeSelector) return;\n\n    const selectorToHighlight = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      `${selectorToHighlight} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `\n    );\n  }\n\n  clearHighlight() {\n    this.highlight = false;\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      \"\"\n    );\n  }\n\n  deleteSelector() {\n    if (!this.activeSelector) return;\n\n    const selector = this.activeSelector;\n    const indexToDelete = globalStore.cssSelectors.findIndex(\n      s => s.name === selector.name\n    );\n\n    if (indexToDelete !== -1) {\n      const newSelectors = defensiveCopy(globalStore.cssSelectors);\n      newSelectors.splice(indexToDelete, 1);\n      globalStore.setSelectors(newSelectors);\n    }\n  }\n\n  close() {\n    this.backToAllSelectors();\n  }\n\n  get activeElementTitle() {\n    if (!uiStore.activeElement) return false;\n    return configStore.element(uiStore.activeElement.data.type).name;\n  }\n\n  openElementProperties() {\n    openUiPanel(\"elementproperties\");\n  }\n\n  backToAllSelectors() {\n    uiStore.setActiveSelectorName(null);\n  }\n\n  attemptingToRename: string | false = false;\n\n  get isAttemptedRenameValid() {\n    if (!this.attemptingToRename) return true;\n\n    return isValidSelectorName(this.attemptingToRename);\n  }\n\n  tryToRenameActiveSelector(newName: string | null) {\n    if (!newName) return;\n\n    this.attemptingToRename = newName;\n\n    this.clearHighlight();\n\n    if (!isValidSelectorName(newName)) return;\n\n    const activeSelectorIndex = globalStore.cssSelectors.findIndex(\n      s => s === this.activeSelector\n    );\n\n    const newSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    if (newSelectors[activeSelectorIndex]) {\n      newSelectors[activeSelectorIndex].name = newName;\n      globalStore.setSelectors(newSelectors);\n      uiStore.setActiveSelectorName(newName);\n      this.attemptingToRename = false;\n    }\n  }\n\n  toggleHover() {\n    if (!uiStore.activeSelector) return;\n\n    if (this.editingClass) {\n      const hoverSelectorName = uiStore.activeSelectorName + \":hover\";\n\n      const findHoverSelector = () =>\n        globalStore.cssSelectors.find(s => s.name === hoverSelectorName);\n\n      let hoverSelector = findHoverSelector();\n\n      if (!hoverSelector) {\n        addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed({\n          name: hoverSelectorName,\n          type: \"custom\",\n          properties: {}\n        });\n        hoverSelector = findHoverSelector();\n      }\n\n      if (!hoverSelector) {\n        NotificationLogger.log.message(\n          `Unable to create or find a :hover selector for ${uiStore.activeSelectorName}`\n        );\n        return;\n      }\n\n      uiStore.setActiveSelectorName(hoverSelector.name);\n      openUiPanel(\"selectors\");\n    } else if (this.editingClassHover && this.activeSelector) {\n      const foundClass = findClass(\n        this.activeSelector.name.replace(\":hover\", \"\")\n      );\n      if (foundClass) {\n        uiStore.setActiveSelectorName(foundClass.name);\n        openUiPanel(\"selectors\");\n      }\n    }\n  }\n\n  @Provide(\"context\")\n  editingClassControlsTreeContext = editingClassControlsTreeContext;\n}\n\nconst findClass = (className: string) =>\n  globalStore.cssSelectors.find(selector => selector.name === className);\n\nconst editingClassControlsTreeContext: ControlsTreeContext = {\n  dynamicAccepts: () => false,\n  getControls: () => configStore.selectorControls,\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeSelector, `${controlPath}`, undefined);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeSelector) return;\n\n    globalStore.throttledSelectorPropertyChange(\n      addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          selector: uiStore.activeSelector,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return;\n    setSelectorAccordionState(activeSelectorName, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return false;\n    return getSelectorAccordionState(activeSelectorName, accordionPath);\n  }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditSelector.vue?vue&type=template&id=35113427&\"\nimport script from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditSelector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VSheet,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport ManageSelectors from \"./ManageSelectors.vue\";\nimport EditSelector from \"./EditSelector.vue\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport {\n  refetchSelectorsFromServerToGlobalStore,\n  saveSelectorsToWordPress\n} from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    EditSelector,\n    ManageSelectors\n  }\n})\nexport default class SelectorsPanel extends Vue {\n  isLoadingData = false;\n  isStoringData = false;\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  async beforeMount() {\n    if (uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        selectorsPanelPanelActiveViewMode: \"controls\"\n      });\n      await this.load();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\"selectors\", true);\n    }\n  }\n\n  async load() {\n    this.isLoadingData = true;\n    const isSuccessful = await refetchSelectorsFromServerToGlobalStore();\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  async save() {\n    this.isStoringData = true;\n    const isSuccessful = await saveSelectorsToWordPress();\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"selectors\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Selectors.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.selectorsHasUnsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"selectors\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.selectors?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.load()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.save()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  get isLoading() {\n    return this.isLoadingData || this.isStoringData;\n  }\n\n  close() {\n    closeUiPanel(\"selectors\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanel.vue?vue&type=template&id=000eb18f&\"\nimport script from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VLayout,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-structure-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [(_vm.rootElement.children.length)?_c('button',{staticClass:\"breakdance-structure-panel__toggle-button mr-2\",on:{\"click\":_vm.toggleNodes}},[(_vm.toggleStage === 1)?[_vm._v(\"Expand\")]:_vm._e(),([0, 2].includes(_vm.toggleStage))?[_vm._v(\"Collapse\")]:_vm._e()],2):_vm._e()]},proxy:true}])},[_vm._v(\" Structure \")]),_c('div',{class:_vm.classList,on:{\"contextmenu\":_vm.onContextMenu}},[_c('div',{staticClass:\"structure-node root-node\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID},on:{\"mousedown\":_vm.dragStart}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",staticStyle:{\"margin-left\":\"-16px\",\"display\":\"none\"}},[_vm._v(\" Root Node \")]),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}})]),(_vm.rootElement.children.length > 0)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.rootElement.children,\"depth\":0}}):_c('div',{staticClass:\"structure-panel-empty-state\"},[_c('h5',[_vm._v(\"No Elements\")]),_c('p',[_vm._v(\"Add an element to your page and it will show up here.\")]),_c('StandardButton',{staticClass:\"open-elements-toolbar-button ml-auto mr-auto\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)],1)]),_c('StructureContextMenu')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\n\nexport type DragPayload = {\n  draggedElementId: number;\n  droppedOnElementId: number;\n  index: number;\n};\n\nexport type MouseDragStatus = {\n  overTopHalf: false | number;\n  overBottomHalf: false | number;\n  overIndex: false | number;\n  overNodeId: false | number;\n  overNodeParentId: false | number;\n  overNestDeeper: false | number;\n  overNestShallower: false | number;\n  overSelf: boolean;\n};\n\nexport function initialMouseDragStatus(): MouseDragStatus {\n  return {\n    overTopHalf: false,\n    overBottomHalf: false,\n    overIndex: false,\n    overNodeId: false,\n    overNodeParentId: false,\n    overSelf: false,\n    overNestDeeper: false,\n    overNestShallower: false\n  };\n}\n\nexport function getNodeIdAtPointInStructurePanel(x: number, y: number) {\n  const draggedElement = document\n    .elementsFromPoint(x, y)\n    .filter(filterByClass(\"structure-node\"))\n    .sort(sortByDepth)\n    .reverse()\n    .pop();\n\n  if (draggedElement) {\n    // @ts-ignore\n    const elementId = draggedElement.dataset.elementId;\n\n    if (elementId) {\n      return parseInt(elementId);\n    }\n  }\n\n  return false;\n}\n\nexport const filterByClass = (className: string) => {\n  return (element: Element) => {\n    if (element.classList.contains(className)) {\n      return true;\n    }\n    return false;\n  };\n};\n\n/* a bit fuckin brittle having the depth and other shit in the DOM... like... \nthere's a bunch of shit related to drag that's simply in the DOM of the structure panel's HTML output\nit works perfectly, but is there a better way? using DOM as a source of truth is sketchy */\n\nexport const sortByDepth = (elementA: Element, elementB: Element) => {\n  // @ts-ignore\n  if (parseInt(elementA.dataset.depth) > parseInt(elementB.dataset.depth)) {\n    return -1;\n  } else if (\n    // @ts-ignore\n    parseInt(elementB.dataset.depth) > parseInt(elementA.dataset.depth)\n  ) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n\nconst getElementIdDataAttrFromFirstElementThatMatchesClass = (\n  elementsList: Element[],\n  className: string\n) => {\n  const elements = elementsList.filter(filterByClass(className));\n  if (elements.length > 0) {\n    // @ts-ignore\n    return parseInt(elements[0].dataset.elementId);\n  }\n\n  return false;\n};\n\nexport const getMouseDragStatus = (\n  mouseX: number,\n  mouseY: number,\n  tree: Tree\n): MouseDragStatus => {\n  const elementsList = document.elementsFromPoint(mouseX, mouseY); // TODO: needs slight tweak for Edge compatibility, function name is different and returns NodeList\n\n  const dragStatus = initialMouseDragStatus();\n\n  dragStatus.overNestDeeper = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-deeper\"\n  );\n\n  dragStatus.overNestShallower = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-shallower\"\n  );\n\n  dragStatus.overTopHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"top-half\"\n  );\n\n  dragStatus.overBottomHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"bottom-half\"\n  );\n\n  dragStatus.overSelf =\n    getElementIdDataAttrFromFirstElementThatMatchesClass(\n      elementsList,\n      \"breakdance--currently-dragging\"\n    ) !== false;\n\n  if (dragStatus.overBottomHalf) {\n    dragStatus.overNodeId = dragStatus.overBottomHalf;\n  } else if (dragStatus.overTopHalf) {\n    dragStatus.overNodeId = dragStatus.overTopHalf;\n  }\n\n  if (dragStatus.overNodeId) {\n    const parent = getNodeParent(tree, dragStatus.overNodeId);\n    const index = getNodeIndex(tree, dragStatus.overNodeId);\n\n    if (index !== false && parent !== false) {\n      dragStatus.overIndex = index;\n      dragStatus.overNodeParentId = parent.id;\n    }\n  }\n\n  return dragStatus;\n};\n","import { MouseDragStatus } from \"@/lib/structure-panel-drag/util\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\nimport { isThisNodeAllowedInsideThatNode } from \"../tree/nesting\";\nimport { structurePanelNodeIsCollapsed } from \"@/lib/structure-panel/expand-collapse\";\n\ntype NodePosition = {\n  parentId: number;\n  index: number;\n};\n\nexport function getNewNodePosition(\n  mouseDragStatus: MouseDragStatus,\n  tree: Tree,\n  draggedNodeId: number\n): NodePosition | false {\n  let maybeNodePosition: false | NodePosition = false;\n  const draggedNode = findNode(tree, draggedNodeId);\n  if (!draggedNode) return false;\n\n  /*\n    \n    keep this comment in sync with the drag logic or ur a huge asshole\n  \n    if mouse is over another node\n      if over the top half of a node\n        position it above that node (as the preceding sibling) - if it's allowed\n         - the logic to do that is if it is already positioned above the node we are over, dont do shit\n         - and otherwise, move it to the position of the node we are over (occupying its index will push it down one)\n  \n        if it can not be positioned above that node as the preceding sibling,\n          does that node have a preceding sibling? can we position it as the last child of that node's preceding sibling?\n  \n  \n      if over the bottom half of a node and the node has no children showing (i.e. the node has no children, or the node is collapsed)\n        position it below that node (as the following sibling) - if it's allowed.\n        (A) the logic for this is as follows:\n          ... put it at the position returned by getPositionAfterNode, but we have to subtract one from the index returned...\n          ... by getPositionAfterNode if the ghost node is already inside the parent of the node we are dragging over...\n          ... and its index is lower that the index of the node we are dragging over ...\n          ... because the position returned by getPositionAfterNode isn't taking into account ...\n          ... that the ghost node is't then gonna be removed from above it ...\n  \n        if it can not be positioned below that node\n          position it inside that node as the first child\n  \n        if it can't be positioned inside that node as the first child:\n          if the node is the last child of its parent (B)\n            try to position it after the node's parent\n              if it's not allowed, recurse to B, with the node parent's parent\n              note: \n              ... just like (A) above, we have to subtract one from the node index returned by\n              ... getPositionAfterNode if the ghost node is in the same parent that the node is being dragged to\n              ... at a lower position than the node's new index, because getPositionAfterNode doesn't take \n              ... into account that the ghost node is going to be removed from above it\n\n      if over the bottom half of a node, and the node has children\n        position it inside that node, as the first child\n  \n    if mouse is over the dragged node\n      if it is the last child, and mouse is trying to pull it shallower\n        position it below its parent (as the following sibling) - recursively.\n  \n      if it has a preceding sibling (meaning it isnt the first child), and mouse is trying to push it deeper\n        position it inside its preceding sibling, as the last child - (TODO: right now this isn't recursive, but it should be)\n  \n    finally, check if where it has been positioned is allowed, and if so, return that position\n    */\n\n  if (!mouseDragStatus.overSelf) {\n    if (mouseDragStatus.overTopHalf) {\n      maybeNodePosition = getPositionOfNode(mouseDragStatus.overTopHalf, tree);\n\n      if (\n        draggedNodeId ===\n        getIdOfPrecedingSibling(mouseDragStatus.overTopHalf, tree)\n      ) {\n        maybeNodePosition = false;\n      }\n\n      const precedingSiblingId = getIdOfPrecedingSibling(\n        mouseDragStatus.overTopHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        precedingSiblingId &&\n        isThisNodeAllowedInsideThatNode(tree, draggedNode, precedingSiblingId)\n      ) {\n        maybeNodePosition = getPositionAtEndInside(precedingSiblingId, tree);\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      (nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) === 0 ||\n        structurePanelNodeIsCollapsed(mouseDragStatus.overBottomHalf))\n    ) {\n      maybeNodePosition = getPositionAfterNode(\n        mouseDragStatus.overBottomHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        const index = getNodeIndex(tree, draggedNode.id);\n        const parent = getNodeParent(tree, draggedNode.id);\n\n        if (\n          index !== false &&\n          parent !== false &&\n          maybeNodePosition &&\n          mouseDragStatus.overIndex\n        ) {\n          if (maybeNodePosition.parentId === parent.id) {\n            if (index < mouseDragStatus.overIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n        }\n      } else if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        maybeNodePosition = getPositionAtStartInside(\n          mouseDragStatus.overBottomHalf\n        );\n      }\n\n      if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        ) &&\n        isLastChild(mouseDragStatus.overBottomHalf, tree)\n      ) {\n        let parentToPositionAfter: number | false = false;\n\n        if (mouseDragStatus.overBottomHalf) {\n          const parentToPositionAfter_ = getNodeParent(\n            tree,\n            mouseDragStatus.overBottomHalf\n          );\n          parentToPositionAfter = parentToPositionAfter_\n            ? parentToPositionAfter_.id\n            : false;\n        }\n\n        while (parentToPositionAfter) {\n          maybeNodePosition = getPositionAfterNode(parentToPositionAfter, tree);\n\n          // subtract one from index logic\n          const parent = getNodeParent(tree, draggedNode.id);\n\n          if (\n            maybeNodePosition &&\n            parent &&\n            maybeNodePosition.parentId === parent.id\n          ) {\n            const draggedNodeIndex = getNodeIndex(tree, draggedNode.id);\n            const lastRecursedItemIndex = getNodeIndex(\n              tree,\n              parentToPositionAfter\n            );\n\n            if (draggedNodeIndex < lastRecursedItemIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n          // ------\n\n          if (!maybeNodePosition) {\n            parentToPositionAfter = false;\n          } else if (\n            !isThisNodeAllowedInsideThatNode(\n              tree,\n              draggedNode,\n              maybeNodePosition.parentId\n            ) &&\n            isLastChild(parentToPositionAfter, tree)\n          ) {\n            const parent = getNodeParent(tree, parentToPositionAfter);\n\n            parentToPositionAfter = parent ? parent.id : false;\n          } else {\n            parentToPositionAfter = false;\n          }\n        }\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) > 0\n    ) {\n      maybeNodePosition = getPositionAtStartInside(\n        mouseDragStatus.overBottomHalf\n      );\n    }\n  } else if (mouseDragStatus.overSelf) {\n    if (\n      isLastChild(draggedNodeId, tree) &&\n      mouseDragStatus.overNestShallower === draggedNodeId\n    ) {\n      let positionInsideParentNodeId: number | false = false;\n\n      maybeNodePosition = getPositionBelowParent(draggedNodeId, tree);\n\n      if (maybeNodePosition) {\n        positionInsideParentNodeId = maybeNodePosition.parentId;\n      }\n\n      while (positionInsideParentNodeId) {\n        if (\n          isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            positionInsideParentNodeId\n          )\n        ) {\n          break;\n        } else if (\n          maybeNodePosition &&\n          !isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            maybeNodePosition.parentId\n          ) &&\n          isLastChild(positionInsideParentNodeId, tree)\n        ) {\n          const parent = getNodeParent(tree, positionInsideParentNodeId);\n          positionInsideParentNodeId = parent ? parent.id : false;\n\n          if (positionInsideParentNodeId) {\n            maybeNodePosition = getPositionAtEndInside(\n              positionInsideParentNodeId,\n              tree\n            );\n          }\n        } else {\n          break;\n        }\n      }\n    }\n\n    if (\n      hasPrecedingSibling(draggedNodeId, tree) &&\n      mouseDragStatus.overNestDeeper === draggedNodeId\n    ) {\n      maybeNodePosition = getPositionAtEndInsidePrecedingSibling(\n        draggedNodeId,\n        tree\n      );\n    }\n  }\n\n  if (!maybeNodePosition) return false;\n\n  const dragAllowed = isThisNodeAllowedInsideThatNode(\n    tree,\n    draggedNode,\n    maybeNodePosition.parentId\n  );\n\n  if (dragAllowed) {\n    return maybeNodePosition;\n  }\n  return false;\n}\n\n/* helper functions */\n\nfunction getPositionOfNode(nodeId: number, tree: Tree): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index\n  };\n}\n\nfunction getPositionAfterNode(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index + 1\n  };\n}\n\nfunction getPositionAtStartInside(nodeId: number): NodePosition {\n  return {\n    parentId: nodeId,\n    index: 0\n  };\n}\n\nfunction getPositionAtEndInside(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const childCount = nodeChildrenCount(nodeId, tree);\n  if (childCount === false) return false;\n\n  return {\n    parentId: nodeId,\n    index: childCount\n  };\n}\n\nfunction getPositionBelowParent(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const parent = getNodeParent(tree, nodeId);\n  if (!parent) return false;\n\n  return getPositionAfterNode(parent.id, tree);\n}\n\nfunction getPositionAtEndInsidePrecedingSibling(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const precedingSiblingId = getIdOfPrecedingSibling(nodeId, tree);\n  if (!precedingSiblingId) return false;\n\n  return getPositionAtEndInside(precedingSiblingId, tree);\n}\n\nfunction getIdOfPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  if (index < 1) return false;\n\n  return parent.children[index - 1].id;\n}\n\nfunction nodeChildrenCount(nodeId: number, tree: Tree) {\n  const node = findNode(tree, nodeId);\n  if (!node) return false;\n  return node.children.length;\n}\n\nfunction isLastChild(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return;\n\n  const childCount = nodeChildrenCount(parent.id, tree);\n  if (!childCount) return;\n\n  return childCount === 1 || index === childCount - 1;\n}\n\nfunction hasPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n\n  if (index === false) return;\n\n  return index > 0;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { Vue, Component, Ref } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport {\n  getNodeIdAtPointInStructurePanel,\n  getMouseDragStatus,\n  initialMouseDragStatus,\n  DragPayload\n} from \"@/lib/structure-panel-drag/util\";\n\nimport { getNewNodePosition } from \"@/lib/structure-panel-drag/get-new-node-position\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\nimport {\n  expandOrCollapseAllNodes,\n  expandNodesToShowActiveElement,\n  structurePanelNodeIsExpanded\n} from \"@/lib/structure-panel/expand-collapse\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel,\n  toggleUiPanel\n} from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport { MutationPayload } from \"vuex\";\nimport UIModule from \"@/store/modules/ui\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\n\n@Component({\n  components: {\n    StructureContextMenu,\n    PanelHeader,\n    StandardButton\n  }\n})\nexport default class StructurePanel extends Vue {\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  mouseDragStatus = {\n    ...initialMouseDragStatus()\n  };\n\n  close() {\n    closeUiPanel(\"structure\");\n  }\n\n  get classList() {\n    return {\n      \"structure-panel-content-wrapper\": true,\n      \"is-draggable\": this.hasPermission,\n      \"drag-in-progress\": uiStore.isCanvasElementBeingDragged,\n      \"force-grabbing-cursor\": this.forceGrabbingCursor\n    };\n  }\n\n  forceGrabbingCursor = false;\n\n  firstDragMovement = true;\n\n  draggedNodeId: false | number = false;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  didMoveElement = false;\n\n  unsubscribeFromActivateElementMutation: (() => void) | null = null;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  mounted() {\n    this.expandToShowActiveElementWatch();\n\n    // We cannot use watch instead, because watch doesn't emit when the same value was written to state\n    this.unsubscribeFromActivateElementMutation = this.$store.subscribe<\n      MutationPayload & { payload: UIModule[\"activeElementId\"] }\n    >(({ type }) => {\n      if (type === \"ui/activateElementMutation\") {\n        this.expandToShowActiveElementWatch();\n      }\n    });\n  }\n\n  expandToShowActiveElementWatch() {\n    if (this.activeElementId) {\n      const expandedNodesWithActiveElementInside = expandNodesToShowActiveElement(\n        documentStore.document.tree,\n        this.activeElementId\n      );\n\n      if (expandedNodesWithActiveElementInside) {\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          ...expandedNodesWithActiveElementInside\n        });\n      }\n\n      // Wait until ChildStructureNodes will re-render\n      this.$nextTick(() => {\n        // Selecting an element will open the Controls panel and close Structure if they're on the same side\n        // un-mounting it. But since this is on \"nextTick\" it'll still run. So we check if it still exists\n        if (!this.$el || !this.panelHeader) {\n          return;\n        }\n\n        const activeElementDomEl = this.$el.querySelector(\n          `[data-element-id=\"${this.activeElementId}\"] .structure-node-title-wrapper`\n        );\n\n        if (activeElementDomEl) {\n          scrollToHtmlElementInsidePanel(\n            this.$el,\n            this.panelHeader.$el,\n            activeElementDomEl\n          );\n        }\n      });\n    }\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get hasPermission() {\n    return uiStore.hasFullAccess;\n  }\n\n  onContextMenu(e: MouseEvent) {\n    if (!this.hasPermission) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const elementId =\n      getNodeIdAtPointInStructurePanel(e.clientX, e.clientY) || undefined;\n\n    if (elementId) {\n      uiStore.activateElement(elementId);\n    }\n\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    if (e.button !== 0) return; // Left-clicks only\n    if (!this.hasPermission) return;\n\n    const draggedNodeId = getNodeIdAtPointInStructurePanel(\n      e.clientX,\n      e.clientY\n    );\n\n    if (draggedNodeId) {\n      uiStore.activateElement(draggedNodeId);\n\n      this.draggedNodeId = draggedNodeId;\n\n      this.easyEvent.on(\"mousemove\", this.dragging);\n      this.easyEvent.on(\"mouseup\", this.dragEnd);\n      this.forceGrabbingCursor = true;\n      this.didMoveElement = false;\n\n      breakdanceUndo.startTransaction();\n    }\n  }\n\n  // throttledDragging = throttle(this.dragging, 80);\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.draggedNodeId) return;\n\n    let dragPayload: null | DragPayload = null;\n\n    if (this.firstDragMovement) {\n      const nodeIndex = getNodeIndex(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      const nodeParent = getNodeParent(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (nodeIndex === false || nodeParent === false) return;\n\n      uiStore.setCanvasElementDraggedId(this.draggedNodeId);\n\n      dragPayload = {\n        draggedElementId: this.draggedNodeId,\n        droppedOnElementId: nodeParent.id,\n        index: nodeIndex\n      };\n\n      this.firstDragMovement = false;\n    } else {\n      this.mouseDragStatus = getMouseDragStatus(\n        e.clientX,\n        e.clientY,\n        documentStore.document.tree\n      );\n\n      this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);\n\n      const newNodePosition = getNewNodePosition(\n        this.mouseDragStatus,\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (newNodePosition) {\n        dragPayload = {\n          draggedElementId: this.draggedNodeId,\n          droppedOnElementId: newNodePosition.parentId,\n          index: newNodePosition.index\n        };\n      }\n    }\n\n    if (dragPayload) {\n      /*\n      only move it inside if either:\n       - the droppedOn element is already open\n       - there are no children\n\n      this prevents the ugly UX of an element disappearing when the droppedOn is collapsed\n\n      (when there are no children, we do the move immediately and expand the node)\n      */\n\n      const droppedOnElement = findNode(\n        documentStore.document.tree,\n        dragPayload.droppedOnElementId\n      );\n\n      const isDroppedOnExpandedOrEmpty =\n        structurePanelNodeIsExpanded(dragPayload.droppedOnElementId) ||\n        droppedOnElement?.children.length === 0;\n\n      if (isDroppedOnExpandedOrEmpty) {\n        documentStore.moveElement({\n          ...dragPayload,\n          wrapWithTransaction: false\n        });\n\n        this.didMoveElement = true;\n\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          [dragPayload.droppedOnElementId.toString()]: true\n        });\n\n        this.lastSubmittedDrag = dragPayload;\n      }\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      documentStore.moveElement({\n        ...this.lastSubmittedDrag,\n        wrapWithTransaction: false\n      });\n      this.didMoveElement = true;\n    }\n\n    if (this.draggedNodeId !== false && this.didMoveElement) {\n      const draggedElement = findNode(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      breakdanceUndo.endTransaction(\n        `Move ${getBuilderElementNameBySlug(draggedElement?.data.type)}`\n      );\n    } else {\n      breakdanceUndo.cancelTransactionIfItIsStillInProgress();\n    }\n\n    uiStore.endCanvasElementDrag();\n\n    this.lastSubmittedDrag = false;\n\n    this.mouseDragStatus = {\n      ...initialMouseDragStatus()\n    };\n    this.firstDragMovement = true;\n    this.draggedNodeId = false;\n    this.forceGrabbingCursor = false;\n    this.didMoveElement = false;\n  }\n\n  ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e: MouseEvent) {\n    if (!this.mouseDragStatus.overNodeId) return;\n\n    this.delayedExpandNode(this.mouseDragStatus.overNodeId, e);\n  }\n\n  delayedExpandNodeTimeout: NodeJS.Timeout | null = null;\n  delayedExpandNode(nodeId: number, e: MouseEvent) {\n    if (this.delayedExpandNodeTimeout) {\n      clearTimeout(this.delayedExpandNodeTimeout);\n    }\n\n    this.delayedExpandNodeTimeout = setTimeout(() => {\n      this.delayedExpandNodeTimeout = null;\n\n      // check that the user didn't hover over some other element during the delay\n      if (nodeId === this.mouseDragStatus.overNodeId) {\n        const newStructurePanelNodesExpandedState = defensiveCopy(\n          uiStore.structurePanelNodesExpandedState\n        );\n\n        newStructurePanelNodesExpandedState[nodeId] = true;\n\n        uiStore.setStructurePanelNodesExpandedState(\n          newStructurePanelNodesExpandedState\n        );\n\n        /*\n        now that the node is expanded re-run the dragging method,\n        because maybe now the node could be nested inside the open node\n        */\n        this.dragging(e);\n      }\n    }, 500);\n  }\n\n  get ROOT_ELEMENT_ID() {\n    return ROOT_ELEMENT_ID;\n  }\n\n  collapseAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, false)\n    );\n  }\n\n  expandAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, true)\n    );\n  }\n\n  collapseAllNodesExcept(idOfNodeToKeepOpen: number) {\n    const allNodesCollapsedState = expandOrCollapseAllNodes(\n      documentStore.document.tree,\n      false\n    );\n\n    const nodesToExpandState = expandNodesToShowActiveElement(\n      documentStore.document.tree,\n      idOfNodeToKeepOpen\n    );\n\n    uiStore.setStructurePanelNodesExpandedState({\n      ...allNodesCollapsedState,\n      ...nodesToExpandState\n    });\n  }\n\n  toggleStage: 0 | 1 | 2 = 2;\n\n  toggleNodes() {\n    if (this.toggleStage === 0) {\n      this.toggleStage = 1;\n      this.collapseAllNodes();\n    } else if (this.toggleStage === 1) {\n      this.expandAllNodes();\n      this.toggleStage = 2;\n    } else if (uiStore.activeElementId) {\n      const activeElementParent = getNodeParent(\n        documentStore.document.tree,\n        uiStore.activeElementId\n      );\n\n      if (activeElementParent && activeElementParent?.id === ROOT_ELEMENT_ID) {\n        // The active node is at the root? Just collapse all, and skip stage 0\n        this.collapseAllNodes();\n        this.toggleStage = 1;\n\n        return;\n      }\n\n      this.collapseAllNodesExcept(uiStore.activeElementId);\n      this.toggleStage = 0;\n    } else {\n      // No active node? Just collapse all, and skip stage 0\n      this.collapseAllNodes();\n      this.toggleStage = 1;\n    }\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromActivateElementMutation &&\n      this.unsubscribeFromActivateElementMutation();\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructurePanel.vue?vue&type=template&id=319f7e34&\"\nimport script from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",staticClass:\"breakdance-history-and-revisions-panel__header\",on:{\"close\":_vm.close}},[_vm._v(\" History \")]),(!_vm.disableRevisions)?_c('TabsRow',[_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"history\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" History \")]),_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"revisions\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" Revisions \")])],1):_vm._e(),(_vm.tab === 'history')?_c('History',{on:{\"scrollToActiveEl\":_vm.scrollToActiveElement}}):(_vm.tab === 'revisions')?_c('Revisions'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snapshots-list\"},_vm._l((_vm.snapshots),function(snapshot,index){return _c('SnapshotItem',{key:_vm.snapshots.length - 1 - index,attrs:{\"data-snapshot-index\":_vm.snapshots.length - 1 - index,\"snapshot\":snapshot,\"selected\":_vm.currentIndex === _vm.snapshots.length - 1 - index},on:{\"click\":function($event){return _vm.onSnapshotSelected(_vm.snapshots.length - 1 - index)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snapshots-item\",class:{ 'snapshots-item--selected': _vm.selected },attrs:{\"data-test-id\":\"snapshots-item\"},on:{\"click\":function($event){return _vm.$emit('click', _vm.snapshot)}}},[_c('span',{staticClass:\"snapshots-item__title\"},[_vm._v(_vm._s(_vm.snapshot.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { SnapshotInfo } from \"@/types/snapshot\";\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class SnapshotItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  snapshot!: SnapshotInfo;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SnapshotItem.vue?vue&type=template&id=dae3fd74&\"\nimport script from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SnapshotItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport SnapshotItem from \"./SnapshotItem.vue\";\nimport { snapshotStore } from \"@/store/store-accessor\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\n\n@Component({\n  components: {\n    PanelHeader,\n    SnapshotItem\n  }\n})\nexport default class History extends Vue {\n  onSnapshotSelected(snapshotIndex: number) {\n    snapshotStore.setCurrentSnapshotIndex(snapshotIndex);\n    breakdanceUndo.setStoreFromCurrentSnapshot();\n  }\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  get snapshots() {\n    return [...snapshotStore.snapshots].reverse();\n  }\n\n  get currentIndex() {\n    return snapshotStore.index;\n  }\n\n  @Watch(\"currentIndex\", { immediate: true })\n  handleCurrentIndexChange() {\n    this.scrollToActiveSnapshotElement();\n  }\n\n  scrollToActiveSnapshotElement() {\n    Vue.nextTick(() => {\n      const activeSnapshotItemDomEl = this.$el.querySelector(\n        `[data-snapshot-index=\"${this.currentIndex}\"]`\n      );\n\n      if (activeSnapshotItemDomEl) {\n        this.$emit(\"scrollToActiveEl\", activeSnapshotItemDomEl);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=27a011bd&\"\nimport script from \"./History.vue?vue&type=script&lang=ts&\"\nexport * from \"./History.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"revisions-panel\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.loading,\"revisions\":_vm.revisionUiItems,\"revisions-not-supported-message\":_vm.revisionsNotSupportedMessage},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\n\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  DocumentRevision,\n  DocumentRevisionsData,\n  DocumentRevisionsDataFromServerV,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\n\nimport { exportTree, treesEqual } from \"@/lib/tree/tree\";\nimport { ExportedTree } from \"@/types/tree\";\n\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\n\n@Component({\n  components: { RevisionsList, RevisionItem, PanelHeader }\n})\nexport default class Revisions extends Vue {\n  loading = false;\n  selectedRevisionIndex = 0;\n  unsubscribeFromStore = () => {};\n\n  revisionsNotSupportedMessage: string | null = null;\n\n  get revisionUiItems() {\n    return this.revisions.map(\n      (revision, index): RevisionUiItem => ({\n        revisionData: revision,\n        isSelected: this.selectedRevisionIndex === index\n      })\n    );\n  }\n\n  async mounted() {\n    this.loading = true;\n\n    const remoteRevisions = await this.fetchRemoteRevisions();\n\n    this.loading = false;\n\n    if (!remoteRevisions) {\n      return;\n    }\n\n    uiStore.setRevisionsData({\n      revisions: remoteRevisions,\n      currentUnsavedRevision: this.getCurrentUnsavedRevision(remoteRevisions)\n    });\n\n    this.setActiveRevision();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"document\" &&\n        mutationPayload.type !== \"document/loadRevision\"\n      ) {\n        uiStore.setRevisionsData({\n          revisions: uiStore.revisionsData.revisions,\n          currentUnsavedRevision: this.getCurrentUnsavedRevision(\n            uiStore.revisionsData.revisions\n          )\n        });\n\n        this.setActiveRevision();\n      }\n    });\n  }\n\n  destroyed() {\n    this.unsubscribeFromStore();\n  }\n\n  get revisions(): DocumentRevision[] {\n    return uiStore.revisionsData.currentUnsavedRevision\n      ? [\n          uiStore.revisionsData.currentUnsavedRevision,\n          ...uiStore.revisionsData.revisions\n        ]\n      : uiStore.revisionsData.revisions;\n  }\n\n  get currentTree(): ExportedTree {\n    return exportTree(documentStore.document.tree);\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      const remoteRevisions = await this.fetchRemoteRevisions();\n\n      if (remoteRevisions) {\n        uiStore.setRevisionsData({\n          revisions: remoteRevisions,\n          // we just saved so there can't be any current revision\n          currentUnsavedRevision: null\n        });\n      }\n\n      this.setActiveRevision();\n    }\n  }\n\n  setActiveRevision() {\n    const activeRevisionIndex = this.getActiveRevisionIndex(\n      uiStore.revisionsData.revisions\n    );\n\n    if (activeRevisionIndex !== -1) {\n      this.selectedRevisionIndex = uiStore.revisionsData.currentUnsavedRevision\n        ? // +1 for the current revision at the start of the array\n          activeRevisionIndex + 1\n        : activeRevisionIndex;\n\n      this.scrollToActiveRevision(\"smooth\");\n    } else {\n      this.selectedRevisionIndex = 0;\n      this.scrollToActiveRevision(\"auto\");\n    }\n  }\n\n  getActiveRevisionIndex(revisions: DocumentRevision[]) {\n    return revisions.findIndex(revision =>\n      treesEqual(revision.tree, this.currentTree)\n    );\n  }\n\n  getCurrentUnsavedRevision(\n    revisions: DocumentRevision[]\n  ): DocumentRevisionsData[\"currentUnsavedRevision\"] {\n    const activeRevision = this.getActiveRevisionIndex(revisions);\n\n    if (activeRevision === -1) {\n      return {\n        id: -1,\n        author: false,\n        date: \"Current\",\n        tree: this.currentTree\n      };\n    }\n\n    // Prevent showing current revision after just saving\n    const isCurrentRevisionTheSameAsTheMostRecentRevision =\n      activeRevision === 0 &&\n      uiStore.revisionsData.currentUnsavedRevision &&\n      treesEqual(\n        revisions[activeRevision].tree,\n        uiStore.revisionsData.currentUnsavedRevision?.tree\n      );\n\n    if (isCurrentRevisionTheSameAsTheMostRecentRevision) {\n      return null;\n    }\n\n    return uiStore.revisionsData.currentUnsavedRevision;\n  }\n\n  async fetchRemoteRevisions() {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_retrieve_revisions\",\n        decoder: DocumentRevisionsDataFromServerV,\n        dataToPost: {\n          id: documentStore.document.documentMeta.id\n        }\n      }),\n      fold(\n        errors => {\n          logErrorsToUiStore(errors);\n\n          return null;\n        },\n        data => {\n          if (\"unsupported\" in data) {\n            this.revisionsNotSupportedMessage = data.unsupported;\n\n            return null;\n          }\n\n          return data.revisions;\n        }\n      )\n    );\n  }\n\n  onRevisionSelected(revisionUiItem: RevisionUiItem, index: number) {\n    const revision = this.revisions.find(\n      revision => revision.id === revisionUiItem.revisionData.id\n    );\n\n    if (revision) {\n      this.selectedRevisionIndex = index;\n      uiStore.activateElement(null);\n      uiStore.setInterfaceState(\"loading\");\n      documentStore.loadRevision(revision);\n      uiStore.setInterfaceState(\"normal\");\n    }\n  }\n\n  scrollToActiveRevision(behavior: ScrollIntoViewOptions[\"behavior\"]) {\n    forceNextTick(() =>\n      document\n        .querySelector(\".revisions-panel .revisions-item--selected\")\n        ?.scrollIntoView({ behavior, block: \"center\" })\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Revisions.vue?vue&type=template&id=0eb4a841&\"\nimport script from \"./Revisions.vue?vue&type=script&lang=ts&\"\nexport * from \"./Revisions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Revisions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport History from \"@/components/HistoryAndRevisions/History/History.vue\";\nimport Revisions from \"@/components/HistoryAndRevisions/Revisions/Revisions.vue\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel\n} from \"@/lib/panels/panels\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\n\ntype HistoryOrRevisionTab = \"history\" | \"revisions\";\n\n@Component({\n  components: {\n    Revisions,\n    History,\n    PanelHeader,\n    TabsRow,\n    Tab\n  }\n})\nexport default class HistoryAndRevisionsPanel extends Vue {\n  tab: HistoryOrRevisionTab = \"history\";\n\n  @Prop({ default: false })\n  disableRevisions!: boolean;\n\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  scrollToActiveElement(activeEl: Element) {\n    scrollToHtmlElementInsidePanel(this.$el, this.panelHeader.$el, activeEl);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HistoryAndRevisionsPanel.vue?vue&type=template&id=0f089068&\"\nimport script from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\n\n/**\n * Intended to be used within AppLayout's \"body\" slot.\n */\n@Component\nexport default class AppLayoutBodyPanelArea extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  get classList() {\n    if (this.panelState === \"closed\") return {};\n\n    return {\n      width288: true,\n      \"vscroll-wrap\": true,\n      borderOnLeft: this.position === \"right\",\n      borderOnRight: this.position === \"left\",\n      \"breakdance-app-left-area\": this.position === \"left\",\n      \"breakdance-app-right-area\": this.position === \"right\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayoutBodyPanelArea.vue?vue&type=template&id=5c48119e&\"\nimport script from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\nimport ElementPropertiesPanel from \"@/components/ElementPropertiesPanel/ElementPropertiesPanel.vue\";\nimport Add from \"@/components/Add/AddPanel.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport StructurePanel from \"@/components/Structure/StructurePanel.vue\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\n\n@Component({\n  components: {\n    AppLayoutBodyPanelArea,\n    HistoryAndRevisionsPanel,\n    StructurePanel,\n    ElementPropertiesPanel,\n    Add,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class SidebarPanels extends Vue {\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  @Watch(\"panelState\")\n  updatePanelContext() {\n    this.reactivePanelContext.state = this.panelState;\n  }\n\n  /**\n   * @Provide isn't reactive without using state\n   */\n  reactivePanelContext = {\n    state: this.panelState,\n    position: this.position\n  };\n\n  @Provide(\"panelContext\")\n  panelContext = this.reactivePanelContext;\n}\n\nexport type PanelContext = typeof SidebarPanels.prototype.panelContext;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SidebarPanels.vue?vue&type=template&id=49957d58&\"\nimport script from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-app-wrapper\"},[_c('div',{staticClass:\"breakdance-top-bar-wrapper\"},[_vm._t(\"topbar\")],2),_c('div',{staticClass:\"breakdance-app-body-wrapper\"},[_vm._t(\"body\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class AppLayout extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayout.vue?vue&type=template&id=8b4553ec&\"\nimport script from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.closingConfirmations),function(value,name){return _c('ConfirmDialog',{key:name,attrs:{\"type\":value.type,\"save-is-enabled\":!value.chosenOption,\"save-is-in-progress\":value.isSaving,\"discard-is-enabled\":!value.chosenOption,\"discard-is-in-progress\":value.isDiscarding,\"has-cancel\":value.hasCancel,\"has-discard\":value.hasDiscard,\"action-text\":value.actionText,\"show\":value.show},on:{\"discard\":function($event){return _vm.markClosingConfirmationAs(name, 'discard')},\"save\":function($event){return _vm.markClosingConfirmationAs(name, 'save')},\"cancel\":function($event){return _vm.hideClosingConfirmation(name)},\"click:outside\":function($event){return _vm.hideClosingConfirmation(name)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(value.title)+\" \")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(_vm._s(value.text))]},proxy:true}],null,true)})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport {\n  ClosingConfirmationChosenOption,\n  ClosingConfirmationSubject\n} from \"@/types/ui\";\n\n@Component({\n  components: {\n    ConfirmDialog\n  }\n})\nexport default class ClosingConfirmations extends Vue {\n  get closingConfirmations() {\n    return Object.fromEntries(\n      Object.entries(uiStore.closingConfirmations).filter(\n        ([, confirmation]) => {\n          return confirmation && confirmation.show;\n        }\n      )\n    );\n  }\n\n  markClosingConfirmationAs(\n    subject: ClosingConfirmationSubject,\n    chosenOption: ClosingConfirmationChosenOption\n  ) {\n    uiStore.chooseOptionForClosingConfirmation({ subject, chosenOption });\n  }\n\n  hideClosingConfirmation(subject: ClosingConfirmationSubject) {\n    uiStore.hideClosingConfirmation(subject);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClosingConfirmations.vue?vue&type=template&id=f930a8ec&\"\nimport script from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" This post can't be edited directly. \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.templateName)?[_c('p',[_vm._v(\" This post is rendered with \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"the\")+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.decodedTemplateName))]),_vm._v(\"\\\" template. \")])]:[_c('p',[_vm._v(\" This post is rendered with a \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"\")+\" template. \")])],(_vm.templateIsFallback)?_c('p',[_vm._v(\" Please create your own template. \")]):_c('p',[_vm._v(\" The template does not contain a \"),_c('em',[_vm._v(\"Template Content Area\")]),_vm._v(\" element. Therefore, the posts it applies to are not editable in Breakdance. \")])]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.templateIsFallback && _vm.templatesPageUrl)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templatesPageUrl}},[_vm._v(\"Templates page\")]):(!_vm.templateIsFallback)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templateUrl}},[_vm._v(\"Edit Template\")]):_vm._e(),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.backToAdmin}},[_vm._v(\" Go back \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class TemplateDialog extends Vue {\n  @Prop()\n  templateName!: string;\n\n  @Prop()\n  templateId!: number;\n\n  @Prop()\n  templateIsFallback!: boolean;\n\n  @Prop()\n  templatesPageUrl!: string;\n\n  get decodedTemplateName() {\n    const txt = document.createElement(\"textarea\");\n    txt.innerHTML = this.templateName;\n    return txt.value;\n  }\n\n  get templateUrl() {\n    return getDocumentUrlFromId(this.templateId);\n  }\n\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl ?? \"\";\n    }\n\n    return \"\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TemplateDialog.vue?vue&type=template&id=7619b44b&\"\nimport script from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Invalid post \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.invalidPostData.errorType === 'post_does_not_exist')?_c('div',[_vm._v(\" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_is_in_trash')?_c('div',[_vm._v(\" You can't edit this item because it is in the Trash. Please restore it and try again. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_banned')?_c('div',[(_vm.invalidPostData.postType)?[_vm._v(\" Posts with post type \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" can't be edited with Breakdance directly. Please use a \"),_c('b',[_vm._v(\"Breakdance Template\")]),_vm._v(\" instead. \")]:[_vm._v(\" The requested post can't be edited with Breakdance. \")]],2):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_restricted')?_c('div',[_vm._v(\" You don't have enough permissions to edit \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" post type. \")]):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.invalidPostData.backToAdminUrl}},[_vm._v(\" Back to WordPress admin \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class InvalidPostDialog extends Vue {\n  get invalidPostData() {\n    return configStore.invalidPostData;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InvalidPostDialog.vue?vue&type=template&id=1000f0d6&\"\nimport script from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IframeCanvas from \"@/components/Canvas/IframeCanvas.vue\";\nimport BuilderTopBar from \"@/components/Builder/TopBar/BuilderTopBar.vue\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { registerGlobalShortcuts } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport PreferencesModal from \"@/components/Settings/Preferences/PreferencesModal.vue\";\nimport KeyboardShortcutsHelpModal from \"@/components/Help/KeyboardShortcutsHelpModal.vue\";\nimport ElementStudio from \"@/components/ElementStudio/ElementStudio.vue\";\nimport SidebarPanels from \"./SidebarPanels.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport TemplateDialog from \"@/components/UI/TemplateDialog.vue\";\nimport InvalidPostDialog from \"@/components/UI/InvalidPostDialog.vue\";\nimport { registerClipboardShortcuts } from \"@/lib/copy-paste/copy-paste\";\nimport { loadBuilderElementsFromWordPress } from \"@/lib/wordpress/load\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\n\n@Component({\n  components: {\n    DesignLibraryModal,\n    InvalidPostDialog,\n    TemplateDialog,\n    ClosingConfirmations,\n    IframeCanvas,\n    BuilderTopBar,\n    PreferencesModal,\n    ElementStudio,\n    KeyboardShortcutsHelpModal,\n    SidebarPanels,\n    ConfirmDialog,\n    AppLayout\n  }\n})\nexport default class BuilderLayout extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    registerGlobalShortcuts().register();\n  }\n\n  beforeDestroy() {\n    registerGlobalShortcuts().unbind();\n    registerClipboardShortcuts().unbind();\n  }\n\n  get classList() {\n    return [`has-permission:${this.permission}`];\n  }\n\n  get preferencesModalOpen() {\n    return uiStore.panelState.preferencesModalOpen;\n  }\n\n  get elementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n\n  updatePreferencesModal(e: boolean) {\n    uiStore.setPreferencesModalOpen(e);\n  }\n\n  get keyboardShortcutsHelpModalOpen() {\n    return uiStore.panelState.keyboardShortcutsHelpModalOpen;\n  }\n\n  updateKeyboardShortcutsHelpModal(e: boolean) {\n    uiStore.setKeyboardShortcutHelpModalOpen(e);\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get permission() {\n    return configStore.permission?.slug;\n  }\n\n  showTemplateDialog = false;\n  onIframeLoaded() {\n    // @ts-ignore\n    requestIdleCallback(() => {\n      loadBuilderElementsFromWordPress();\n    });\n\n    if (this.isRenderedWithTemplate && !this.containsTemplateContentArea) {\n      this.showTemplateDialog = true;\n    }\n\n    registerClipboardShortcuts().register();\n  }\n\n  get showInvalidPostDialog() {\n    return !!configStore.invalidPostData;\n  }\n\n  get isRenderedWithTemplate() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \"[data-rendered-with-template]\"\n      ) !== null\n    );\n  }\n\n  getTemplateAttribute(attributeName: string) {\n    if (!this.isRenderedWithTemplate) {\n      return null;\n    }\n\n    const templateElement = window.Breakdance?.canvas?.document?.querySelector(\n      \"[data-rendered-with-template]\"\n    );\n\n    return templateElement?.getAttribute(attributeName);\n  }\n\n  get templateName() {\n    return this.getTemplateAttribute(\"data-template-name\") ?? \"\";\n  }\n\n  get templateId() {\n    const templateIdString = this.getTemplateAttribute(\"data-template-id\");\n\n    return templateIdString ? parseInt(templateIdString) : null;\n  }\n\n  get isTemplateFallback() {\n    return this.getTemplateAttribute(\"data-template-is-fallback\") === \"true\";\n  }\n\n  get templatesPageUrl() {\n    return this.getTemplateAttribute(\"data-template-page-url\");\n  }\n\n  get containsTemplateContentArea() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \".bde-themeless-template-content-area\"\n      ) !== null\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderLayout.vue?vue&type=template&id=55f8cc0c&\"\nimport script from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Unrecoverable Errors\")]),_vm._l((_vm.errors),function(error,i){return _c('div',{key:i,staticClass:\"unrecoverable-errors\"},[_vm._v(\" \"+_vm._s(error)+\" \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\n@Component\nexport default class Error extends Vue {\n  get errors() {\n    return uiStore.unrecoverableErrorMessages;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnrecoverableErrors.vue?vue&type=template&id=da74efa8&\"\nimport script from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderLayout from \"@/components/Builder/BuilderLayout.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport UnrecoverableErrors from \"@/components/UnrecoverableErrors.vue\";\nimport {\n  initializeAppWhenInitialModeIsBuilder,\n  loadDocumentFromWordPress\n} from \"@/lib/wordpress/load\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { NO_DOCUMENT_ID } from \"@/store/util\";\nimport { DocumentMeta } from \"@/types/document\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { enableBrowseMode } from \"@/lib/browse-mode\";\n\n@Component({\n  components: {\n    BuilderLayout,\n    Loading,\n    UnrecoverableErrors\n  }\n})\nexport default class Builder extends Vue {\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"builder\") {\n      /* can we have some safety to ensure this shit only gets run once */\n      const maybeLoadedData = await loadDocumentFromWordPress(\n        window.Breakdance.initialDocumentToLoadId\n      );\n      initializeAppWhenInitialModeIsBuilder(maybeLoadedData);\n    }\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  get errorsPresent() {\n    return uiStore.unrecoverableErrorMessages.length;\n  }\n\n  get currentDocumentMetaId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  @Watch(\"currentDocumentMetaId\", { immediate: true })\n  handleCurrentDocumentChange(documentId: DocumentMeta[\"id\"]) {\n    const titleParts = [\"Breakdance\"];\n\n    if (documentId !== NO_DOCUMENT_ID) {\n      titleParts.push(documentStore.document.documentMeta.titleLabel);\n    }\n\n    window.document.title = titleParts.join(\" | \");\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestClosingConfirmation();\n    } else {\n      this.removeClosingConfirmation();\n    }\n  }\n\n  requestClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"builder\",\n      confirmationDefinition: {\n        title: \"You must save your changes first\",\n        actionText: \"Save and continue\",\n        type: \"warning\",\n        hasCancel: true,\n        hasDiscard: false\n      }\n    });\n  }\n\n  removeClosingConfirmation() {\n    uiStore.noClosingConfirmationIsNeededFor(\"builder\");\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.builder?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      this.removeClosingConfirmation();\n      enableBrowseMode();\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"builder\",\n        isSaving: true\n      });\n      pipe(\n        await saveToWordPressWithErrorsLoggedToUiStore(),\n        fold(\n          () => {\n            uiStore.setClosingConfirmationIsSaving({\n              subject: \"builder\",\n              isSaving: false\n            });\n          },\n          () => {\n            this.removeClosingConfirmation();\n            enableBrowseMode();\n          }\n        )\n      );\n    }\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Builder.vue?vue&type=template&id=4368cde8&\"\nimport script from \"./Builder.vue?vue&type=script&lang=ts&\"\nexport * from \"./Builder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.interfaceState === 'normal')?_c('AppLayout',{scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('TopBar',[_c('UpgradeToPro'),_c('TopBarSection',[_c('div',{staticClass:\"browse-mode-address-bar\"},[_c('h2',[_vm._v(\"Viewing Page\")]),_c('a',{staticClass:\"ellipsis-text breakdance-browse-mode__url-to-display\",attrs:{\"title\":_vm.iframeUrlToDisplay,\"href\":_vm.iframeUrlToDisplay,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.iframeUrlToDisplay)+\" \")])])]),_c('v-spacer'),_c('TopBarSection',{attrs:{\"border-left\":\"true\",\"border-right\":\"true\"}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"active\":_vm.isAnyBrowseModeSupportedPanelOpen,\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}],null,false,2694485179)},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleGlobalSettingsPanel}},[_c('v-list-item-title',[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleSelectorsPanel}},[_c('v-list-item-title',[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1)],1)],1)],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('BrowseModeSave')],1),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('IconButton',{attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"18\"},on:{\"click\":_vm.exitBrowseMode}})],1)],1)]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.leftSidebarPanelState,\"position\":\"left\"}}),_c('IframeWrapper',{attrs:{\"iframe-state\":_vm.iframeState,\"iframe-url\":_vm.iframeUrl,\"iframe-preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-exited\":false,\"iframe-id\":_vm.iframeID,\"min-width\":_vm.iframeMinWidth},on:{\"iframeLoaded\":_vm.handleIframeLoaded,\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.rightSidebarPanelState,\"position\":\"right\"}})]},proxy:true}],null,false,1273621828)}):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e(),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):_vm._e(),(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel',{attrs:{\"disable-revisions\":true}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition } from \"@/types/ui\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport { BrowseModeSupportedUIPanels } from \"@/lib/browse-mode\";\n\n@Component({\n  components: {\n    HistoryAndRevisionsPanel,\n    AppLayoutBodyPanelArea,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class BrowseModeSidebarPanels extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: BrowseModeSupportedUIPanels | \"closed\";\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSidebarPanels.vue?vue&type=template&id=5a65fb42&\"\nimport script from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { saveGlobalSettingsToWordPress } from \"@/lib/global-settings/global-settings\";\nimport { saveSelectorsToWordPress } from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class BrowseModeSave extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    this.saveInProgress = true;\n\n    await saveGlobalSettingsToWordPress();\n    await saveSelectorsToWordPress();\n\n    this.saveInProgress = false;\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSave.vue?vue&type=template&id=291b40a2&\"\nimport script from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { browseModeStore, globalStore, uiStore } from \"@/store/store\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport {\n  disableBrowseMode,\n  handleBrowseModeIframeLoaded,\n  updateBrowseModePageTitle\n} from \"@/lib/browse-mode\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport BrowseModeSidebarPanels from \"@/components/BrowseMode/BrowseModeSidebarPanels.vue\";\nimport { isUiPanelOpen, openUiPanel, toggleUiPanel } from \"@/lib/panels/panels\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport BrowseModeSave from \"@/components/BrowseMode/BrowseModeSave.vue\";\nimport UndoRedo from \"@/components/Builder/TopBar/UndoRedo.vue\";\nimport {\n  initializeAppWhenInitialModeIsBrowse,\n  loadConfigFromWordPress\n} from \"@/lib/wordpress/load\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport UpgradeToPro from \"@/components/Sales/UpgradeToPro.vue\";\n\n@Component({\n  components: {\n    UpgradeToPro,\n    UndoRedo,\n    BrowseModeSave,\n    BrowseModeSidebarPanels,\n    BreakpointsSelection,\n    Icon,\n    StandardButton,\n    IframeWrapper,\n    TopBarSection,\n    AppLayoutBodyPanelArea,\n    TopBar,\n    AppLayout,\n    IconButton,\n    ClosingConfirmations,\n    Dropdown,\n    Loading\n  }\n})\nexport default class BrowseMode extends Vue {\n  readonly iframeID = \"breakdance-browser-iframe\";\n\n  iframeDocument: Document | null = null;\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"browse\") {\n      const maybeLoadedData = await loadConfigFromWordPress();\n      initializeAppWhenInitialModeIsBrowse(maybeLoadedData, {\n        returnUrl: window.Breakdance.returnUrl,\n        browseModeOpenUrl: window.Breakdance.browseModeOpenUrl\n      });\n    }\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  mounted() {\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () =>\n        globalStore.settingsHasUnsavedChangesPresent ||\n        globalStore.selectorsHasUnsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n\n  handleIframeLoaded(iframe: HTMLIFrameElement | null) {\n    if (iframe) {\n      this.iframeDocument = handleBrowseModeIframeLoaded(iframe);\n    } else {\n      this.iframeDocument = null;\n      throw \"Unable to proceed – iframe element is missing\";\n    }\n  }\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  get iframeUrl(): string | null {\n    return browseModeStore.iframeUrl;\n  }\n\n  get iframeState() {\n    return browseModeStore.iframeState;\n  }\n\n  get iframeDocumentTitleToDisplay() {\n    return browseModeStore.iframeDocumentTitleToDisplay;\n  }\n\n  get iframeUrlToDisplay() {\n    return browseModeStore.iframeUrlToDisplay;\n  }\n\n  get iframePreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  get isAnyBrowseModeSupportedPanelOpen() {\n    return (\n      isUiPanelOpen(\"globalSettings\") ||\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\")\n    );\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  exitBrowseMode() {\n    disableBrowseMode();\n  }\n\n  toggleGlobalSettingsPanel() {\n    toggleUiPanel(\"globalSettings\");\n  }\n\n  toggleSelectorsPanel() {\n    toggleUiPanel(\"selectors\");\n  }\n\n  toggleHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n\n  @Watch(\"iframeDocumentTitleToDisplay\", { immediate: true })\n  handleCurrentDocumentChange() {\n    updateBrowseModePageTitle();\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSettingsChanged(this.iframeDocument);\n    }\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSelectorsChanged(this.iframeDocument);\n    }\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseMode.vue?vue&type=template&id=6f2318a2&\"\nimport script from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BrowseMode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VList,VListItem,VListItemTitle,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport Builder from \"@/Builder.vue\";\nimport BrowseMode from \"@/BrowseMode.vue\";\n\n@Component({\n  components: {\n    BrowseMode,\n    Builder,\n    Notifications\n  }\n})\nexport default class App extends Vue {\n  beforeMount() {\n    uiStore.setMode(window.Breakdance.initialMode);\n  }\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  get useDarkMode() {\n    return (\n      // uiStore reference is probably necessary to make Vue re-run the watcher\n      uiStore.settings.theme === \"dark\"\n    );\n  }\n\n  get classList() {\n    return { \"breakdance-dark-mode\": this.useDarkMode };\n  }\n\n  @Watch(\"useDarkMode\", {\n    immediate: true\n  })\n  darkModeWatcher(useDarkMode: boolean) {\n    // @ts-ignore\n    this.$vuetify.theme.dark = useDarkMode;\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=096e0803&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","import \"requestidlecallback-polyfill\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store/store\";\nimport vuetify from \"./plugins/vuetify\";\n\nimport AsyncComputedPlugin from \"vue-async-computed\";\nimport permission from \"@/lib/permissions/directive\";\n\nVue.config.productionTip = false;\n// Otherwise we get \"unknown element\" errors in the builder, since Vue thinks they're Vue components\nVue.config.ignoredElements = [\"lite-vimeo\", \"lite-youtube\"];\n\nVue.use(AsyncComputedPlugin);\nVue.directive(\"permission\", permission);\n\nnew Vue({\n  store,\n  // @ts-ignore\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true},on:{\"close\":function($event){return _vm.$emit('close')},\"click:outside\":function($event){return _vm.$emit('close')},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$emit('close')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save as Global Block \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Global Block\"},model:{value:(_vm.globalBlockName),callback:function ($$v) {_vm.globalBlockName=$$v},expression:\"globalBlockName\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"disabled\":!_vm.globalBlockName},on:{\"click\":_vm.saveAsGlobalBlock}},[_vm._v(\" Save \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { convertToGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({ components: { Dialog, TextInput } })\nexport default class GlobalBlockDialog extends Vue {\n  @Prop({ required: true })\n  elementId!: number;\n\n  globalBlockName: string | null = \"\";\n\n  async saveAsGlobalBlock(e: Event) {\n    e.preventDefault();\n\n    if (!this.globalBlockName) return;\n\n    if (this.elementId) {\n      await convertToGlobalBlock(this.elementId, this.globalBlockName);\n    }\n\n    this.globalBlockName = \"\";\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalBlockDialog.vue?vue&type=template&id=4dd535c1&\"\nimport script from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Properties\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"text\":\"\",\"disabled\":!_vm.canImport,\"outlined\":\"\"},on:{\"click\":_vm.importDefaultProperties}},[_vm._v(\"import\")]),(_vm.value)?_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\",\"small\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.clearDefaultProperties}},[_vm._v(\"clear\")]):_vm._e(),_c('div',{staticClass:\"element-studio-default-properties-instructions\"},[_vm._v(\" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a \"),_c('b',[_vm._v(_vm._s(_vm.elementSlug))]),_vm._v(\". \")]),_c('h5',[_vm._v(\"Current Default Properties\")]),_c('pre',{staticClass:\"element-studio-default-properties-preview\"},[_vm._v(_vm._s(_vm.value))]),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Set Default Properties \")]),_c('v-card-text',[_vm._v(\" Set default properties for \"+_vm._s(_vm.elementSlug)+\" to:\"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.defaultProperties)+\" \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" cancel \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.confirmDefaultProperties}},[_vm._v(\" confirm \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioDefaultProperties extends Vue {\n  @Prop()\n  value!: unknown | false; // BuilderElementDefaultPropertiesV is unknown\n\n  @Prop()\n  elementSlug!: string;\n\n  dialogOpen = false;\n\n  defaultProperties = this.value;\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.elementSlug;\n  }\n\n  cancel() {\n    this.dialogOpen = false;\n  }\n\n  importDefaultProperties() {\n    if (!uiStore.activeElement) return;\n    if (uiStore.activeElement.data.type !== this.elementSlug) return;\n\n    const defaultProperties = defensiveCopy(\n      uiStore.activeElement.data.properties\n    );\n\n    if (defaultProperties) {\n      if (\"settings\" in defaultProperties) {\n        delete defaultProperties.settings;\n      }\n\n      if (\"meta\" in defaultProperties) {\n        delete defaultProperties.meta;\n      }\n    }\n\n    this.defaultProperties = defaultProperties;\n\n    this.dialogOpen = true;\n  }\n\n  confirmDefaultProperties() {\n    this.dialogOpen = false;\n    this.$emit(\"input\", this.defaultProperties);\n  }\n\n  clearDefaultProperties() {\n    if (confirm(\"are you sure?\")) {\n      this.$emit(\"input\", false);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultProperties.vue?vue&type=template&id=1ac94d7a&\"\nimport script from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VSpacer})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"","import { Control, ControlType } from \"./controls\";\nimport { PropertiesData, TreeNodeV } from \"./tree\";\nimport * as t from \"io-ts\";\nimport { GlobalColorsV } from \"@/types/colors\";\nimport { TypographyPresetV } from \"@/types/typography\";\n\n// Builder\nexport type ClipboardStatus = {\n  secure: boolean;\n  permission: PermissionStatus;\n};\n\nexport const ClipboardDataV = t.type({\n  source: t.string,\n  colors: GlobalColorsV,\n  presets: t.array(TypographyPresetV),\n  element: TreeNodeV\n});\n\nexport type ClipboardData = t.TypeOf<typeof ClipboardDataV>;\n\n// Element Studio\nexport type CopiedControl = {\n  value: unknown;\n  type: ControlType;\n};\n\nexport type CopiedElementDesignAndSettings = {\n  design: PropertiesData;\n  settings: PropertiesData;\n  elementTypeSlug: string;\n};\n\ntype ElementStudioClipboard = {\n  copiedControl: false | Control;\n};\n\nexport type Clipboard = {\n  copiedControlData: false | CopiedControl;\n  copiedElementDesignAndSettings: false | CopiedElementDesignAndSettings;\n  elementStudio: false | ElementStudioClipboard;\n};\n","import lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { GlobalColor } from \"@/types/colors\";\nimport { extractVariableName } from \"@/lib/colors/colors\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { TreeNode } from \"@/types/tree\";\nimport { ClipboardData } from \"@/types/copy-paste\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { TypographyPreset } from \"@/types/typography\";\n\nfunction getPathsByType(type: ControlType, element: BuilderElement) {\n  const addPathToAccumulator = (\n    control: Control,\n    parentPath: string,\n    acc: string[]\n  ) => {\n    const curPath = `${parentPath}.${control.slug}`;\n\n    if (type === control.options.type) {\n      acc.push(curPath);\n    }\n\n    control.children.forEach(control => {\n      acc = addPathToAccumulator(control, curPath, acc);\n    });\n\n    return acc;\n  };\n\n  const paths: string[] = [];\n\n  element.controls.contentSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"content\", paths));\n  });\n\n  element.controls.designSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"design\", paths));\n  });\n\n  return paths;\n}\n\nfunction moveExternalSiteGlobalsIntoElement(\n  node: TreeNode,\n  copiedPresets: TypographyPreset[],\n  copiedColors: GlobalColor[]\n) {\n  const element = defensiveCopy(node);\n  const builderElement = configStore.element(element.data.type);\n\n  /*\n   * Typography Presets\n   */\n  const typographyPresets = getPathsByType(\"typography\", builderElement);\n\n  typographyPresets.forEach(path => {\n    const presetId = lodash.get(element.data.properties, `${path}.preset`);\n\n    if (!presetId) return;\n\n    const foundCopiedPreset = maybeImportTypographyPresetFromClipboard(\n      copiedPresets,\n      presetId\n    );\n\n    if (foundCopiedPreset) {\n      lodash.set(element.data.properties, path, {\n        custom: foundCopiedPreset.custom\n      });\n    }\n  });\n\n  /*\n   * Colors\n   */\n  const colorPaths = getPathsByType(\"color\", builderElement);\n\n  const maybeUpdateColor = (path: string, color: string) => {\n    const foundCopiedColor = maybeImportColorFromClipboard(copiedColors, color);\n\n    if (foundCopiedColor) {\n      lodash.set(element.data.properties, path, foundCopiedColor.value);\n    }\n  };\n\n  colorPaths.forEach(path => {\n    const color = lodash.get(element.data.properties, path);\n\n    if (!color) return;\n\n    if (lodash.isObject(color)) {\n      // Breakpoint values\n      for (const property in color) {\n        // @ts-ignore\n        maybeUpdateColor(`${path}.${property}`, color[property]);\n      }\n    } else {\n      maybeUpdateColor(path, color);\n    }\n  });\n\n  return element;\n}\n\nexport function importClipboardMetadataToElement(\n  clipboardData: ClipboardData\n): TreeNode {\n  const recursiveImport = (element: TreeNode): TreeNode => {\n    const newElement = moveExternalSiteGlobalsIntoElement(\n      element,\n      clipboardData.presets,\n      clipboardData.colors\n    );\n\n    const children = element.children.map(recursiveImport);\n\n    return {\n      ...newElement,\n      children\n    };\n  };\n\n  return recursiveImport(clipboardData.element);\n}\n\nexport function exportClipboardMetadataFromElement(\n  element: TreeNode\n): ClipboardData {\n  // const recursiveExport = (\n  //   element: TreeNode\n  // ): { colors: GlobalColor[]; presets: TypographyPreset[] } => {\n  //   const colors = extractGlobalColorsFromElement(element);\n  //   const presets = extractTypographyPresetsFromElement(element);\n\n  //   const children = element.children.map(recursiveExport).reduce(\n  //     (a, b) => {\n  //       return {\n  //         colors: [...a.colors, ...b.colors],\n  //         presets: [...a.presets, ...b.presets]\n  //       };\n  //     },\n  //     { colors: [], presets: [] }\n  //   );\n\n  //   return {\n  //     colors: [...colors, ...children.colors],\n  //     presets: [...presets, ...children.presets]\n  //   };\n  // };\n\n  const source = location.hostname;\n  // const { colors, presets } = recursiveExport(element);\n\n  return {\n    source,\n    element,\n    colors: [], //arrayUniqueByKey<GlobalColor>(colors, \"cssVariableName\"),\n    presets: [] //arrayUniqueByKey<TypographyPreset>(presets, \"preset.id\")\n  };\n}\n\n// Typography\n\nconst maybeImportTypographyPresetFromClipboard = (\n  copiedPresets: TypographyPreset[],\n  presetIdToCopy: string\n) => {\n  if (isPresetInGlobalPresets(presetIdToCopy)) return;\n  return copiedPresets.find(t => t.preset.id === presetIdToCopy);\n};\n\nexport function extractTypographyPresetsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"typography\", builderElement)\n    .map(path => {\n      return lodash.get(element.data.properties, `${path}.preset`);\n    })\n    .filter(path => !!path)\n    .map(isPresetInGlobalPresets)\n    .filter(isGlobalPreset);\n}\n\nfunction isPresetInGlobalPresets(presetId: string) {\n  return globalStore.typographyPresets?.find(x => x.preset.id === presetId);\n}\n\nfunction isGlobalPreset(preset?: TypographyPreset): preset is TypographyPreset {\n  return preset !== undefined;\n}\n\n// Colors\n\nfunction maybeImportColorFromClipboard(\n  copiedColors: GlobalColor[],\n  color: string\n) {\n  if (!isCssVar(color) || (isCssVar(color) && isColorInGlobalColors(color))) {\n    return;\n  }\n\n  const cssVar = extractVariableName(color);\n  return copiedColors.find(c => c.cssVariableName === cssVar);\n}\n\nexport function extractGlobalColorsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"color\", builderElement)\n    .map(path => lodash.get(element.data.properties, path))\n    .filter(color => !!color)\n    .map(maybeMapColorsObjectToArray)\n    .flat()\n    .filter(onlyUnique)\n    .filter(isCssVar)\n    .map(extractVariableName)\n    .map(maybeGetGlobalColorByName)\n    .filter(isGlobalColor);\n}\n\nfunction isCssVar(color: unknown) {\n  return typeof color === \"string\" && color.startsWith(\"var(\");\n}\n\nfunction isColorInGlobalColors(color: string) {\n  const name = extractVariableName(color);\n  return globalStore.globalColors.find(x => x.cssVariableName === name);\n}\n\nfunction maybeMapColorsObjectToArray(\n  maybeObject: Record<string, string> | string\n): string | string[] {\n  return lodash.isObject(maybeObject)\n    ? Object.values(maybeObject)\n    : maybeObject;\n}\n\nfunction isGlobalColor(color?: GlobalColor): color is GlobalColor {\n  return color !== undefined;\n}\n\nfunction maybeGetGlobalColorByName(color: string | null) {\n  return globalStore.globalColors.find(x => x.cssVariableName === color);\n}\n\nfunction onlyUnique(value: unknown, index: number, self: unknown[]) {\n  return self.indexOf(value) === index;\n}\n\n// function arrayUniqueByKey<T>(array: Array<T>, key: string) {\n//   return [\n//     ...new Map(array.map(item => [lodash.get(item, key), item])).values()\n//   ];\n// }\n","import { exportNode, findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport { fold, isRight } from \"fp-ts/lib/Either\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  findPlaceToAddNodes,\n  getDefaultTopLevelElementSlug,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport lodash from \"lodash\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { EasyEvent } from \"@/util/easy-event\";\nimport {\n  documentHasSelection,\n  fallbackWriteToClipboard,\n  getClipboardStatus\n} from \"@/lib/copy-paste/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { ClipboardDataV } from \"@/types/copy-paste\";\nimport {\n  exportClipboardMetadataFromElement,\n  importClipboardMetadataToElement\n} from \"@/lib/copy-paste/element\";\n\nconst clipboardEvents = new EasyEvent();\n\nexport function registerClipboardShortcuts() {\n  return {\n    register() {\n      clipboardEvents.on(\"copy\", onNativeEventReceived);\n      clipboardEvents.on(\"cut\", onNativeEventReceived);\n      clipboardEvents.on(\"paste\", onNativeEventReceived);\n    },\n    unbind() {\n      clipboardEvents.removeAll();\n    }\n  };\n}\n\nfunction onNativeEventReceived(event: ClipboardEvent) {\n  const iframeDoc = window.Breakdance.canvas.document;\n  const hasSelection =\n    documentHasSelection(iframeDoc) || documentHasSelection(document);\n\n  if (hasSelection) return;\n\n  event.preventDefault();\n\n  if (event.type === \"copy\" && uiStore.activeElementId) {\n    copyElement(uiStore.activeElementId);\n  } else if (event.type === \"cut\" && uiStore.activeElementId) {\n    cutElement(uiStore.activeElementId);\n  } else if (event.type === \"paste\") {\n    pasteElement(uiStore.activeElementId, event);\n  }\n}\n\nasync function determinePastingMethod(event?: ClipboardEvent) {\n  const { secure, permission } = await getClipboardStatus();\n\n  // @ts-ignore\n  if (event && !window.safari) return \"event\"; // Safari behaves strangely on non-ssl websites.\n  if (!secure) return \"localstorage\";\n  if (permission.state === \"denied\") return \"localstorage\";\n\n  return \"clipboard\";\n}\n\nasync function writeToClipboard(text: string) {\n  try {\n    await navigator.clipboard.writeText(text);\n    console.debug(\"Writing to clipboard\");\n  } catch (err) {\n    fallbackWriteToClipboard(text);\n    console.debug(\"Fallback: Writing to clipboard\");\n  }\n\n  writeToLocalStorage(\"breakdance_copied_element_json_string\", text);\n}\n\nasync function readFromClipboard(event?: ClipboardEvent) {\n  const eventText = event?.clipboardData?.getData(\"text\");\n  const method = await determinePastingMethod(event);\n  console.debug(`Reading clipboard from ${method}`);\n\n  // Accessing the clipboard from a native event requires no permission\n  if (method === \"event\") {\n    return eventText;\n  }\n\n  if (method === \"localstorage\") {\n    return readFromLocalStorage(\"breakdance_copied_element_json_string\");\n  }\n\n  return await navigator.clipboard.readText();\n}\n\nexport async function getElementFromClipboard(\n  event?: ClipboardEvent\n): Promise<TreeNode | null> {\n  const elementAsJsonString = await readFromClipboard(event);\n\n  if (!elementAsJsonString) return null;\n\n  const maybeClipboardData = fpJsonParseTypesafe(\n    elementAsJsonString,\n    ClipboardDataV\n  );\n\n  return pipe(\n    maybeClipboardData,\n    fold(\n      () => null,\n      clipboardData => {\n        console.debug(\"Got element from clipboard\", clipboardData);\n        return importClipboardMetadataToElement(clipboardData);\n      }\n    )\n  );\n}\n\nexport function copyElement(elementId: number) {\n  const elementToCopy = findNode(documentStore.document.tree, elementId);\n  if (!elementToCopy) return;\n\n  const exportedElement = exportNode(elementToCopy);\n\n  const exportedElementWithMetadata = exportClipboardMetadataFromElement(\n    exportedElement\n  );\n\n  pipe(\n    exportedElementWithMetadata,\n    fpJsonStringify,\n    fold(\n      e =>\n        console.error(\n          \"Failed to copy element\",\n          ...e.map(err => err.toString())\n        ),\n      exportedElementAsJsonString => {\n        writeToClipboard(exportedElementAsJsonString);\n      }\n    )\n  );\n}\n\nexport function cutElement(elementId: number) {\n  copyElement(elementId);\n  documentStore.deleteElement({ nodeId: elementId });\n}\n\nexport async function pasteElement(\n  elementIdToPasteNodesIntoOrNear: number | null,\n  event?: ClipboardEvent\n) {\n  const elementToPaste = await getElementFromClipboard(event);\n\n  if (!elementToPaste) return;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  /**\n   * Snapshot bundling is required in order to merge the following\n   * mutations into a single snapshot:\n   *\n   * a) documentStore.addElementMutation(), documentStore.pasteCopiedElementMutation()\n   * b) mutations that are made by breakdanceStoreActions.run.onCreatedElement()\n   *\n   * Some mutations made by breakdanceStoreActions.onCreatedElement are async,\n   * meaning they won't be included into this specific transaction.\n   *\n   * The transactionKey is passed to breakdanceStoreActions.run.onCreatedElement(), so\n   * any transactions executed by the appropriate actions will use it in order to emerge\n   * changes made by those transactions into a single snapshot generated by this specific transaction.\n   *\n   * We don't know the node ID for the pasted element yet.\n   * Instead, a random number is included into the transactionKey\n   */\n  const uniqueId = uuidV4();\n  const transactionKey = `Paste:${uniqueId}`;\n\n  pipe(\n    placeToAdd,\n    fold(\n      () => {},\n      legalPlaceToAdd => {\n        if (legalPlaceToAdd === \"TOP_LEVEL\") {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.addElementMutation({\n                elementSlug: getDefaultTopLevelElementSlug(),\n                parentNodeId: documentStore.document.tree.root.id,\n                index: false,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId !== undefined) {\n                documentStore.pasteCopiedElementMutation({\n                  element: elementToPaste,\n                  placeToAddId: pointerForCreatedNodeId.nodeId,\n                  placeToAddIndex: 0\n                });\n\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: elementToPaste.id,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )} into a new section`,\n            transactionKey\n          );\n        } else {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )}`,\n            transactionKey\n          );\n        }\n      }\n    )\n  );\n}\n\nexport async function pasteElementProperties(\n  elementIdToPastePropertiesTo: number,\n  path: \"design\" | \"content\" | \"settings\" = \"design\"\n) {\n  const elementToCopyPropertiesFrom = await getElementFromClipboard();\n\n  if (!elementToCopyPropertiesFrom) return;\n\n  const elementToPastePropertiesTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  if (!elementToPastePropertiesTo) return;\n\n  const copiedProperties = lodash.get(\n    elementToCopyPropertiesFrom.data.properties,\n    path,\n    null\n  );\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  if (\n    elementToCopyPropertiesFrom.data.type ===\n    elementToPastePropertiesTo.data.type\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: elementToPastePropertiesTo.id,\n      path: path,\n      value: defensiveCopy(copiedProperties),\n      meta: {\n        snapshotLabel: `Paste properties of ${getBuilderElementNameBySlug(\n          elementToCopyPropertiesFrom.data.type\n        )} to ${getBuilderElementNameBySlug(\n          elementToPastePropertiesTo.data.type\n        )}`\n      }\n    });\n  }\n}\n\nexport async function canPasteElement(elementIdToPasteNodesIntoOrNear: number) {\n  const elementToPaste = await getElementFromClipboard();\n\n  if (!elementToPaste) return false;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  return isRight(placeToAdd);\n}\n\nexport async function canPasteElementProperties(\n  elementIdToPastePropertiesTo: number\n) {\n  const element = await getElementFromClipboard();\n\n  if (!element) return false;\n\n  const elementToPasteTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  return element.data.type === elementToPasteTo?.data.type;\n}\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}